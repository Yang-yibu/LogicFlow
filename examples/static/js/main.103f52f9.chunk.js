/*! For license information please see main.103f52f9.chunk.js.LICENSE.txt */
(this.webpackJsonpexamples=this.webpackJsonpexamples||[]).push([[0],{129:function(e,t,r){},150:function(e,t,r){},151:function(e,t,r){},152:function(e,t,r){},223:function(e,t,r){},224:function(e,t,r){},225:function(e,t,r){},226:function(e,t,r){"use strict";r.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABqUlEQVQ4T92Uv0tbURTHPyevUwc3qUshU/8DBzOYmwiFDlK6dHKwVHBwUKjUoleS4Ku0UkEHB6HSDp1cpHRwSnKz1KH/QaeAS0txcXDy5ciNL5LEF4k/oOBZHvfdcz/33O/53ivccUgvnrFaBAo95ksuFD9/Kf4LMOdCcb4UY9UAVeBWFd5XoHmnaQIKCOm21nnNko7c1LQZSp2IkvsgdT+86PLYoj6KUvzp8sGvIGCiXJLf/v9YQZ9EEd+A4fa8oMFQeVX+dgD9IG8134CvwGMV1morspDkteyyfhTlLXCYgslKKJVW3iUfxlV46Aiw40KZaocaq5+B18BBEDDZqv4CmLO6pnDS7vzxoj48PuWLwEuU7ymY8QsasIXwXGF34AGvfhTlpAUatfo0BRkxVhVwLpRc9/GM1U/AG4WfsT4ZYN2FMp+Q6w1vrgTGt2MW2IgBcy6UzSRdjdX+gH5xdlGf+W9tVfaTYPHG/QN7QbqadQ7MWj0S5ZiIXMuc/QA6YOeXoqrCgNfwqnfvuuxS04fZJd0W4QUweF1CnP9Plb3ae5nu+cDeEMwZu/TFGsleoRIAAAAASUVORK5CYII="},227:function(e,t,r){"use strict";r.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAB80lEQVQ4T62SP2hTURTGf997Qx1F1EFQ61DpWAcHhyY3zrpp0EEoaEGnuta80MSXttBRhw4W2iC6xEWdCsJ7qf/G6uCgg3TQRaE6OEmSI+/ZFBJjU9p804V7z+9+55xPDFgaMA+5wC5g3EcM7xP+AXiiXGCPDD4B9X0CncRk4jCSKEWhUqALzJlxOTlL1OKK4t18lNQBUQfQzdhBmkTAe8Fvg7P45OKyfvaD9gRmC3ZVHnNxqFMJIBtY1ROrUajH/YC5omXNiDsd3rExPNbNyEt8B57TYjye07s9AdMZFm0RYyIFiJU41K1esLRFn1dxWY3kvqfDduH4tB1Jzi/nlbjsUCawEQ8WgBHE5yGPidWyNncEZgp23BPX8VmKy/rSJrqi3cSYB576PgutJsst+GVwwxcn/pnhlvW8GRXgq8FpjNv1WdVcYDXgksRUFOpe8vZ8wU62xAowJDG9DQTK33zeHG2mrUxhFONZVVzBAkQI/ACa5pGv31USq225kh22BlXBMWAs3XIC5O9cDpm4Vg/1tl2RLdo5jBeCTYkrUajX3XN1M3aAJg/TDraADrEUh5r8XzxcwZ4hLgpGo4o+dr/rXsqD3YQ3U7Qza6HWe33aAaRFFY+NfuHd8b7FMB7LciUbpcEakGZvzzI2ULqcwWrgwD/S1/2fF41d/wAAAABJRU5ErkJggg=="},228:function(e,t,r){"use strict";r.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABMUlEQVQ4T+XUsUrEQBCA4X8MCD6Cr6DPIOawFiy8gE9ga62BM7D6Aj6CYOHZnaAg6h62Yqed7dmKnUUYmbARDafZwBWCWyWb2W9nZ3cjzLjJjD2iwZVdXbw7lJe2BKLANNcUSOfg+MbJ82/oN7CX64nCVhjgvZNewG6tT+FhPmH9qpBJmqtanwgTVba9k/Pq/etsdRBQhOCRKvfAI7AcYsckbFCyE94HFu+d7P8EVh/XBrpUllwCb8AZMFAlE+EUYbTwSv/iSN5DEu1gmqvNuJkkZGVJZqB3Iqt72jfU8PGBDKNBS9+yvC7kKeAVaP2GGmbPncC6vk1wSt3bl9wYZMv/zPAfgKH4qXfim7ckZlOG3okdk6gWA0ZBjaDpuxwObX3FusB276tyRP1tush/H/wANP7LFUnxl7EAAAAASUVORK5CYII="},229:function(e,t,r){},230:function(e,t,r){},231:function(e,t,r){},232:function(e,t,r){},233:function(e,t,r){},236:function(e,t,r){},237:function(e,t,r){},238:function(e,t,r){},239:function(e,t,r){},243:function(e,t,r){},244:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),i=r(30),a=r.n(i),c=r(114),u=(r(150),r(29)),s=r(8),l=r(5),f=r.n(l),p=(r(151),r(141)),d=r(138),h=r(251),y=(r(152),r(1));function v(e){return Object(y.jsxs)("div",{className:"example-header",children:[Object(y.jsxs)("div",{className:"content",style:e.contentStyle,children:[Object(y.jsx)("span",{className:"content-text",children:e.content}),e.children]}),Object(y.jsx)("div",{className:"tools",children:e.githubPath?Object(y.jsx)(p.a,{arrowPointAtCenter:!0,placement:"bottomRight",title:"\u5728 Github \u4e2d\u67e5\u770b",children:Object(y.jsx)(d.a,{type:"text",shape:"circle",target:"_blank",href:"https://github.com/didi/LogicFlow/tree/master/examples/src/pages"+e.githubPath,icon:Object(y.jsx)(h.a,{})})}):null})]})}var b={stopScrollGraph:!0,stopZoomGraph:!0,grid:{type:"dot",size:20}},g={nodes:[{id:50,type:"rect",x:100,y:150,text:"\u4f60\u597d"},{id:21,type:"circle",x:300,y:150}],edges:[{type:"polyline",sourceNodeId:50,targetNodeId:21}]};var m=r(12),O=r(20),x=r(14),w=r(13),_=(r(223),function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(e){var n;return Object(m.a)(this,r),(n=t.call(this,e)).state={shapeList:[{type:"rect",text:"\u77e9\u5f62"},{type:"circle",text:"\u5706\u5f62"}]},n}return Object(O.a)(r,[{key:"mouseDown",value:function(e){var t=e.type,r=e.text;(0,this.props.mouseDownHandle)({type:t,text:r})}},{key:"render",value:function(){var e=this,t=this.state.shapeList;return Object(y.jsx)("div",{className:"panel",children:t.map((function(t){var r=t.type,n=t.text;return Object(y.jsxs)("div",{className:"panel-item",children:[Object(y.jsx)("div",{className:"panel-".concat(r),onMouseDown:function(){e.mouseDown(t)}}),Object(y.jsx)("span",{children:n})]},r)}))})}}]),r}(n.Component)),j=(r(224),function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(){var e;Object(m.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lf=void 0,e.mouseDownHandle=function(t){e.lf.dnd.startDrag(t)},e}return Object(O.a)(r,[{key:"componentDidMount",value:function(){this.lf=new f.a({container:document.querySelector("#graph"),stopScrollGraph:!0,stopZoomGraph:!0}),this.lf.render()}},{key:"render",value:function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u62d6\u62fd\u9762\u677f\u4e0a\u7684\u56fe\u5f62\u751f\u6210\u8282\u70b9",githubPath:"/basic/dnd/index.tsx"}),Object(y.jsxs)("div",{className:"dnd-example-container",children:[Object(y.jsx)(_,{mouseDownHandle:this.mouseDownHandle}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})]})}}]),r}(n.Component)),E=(r(75),r(225),{isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0}),S={nodes:[{id:10,type:"rect",x:100,y:100,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:400,y:100,text:"\u4f60\u597d\uff01"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,endPoint:{id:"150-150",x:350,y:100}}]},P=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(e){var n;return Object(m.a)(this,r),(n=t.call(this,e)).dotlf=void 0,n.meshlf=void 0,n.handleClick=function(e){e!==n.state.currentGrid&&n.setState({currentGrid:e})},n.dotlf=null,n.meshlf=null,n.state={currentGrid:"dot"},n}return Object(O.a)(r,[{key:"componentDidMount",value:function(){this.dotlf=new f.a(Object(s.a)(Object(s.a)({},E),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graphDot")})),this.meshlf=new f.a(Object(s.a)(Object(s.a)({},E),{},{grid:{size:10,type:"mesh"},container:document.querySelector("#graphMesh")})),this.dotlf.render(S),this.meshlf.render(S)}},{key:"render",value:function(){var e=this,t=this.state.currentGrid;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{githubPath:"/basic/grid/index.tsx",children:["\u7f51\u683c\u7c7b\u578b\uff1a",Object(y.jsx)(d.a,{onClick:function(){e.handleClick("dot")},children:"Dot"}),Object(y.jsx)(d.a,{onClick:function(){e.handleClick("mesh")},children:"Mesh"})]}),Object(y.jsx)("div",{id:"graphDot",className:"viewport example-grid-".concat("dot"===t?"visible":"hidden")}),Object(y.jsx)("div",{id:"graphMesh",className:"viewport example-grid-".concat("mesh"===t?"visible":"hidden")})]})}}]),r}(n.Component),A={isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0,style:{rect:{width:100,height:50}}},k={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"}]};var N=r(34),D=r(96),M=new D.a([32,32,1]);function T(){return M.next()}var C=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),R=function(){return(R=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},I=function(e){function t(t,r){return t.id||(t.id="Event_"+T()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),e.call(this,t,r)||this}return C(t,e),t.prototype.getConnectedTargetRules=function(){var t=e.prototype.getConnectedTargetRules.call(this);return t.push({message:"\u8d77\u59cb\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fde\u7ebf\u7684\u7ec8\u70b9",validate:function(){return!1}}),t},t.extendKey="StartEventModel",t}(l.CircleNodeModel),L={type:"bpmn:startEvent",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return C(t,e),t.prototype.getAttributes=function(){var t=e.prototype.getAttributes.call(this);return R({},t)},t.extendKey="StartEventNode",t}(l.CircleNode),model:I},z=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),B=function(e){function t(t,r){return t.id||(t.id="Event_"+T()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),e.call(this,t,r)||this}return z(t,e),t.prototype.getConnectedSourceRules=function(){var t=e.prototype.getConnectedSourceRules.call(this);return t.push({message:"\u7ed3\u675f\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fde\u7ebf\u7684\u8d77\u70b9",validate:function(){return!1}}),t},t.extendKey="EndEventModel",t}(l.CircleNodeModel),G={type:"bpmn:endEvent",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},t.prototype.getShape=function(){var t=this.getAttributes(),r=t.x,n=t.y,o=t.fill,i=t.stroke,a=t.strokeWidth,c=t.r,u=e.prototype.getShape.call(this);return Object(l.h)("g",{},u,Object(l.h)("circle",{cx:r,cy:n,fill:o,stroke:i,strokeWidth:a,r:c-5}))},t.extendKey="EndEventView",t}(l.CircleNode),model:B},F=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),U=function(e){function t(t,r){var n=this;return t.id||(t.id="Gateway_"+T()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),(n=e.call(this,t,r)||this).points=[[25,0],[50,25],[25,50],[0,25]],n}return F(t,e),t.extendKey="ExclusiveGatewayModel",t}(l.PolygonNodeModel),X={type:"bpmn:exclusiveGateway",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return F(t,e),t.prototype.getShape=function(){var t=e.prototype.getAttributes.call(this),r=t.x,n=t.y,o=t.fill,i=t.stroke,a=t.strokeWidth,c=t.width,u=t.height,s=t.points;return Object(l.h)("g",{transform:"matrix(1 0 0 1 "+(r-c/2)+" "+(n-u/2)+")"},Object(l.h)("polygon",{fill:o,x:r,y:n,stroke:i,strokeWidth:a,points:s}),Object(l.h)("path",{fill:o,stroke:i,strokeWidth:a,d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"}))},t.extendKey="ExclusiveGatewayNode",t}(l.PolygonNode),model:U},H=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y=function(e){function t(t,r){return t.id||(t.id="Activity_"+T()),e.call(this,t,r)||this}return H(t,e),t.extendKey="UserTaskModel",t}(l.RectNodeModel),V={type:"bpmn:userTask",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return H(t,e),t.prototype.getLabelShape=function(){var t=e.prototype.getAttributes.call(this),r=t.x,n=t.y,o=t.width,i=t.height,a=t.stroke;return Object(l.h)("svg",{x:r-o/2+5,y:n-i/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Object(l.h)("path",{fill:a,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},t.prototype.getShape=function(){var t=e.prototype.getAttributes.call(this),r=t.x,n=t.y,o=t.width,i=t.height,a=t.fill,c=t.stroke,u=t.strokeWidth,s=t.radius;return Object(l.h)("g",{},[Object(l.h)("rect",{x:r-o/2,y:n-i/2,rx:s,ry:s,fill:a,stroke:c,strokeWidth:u,width:o,height:i}),this.getLabelShape()])},t.extendKey="UserTaskNode",t}(l.RectNode),model:Y},W=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),K=function(e){function t(t,r){return t.id||(t.id="Activity_"+T()),e.call(this,t,r)||this}return W(t,e),t.extendKey="ServiceTaskModel",t}(l.RectNodeModel),Z={type:"bpmn:serviceTask",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t.prototype.getLabelShape=function(){var t=e.prototype.getAttributes.call(this),r=t.x,n=t.y,o=t.width,i=t.height,a=t.stroke;return Object(l.h)("svg",{x:r-o/2+5,y:n-i/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Object(l.h)("path",{fill:a,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},t.prototype.getShape=function(){var t=e.prototype.getAttributes.call(this),r=t.x,n=t.y,o=t.width,i=t.height,a=t.fill,c=t.stroke,u=t.strokeWidth,s=t.radius;return Object(l.h)("g",{},[Object(l.h)("rect",{x:r-o/2,y:n-i/2,rx:s,ry:s,fill:a,stroke:c,strokeWidth:u,width:o,height:i}),this.getLabelShape()])},t.extendKey="ServiceTaskNode",t}(l.RectNode),model:K},q=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q=function(e){function t(t,r){return t.id||(t.id="Flow_"+T()),e.call(this,t,r)||this}return q(t,e),t.extendKey="SequenceFlowModel",t}(l.PolylineEdgeModel),J={type:"bpmn:sequenceFlow",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return q(t,e),t.extendKey="SequenceFlowEdge",t}(l.PolylineEdge),model:Q},$=40,ee=40,te=40,re=40,ne=40,oe=40,ie=100,ae=80,ce=100,ue=80,se={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},le=function(){function e(e){var t=e.lf;t.setTheme(se),t.register(L),t.register(G),t.register(X),t.register(V),t.register(Z),t.register(J),t.setDefaultEdgeType("bpmn:sequenceFlow")}return e.pluginName="BpmnElement",e}(),fe={pluginName:"snapshot",install:function(e){var t=this;this.lf=e,this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,e.getSnapshot=function(r,n){t.fileName=r||"logic-flow."+Date.now()+".png";var o=t.getSvgRootElement(e);t.downloadSvg(o,t.fileName,n)},e.getSnapshotBlob=function(r){var n=t.getSvgRootElement(e);return t.getBlob(n,r)},e.getSnapshotBase64=function(r){var n=t.getSvgRootElement(e);return t.getBase64(n,r)}},getSvgRootElement:function(e){var t=this;return e.graphModel.nodes.forEach((function(e){var r=e.x-e.width/2,n=e.y-e.height/2;r<t.offsetX&&(t.offsetX=r-5),n<t.offsetY&&(t.offsetY=n-5)})),e.graphModel.edges.forEach((function(e){e.pointsList&&e.pointsList.forEach((function(e){var r=e.x,n=e.y;r<t.offsetX&&(t.offsetX=r-5),n<t.offsetY&&(t.offsetY=n-5)}))})),e.container.querySelector("svg")},triggerDownload:function(e){var t=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),r=document.createElement("a");r.setAttribute("download",this.fileName),r.setAttribute("href",e),r.setAttribute("target","_blank"),r.dispatchEvent(t)},removeAnchor:function(e){for(var t=e.childNodes,r=e.childNodes&&e.childNodes.length,n=0;n<r;n++){var o=t[n];(o.classList&&Array.from(o.classList)||[]).indexOf("lf-anchor")>-1&&(e.removeChild(e.childNodes[n]),r--,n--)}},downloadSvg:function(e,t,r){var n=this;this.getCanvasData(e,r).then((function(e){var r=e.toDataURL("image/png").replace("image/png","image/octet-stream");n.triggerDownload(r,t)}))},getBase64:function(e,t){var r=this;return new Promise((function(n){r.getCanvasData(e,t).then((function(e){var t=e.toDataURL("image/png");n({data:t,width:e.width,height:e.height})}))}))},getBlob:function(e,t){var r=this;return new Promise((function(n){r.getCanvasData(e,t).then((function(e){e.toBlob((function(t){n({data:t,width:e.width,height:e.height})}),"image/png")}))}))},getCanvasData:function(e,t){var r=this,n=e.cloneNode(!0),o=n.lastChild,i=o.childNodes&&o.childNodes.length;if(i)for(var a=0;a<i;a++){var c=o.childNodes[a],u=c.classList&&Array.from(c.classList);if(u&&u.indexOf("lf-base")<0)o.removeChild(o.childNodes[a]),i--,a--;else{var s=o.childNodes[a];s&&s.childNodes.forEach((function(e){var t=e;r.removeAnchor(t.firstChild)}))}}n.lastChild.style.transform="matrix(1, 0, 0, 1, "+(10-this.offsetX)+", "+(10-this.offsetY)+")";var l=window.devicePixelRatio||1,f=document.createElement("canvas"),p=document.getElementsByClassName("lf-base")[0].getBoundingClientRect(),d=this.lf.graphModel.transformMatrix,h=d.SCALE_X,y=d.SCALE_Y,v=Math.ceil(p.width/h),b=Math.ceil(p.height/y);f.style.width=v+"px",f.style.height=b+"px",f.width=v*l+80,f.height=b*l+80;var g=f.getContext("2d");g.scale(l,l),t?(g.fillStyle=t,g.fillRect(0,0,v*l+80,b*l+80)):g.clearRect(0,0,v,b);var m=new Image;return new Promise((function(e){m.onload=function(){g.drawImage(m,0,0),e(f)};var t=("data:image/svg+xml;charset=utf-8,"+(new XMLSerializer).serializeToString(n)).replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");m.src=t}))}},pe=new D.a([32,32,1]);function de(){return pe.next()}var he=function(){};(he.ObjTree=function(){return this}).VERSION="0.23",he.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',he.ObjTree.prototype.attr_prefix="-",he.ObjTree.prototype.parseXML=function(e){var t;if(window.DOMParser){var r=new DOMParser,n=r.parseFromString(e,"application/xml");if(!n)return;t=n.documentElement}else window.ActiveXObject&&((r=new ActiveXObject("Microsoft.XMLDOM")).async=!1,r.loadXML(e),t=r.documentElement);if(t)return this.parseDOM(t)},he.ObjTree.prototype.parseHTTP=function(e,t,r){var n,o={};for(var i in t)o[i]=t[i];if(o.method||("undefined"==typeof o.postBody&&"undefined"==typeof o.postbody&&"undefined"==typeof o.parameters?o.method="get":o.method="post"),r){o.asynchronous=!0;var a=this,c=r,u=o.onComplete;o.onComplete=function(e){var t;e&&e.responseXML&&e.responseXML.documentElement&&(t=a.parseDOM(e.responseXML.documentElement)),c(t,e),u&&u(e)}}else o.asynchronous=!1;if("undefined"!=typeof HTTP&&HTTP.Request)o.uri=e,(s=new HTTP.Request(o))&&(n=s.transport);else if("undefined"!=typeof Ajax&&Ajax.Request){var s;(s=new Ajax.Request(e,o))&&(n=s.transport)}return r?n:n&&n.responseXML&&n.responseXML.documentElement?this.parseDOM(n.responseXML.documentElement):void 0},he.ObjTree.prototype.parseDOM=function(e){if(e){if(this.__force_array={},this.force_array)for(var t=0;t<this.force_array.length;t++)this.__force_array[this.force_array[t]]=1;var r=this.parseElement(e);if(this.__force_array[e.nodeName]&&(r=[r]),11!=e.nodeType){var n={};n[e.nodeName]=r,r=n}return r}},he.ObjTree.prototype.parseElement=function(e){if(7!=e.nodeType){if(3==e.nodeType||4==e.nodeType){if(null==e.nodeValue.match(/[^\x00-\x20]/))return;return e.nodeValue}var t,r={};if(e.attributes&&e.attributes.length){t={};for(var n=0;n<e.attributes.length;n++){if("string"==typeof(a=e.attributes[n].nodeName))(c=e.attributes[n].nodeValue)&&("undefined"==typeof r[a=this.attr_prefix+a]&&(r[a]=0),r[a]++,this.addNode(t,a,r[a],c))}}if(e.childNodes&&e.childNodes.length){var o=!0;t&&(o=!1);for(n=0;n<e.childNodes.length&&o;n++){var i=e.childNodes[n].nodeType;3!=i&&4!=i&&(o=!1)}if(o){t||(t="");for(n=0;n<e.childNodes.length;n++)t+=e.childNodes[n].nodeValue}else{t||(t={});for(n=0;n<e.childNodes.length;n++){var a,c;if("string"==typeof(a=e.childNodes[n].nodeName))(c=this.parseElement(e.childNodes[n]))&&("undefined"==typeof r[a]&&(r[a]=0),r[a]++,this.addNode(t,a,r[a],c))}}}return t}},he.ObjTree.prototype.addNode=function(e,t,r,n){this.__force_array[t]?(1==r&&(e[t]=[]),e[t][e[t].length]=n):1==r?e[t]=n:2==r?e[t]=[e[t],n]:e[t][e[t].length]=n},he.ObjTree.prototype.writeXML=function(e){var t=this.hash_to_xml(null,e);return this.xmlDecl+t},he.ObjTree.prototype.hash_to_xml=function(e,t){var r=[],n=[];for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];o.charAt(0)!=this.attr_prefix?"undefined"==typeof i||null==i?r[r.length]="<"+o+" />":"object"==typeof i&&i.constructor==Array?r[r.length]=this.array_to_xml(o,i):r[r.length]="object"==typeof i?this.hash_to_xml(o,i):this.scalar_to_xml(o,i):n[n.length]=" "+o.substring(1)+'="'+this.xml_escape(i)+'"'}var a=n.join(""),c=r.join("");return"undefined"==typeof e||null==e||(c=r.length>0?c.match(/\n/)?"<"+e+a+">\n"+c+"</"+e+">\n":"<"+e+a+">"+c+"</"+e+">\n":"<"+e+a+" />\n"),c},he.ObjTree.prototype.array_to_xml=function(e,t){for(var r=[],n=0;n<t.length;n++){var o=t[n];"undefined"==typeof o||null==o?r[r.length]="<"+e+" />":"object"==typeof o&&o.constructor==Array?r[r.length]=this.array_to_xml(e,o):r[r.length]="object"==typeof o?this.hash_to_xml(e,o):this.scalar_to_xml(e,o)}return r.join("")},he.ObjTree.prototype.scalar_to_xml=function(e,t){return"#text"==e?this.xml_escape(t):"<"+e+">"+this.xml_escape(t)+"</"+e+">\n"},he.ObjTree.prototype.xml_escape=function(e){return e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var ye,ve=he,be=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};!function(e){e.START="bpmn:startEvent",e.END="bpmn:endEvent",e.GATEWAY="bpmn:exclusiveGateway",e.USER="bpmn:userTask",e.SYSTEM="bpmn:serviceTask",e.FLOW="bpmn:sequenceFlow"}(ye||(ye={}));var ge=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function me(e){var t={};return Object.entries(e).forEach((function(e){var r=be(e,2),n=r[0],o=r[1];"object"!==typeof o?0===n.indexOf("-")?t[n]=o:t["-"+n]=o:t[n]=me(o)})),t}function Oe(e){var t={};return Object.entries(e).forEach((function(e){var r=be(e,2),n=r[0],o=r[1];"string"===typeof o?0===n.indexOf("-")?t[n.substr(1)]=o:t[n]=o:t[n]="object"===typeof o?Oe(o):o})),t}function xe(e){var t=[],r=[],n=e["bpmn:definitions"];if(n){var o=n["bpmn:process"];Object.keys(o).forEach((function(e){if(0===e.indexOf("bpmn:")){var i=o[e];if(e===ye.FLOW){var a=n["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];r=function(e,t){var r=[];if(Array.isArray(e))e.forEach((function(e){var n;n=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,r.push(_e(n,e))}));else{var n=void 0;n=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,r.push(_e(n,e))}return r}(i,a)}else{var c=n["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];t=t.concat(function(e,t,r){var n=[];if(Array.isArray(e))e.forEach((function(e){var o=we(Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,r,e);n.push(o)}));else{var o=we(Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,r,e);n.push(o)}return n}(i,c,e))}}}))}return{nodes:t,edges:r}}function we(e,t,r){var n,o,i=Number(e["dc:Bounds"]["-x"]),a=Number(e["dc:Bounds"]["-y"]),c=r["-name"],u=je.shapeConfigMap.get(t);if(u&&(i+=u.width/2,a+=u.height/2),Object.entries(r).forEach((function(e){var t=be(e,2),r=t[0],o=t[1];-1===ge.indexOf(r)&&(n||(n={}),n[r]=o)})),n&&(n=Oe(n)),c&&(o={x:i,y:a,value:c},e["bpmndi:BPMNLabel"]&&e["bpmndi:BPMNLabel"]["dc:Bounds"])){var s=e["bpmndi:BPMNLabel"]["dc:Bounds"];o.x=Number(s["-x"])+Number(s["-width"])/2,o.y=Number(s["-y"])+Number(s["-height"])/2}var l={id:e["-bpmnElement"],type:t,x:i,y:a,properties:n};return o&&(l.text=o),l}function _e(e,t){var r,n,o=t["-name"];if(o){var i=e["bpmndi:BPMNLabel"]["dc:Bounds"],a=0;o.split("\n").forEach((function(e){a<e.length&&(a=e.length)})),r={value:o,x:Number(i["-x"])+10*a/2,y:Number(i["-y"])+7}}Object.entries(t).forEach((function(e){var t=be(e,2),r=t[0],o=t[1];-1===ge.indexOf(r)&&(n||(n={}),n[r]=o)})),n&&(n=Oe(n));var c={id:t["-id"],type:ye.FLOW,pointsList:e["di:waypoint"].map((function(e){return{x:Number(e["-x"]),y:Number(e["-y"])}})),sourceNodeId:t["-sourceRef"],targetNodeId:t["-targetRef"],properties:n};return r&&(c.text=r),c}var je={pluginName:"bpmn-adapter",install:function(e){e.adapterIn=this.adapterIn,e.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(e,t){this.shapeConfigMap.set(e,t)},adapterOut:function(e){var t={"-id":"Process_"+de(),"-isExecutable":"false"};!function(e,t){var r=new Map;t.nodes.forEach((function(t){var n,o={"-id":t.id};if((null===(n=t.text)||void 0===n?void 0:n.value)&&(o["-name"]=t.text.value),t.properties){var i=me(t.properties);Object.assign(o,i)}r.set(t.id,o),e[t.type]?Array.isArray(e[t.type])?e[t.type].push(o):e[t.type]=[e[t.type],o]:e[t.type]=o}));var n=t.edges.map((function(e){var t,n,o=r.get(e.sourceNodeId);o["bpmn:outgoing"]?Array.isArray(o["bpmn:outgoing"])?o["bpmn:outgoing"].push(e.id):o["bpmn:outgoing"]=[o["bpmn:outgoing"],e.id]:o["bpmn:outgoing"]=e.id;var i=r.get(e.targetNodeId);i["bpmn:incoming"]?Array.isArray(i["bpmn:incoming"])?i["bpmn:incoming"].push(e.id):i["bpmn:incoming"]=[i["bpmn:incoming"],e.id]:i["bpmn:incoming"]=e.id;var a={"-id":e.id,"-sourceRef":e.sourceNodeId,"-targetRef":e.targetNodeId};if((null===(t=e.text)||void 0===t?void 0:t.value)&&(a["-name"]=null===(n=e.text)||void 0===n?void 0:n.value),e.properties){var c=me(e.properties);Object.assign(a,c)}return a}));e[ye.FLOW]=n}(t,e);var r={"-id":"BPMNPlane_1","-bpmnElement":t["-id"]};return function(e,t){e["bpmndi:BPMNEdge"]=t.edges.map((function(e){var t,r=e.id,n={"-id":r+"_di","-bpmnElement":r,"di:waypoint":e.pointsList.map((function(e){return{"-x":e.x,"-y":e.y}}))};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(n["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),n})),e["bpmndi:BPMNShape"]=t.nodes.map((function(e){var t,r=e.id,n=100,o=80,i=e.x,a=e.y,c=je.shapeConfigMap.get(e.type);c&&(n=c.width,o=c.height);var u={"-id":r+"_di","-bpmnElement":r,"dc:Bounds":{"-x":i-=n/2,"-y":a-=o/2,"-width":n,"-height":o}};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(u["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),u}))}(r,e),{"bpmn:definitions":{"-id":"Definitions_"+de(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":t,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":r}}}},adapterIn:function(e){if(e)return xe(e)}};je.shapeConfigMap.set(ye.START,{width:$,height:ee}),je.shapeConfigMap.set(ye.END,{width:te,height:re}),je.shapeConfigMap.set(ye.GATEWAY,{width:ne,height:oe}),je.shapeConfigMap.set(ye.SYSTEM,{width:ie,height:ae}),je.shapeConfigMap.set(ye.USER,{width:ce,height:ue});var Ee,Se={pluginName:"bpmn-xml-adapter",install:function(e){e.adapterIn=this.adapterXmlIn,e.adapterOut=this.adapterXmlOut},adapterXmlIn:function(e){var t=(new ve.ObjTree).parseXML(e);return je.adapterIn(t)},adapterXmlOut:function(e){return function(e,t){var r=function e(t,r,n){var o="";if(t instanceof Array)for(var i=0,a=t.length;i<a;i++)o+=n+e(t[i],r,n+"\t")+"\n";else if("object"==typeof t){var c=!1;for(var u in o+=n+"<"+r,t)"-"==u.charAt(0)?o+=" "+u.substr(1)+'="'+t[u].toString()+'"':c=!0;if(o+=c?">":"/>",c){for(var u in t)"#text"==u?o+=t[u]:"#cdata"==u?o+="<![CDATA["+t[u]+"]]>":"-"!=u.charAt(0)&&(o+=e(t[u],u,n+"\t"));o+=("\n"==o.charAt(o.length-1)?n:"")+"</"+r+">"}}else o+=n+"<"+r+">"+t.toString()+"</"+r+">";return o},n="";for(var o in e)n+=r(e[o],o,"");return t?n.replace(/\t/g,t):n.replace(/\t|\n/g,"")}(je.adapterOut(e),"\n")}},Pe=function(){return(Pe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Ae(e){switch(e){case"bpmn:sequenceFlow":return Ee.SEQUENCE_FLOW;case"bpmn:startEvent":return Ee.START_EVENT;case"bpmn:endEvent":return Ee.END_EVENT;case"bpmn:userTask":return Ee.USER_TASK;case"bpmn:exclusiveGateway":return Ee.EXCLUSIVE_GATEWAY;default:return e}}function ke(e){var t=new Map,r={flowElementList:[]};return e.nodes.forEach((function(e){var n=function(e){var t=e.id,r=e.type,n=e.x,o=e.y,i=e.text,a=void 0===i?"":i,c=e.properties;return{incoming:[],outgoing:[],dockers:[],type:Ae(e.type),properties:Pe(Pe({},c),{name:a&&a.value||"",x:n,y:o,text:a,logicFlowType:r}),key:t}}(e);r.flowElementList.push(n),t.set(e.id,n)})),e.edges.forEach((function(e){var n=function(e){var t=e.id,r=e.type,n=e.sourceNodeId,o=e.targetNodeId,i=e.startPoint,a=e.endPoint,c=e.pointsList,u=e.text,s=void 0===u?"":u,l=e.properties;return{incoming:[n],outgoing:[o],type:Ae(r),dockers:[],properties:Pe(Pe({},l),{name:s&&s.value||"",text:s,startPoint:i,endPoint:a,pointsList:c,logicFlowType:r}),key:t}}(e);t.get(e.sourceNodeId).outgoing.push(n.key),t.get(e.targetNodeId).incoming.push(n.key),r.flowElementList.push(n)})),r}function Ne(e){var t={nodes:[],edges:[]},r=e.flowElementList;return r&&r.length>0&&r.forEach((function(e){if(e.type===Ee.SEQUENCE_FLOW){var r=function(e){var t=e.incoming,r=e.outgoing,n=e.properties,o=e.key,i=n.text,a=n.startPoint,c=n.endPoint,u=n.pointsList,s={id:o,type:n.logicFlowType,sourceNodeId:t[0],targetNodeId:r[0],text:i,startPoint:a,endPoint:c,pointsList:u,properties:{}},l=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(e.properties).forEach((function(t){-1===l.indexOf(t)&&(s.properties[t]=e.properties[t])})),s}(e);t.edges.push(r)}else{var n=function(e){var t=e.properties,r=e.key,n=t.x,o=t.y,i=t.text,a={id:r,type:t.logicFlowType,x:n,y:o,text:i,properties:{}},c=["x","y","text","logicFlowType"];return Object.keys(e.properties).forEach((function(t){-1===c.indexOf(t)&&(a.properties[t]=e.properties[t])})),a}(e);t.nodes.push(n)}})),t}!function(e){e[e.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",e[e.START_EVENT=2]="START_EVENT",e[e.END_EVENT=3]="END_EVENT",e[e.USER_TASK=4]="USER_TASK",e[e.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY"}(Ee||(Ee={}));var De;new Map;!function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(De||(De={}));var Me,Te=function(e,t,r){var n=e.x,o=e.y;return(n-t.x)*(n-r.x)<=0&&(o-t.y)*(o-r.y)<=0},Ce=function(e,t,r){var n=function(e){var t=e.x,r=e.y,n=e.width,o=e.height;return{minX:t-n/2,minY:r-o/2,maxX:t+n/2,maxY:r+o/2,x:t,y:r,width:n,height:o,centerX:t,centerY:r}}(e),o=function(e,t){var r;return e.x===t.x?r=De.VERTICAL:e.y===t.y&&(r=De.HORIZONTAL),r}(t,r),i=Math.max(t.x,r.x),a=Math.min(t.x,r.x),c=Math.max(t.y,r.y),u=Math.min(t.y,r.y),s=e.x,l=e.y,f=e.width,p=e.height;if(o===De.HORIZONTAL){if(t.y===l&&i>=n.maxX&&a<=n.minX)return{startCrossPoint:{x:t.x>r.x?s+f/2:s-f/2,y:l},endCrossPoint:{x:t.x>r.x?s-f/2:s+f/2,y:l}}}else if(o===De.VERTICAL&&t.x===e.x&&c>=n.maxY&&u<=n.minY)return{startCrossPoint:{x:s,y:t.y>r.y?l+p/2:l-p/2},endCrossPoint:{x:s,y:t.y>r.y?l-p/2:l+p/2}}},Re=function(e,t){for(var r=e.x,n=e.y,o=t.pointsList,i=0;i<o.length-1;i++)if(Te({x:r,y:n},o[i],o[i+1])){var a=Ce(e,o[i],o[i+1]);if(a)return{crossIndex:i+1,crossPoints:a}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},Ie=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Le=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ie(arguments[t]));return e},ze={pluginName:"insert-node-in-polyline",_lf:null,dndAdd:!0,dropAdd:!0,install:function(e){ze._lf=e,this.eventHandler()},eventHandler:function(){var e=this;ze.dndAdd&&ze._lf.on("node:dnd-add",(function(e){var t=e.data;ze.insetNode(t)})),ze.dropAdd&&ze._lf.on("node:drop",(function(t){for(var r=t.data,n=e._lf.graphModel.edges,o=r.id,i=!0,a=0;a<n.length;a++)if(n[a].sourceNodeId===o||n[a].targetNodeId===o){i=!1;break}i&&ze.insetNode(r)}))},insetNode:function(e){for(var t=this._lf.graphModel.edges,r=this._lf.getNodeModel(e.id),n=0;n<t.length;n++){var o=Re(r,t[n]),i=o.crossIndex,a=o.crossPoints;if(i>=0){var c=t[n],u=c.sourceNodeId,s=c.targetNodeId,l=c.id,f=c.type,p=c.pointsList;this._lf.createEdge({type:f,sourceNodeId:u,targetNodeId:e.id,pointsList:Le(p.slice(0,i),[a.startCrossPoint])}),this._lf.createEdge({type:f,sourceNodeId:e.id,targetNodeId:s,pointsList:Le([a.endCrossPoint],p.slice(i))}),this._lf.deleteEdge(l);break}}}},Be=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Ge=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Be(arguments[t]));return e},Fe={pluginName:"control",__lf:null,__controlItems:[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7f29\u5c0f\u6d41\u7a0b\u56fe",text:"\u7f29\u5c0f",onClick:function(){Fe.__lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653e\u5927\u6d41\u7a0b\u56fe",text:"\u653e\u5927",onClick:function(){Fe.__lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590d\u6d41\u7a0b\u539f\u6709\u5c3a\u5bf8",text:"\u9002\u5e94",onClick:function(){Fe.__lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56de\u5230\u4e0a\u4e00\u6b65",text:"\u4e0a\u4e00\u6b65",onClick:function(){Fe.__lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79fb\u5230\u4e0b\u4e00\u6b65",text:"\u4e0b\u4e00\u6b65",onClick:function(){Fe.__lf.redo()}}],addItem:function(e){Fe.__controlItems.push(e)},removeItem:function(e){var t=Fe.__controlItems.findIndex((function(t){return t.key===e}));return Fe.__controlItems.splice(t,1)[0]},install:function(){},render:function(e,t){Fe.__lf=e,Fe.__domContainer=t,Fe.__tool=this.__getControlTool(),t.appendChild(Fe.__tool)},destroy:function(){var e;try{null===(e=Fe.__domContainer)||void 0===e||e.removeChild(Fe.__tool)}catch(t){console.warn("unexpect destory error",t)}},__getControlTool:function(){var e="lf-control-item",t="lf-control-item disabled",r=document.createElement("div"),n=[];return r.className="lf-control",Fe.__controlItems.forEach((function(r){var o=document.createElement("div"),i=document.createElement("i"),a=document.createElement("span");switch(o.className=t,r.onClick&&(o.onclick=r.onClick.bind(null,Fe.__lf)),r.onMouseEnter&&(o.onmouseenter=r.onMouseEnter.bind(null,Fe.__lf)),r.onMouseLeave&&(o.onmouseleave=r.onMouseLeave.bind(null,Fe.__lf)),i.className=r.iconClass,a.className="lf-control-text",a.title=r.title,a.innerText=r.text,o.append(i,a),r.text){case"\u4e0a\u4e00\u6b65":Fe.__lf.on("history:change",(function(r){var n=r.data.undoAble;o.className=n?e:t}));break;case"\u4e0b\u4e00\u6b65":Fe.__lf.on("history:change",(function(r){var n=r.data.redoAble;o.className=n?e:t}));break;default:o.className=e}n.push(o)})),r.append.apply(r,Ge(n)),r}},Ue=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Xe=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ue(arguments[t]));return e},He="lf:defaultNodeMenu",Ye="lf:defaultEdgeMenu",Ve="lf:defaultGraphMenu",We=function(){function e(e){var t=this,r=e.lf;this.__menuDOM=document.createElement("ul"),this.lf=r,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(e){t.resetMenuItem(e)},this.lf.addMenuConfig=function(e){t.addMenuItem(e)},this.lf.setMenuByType=function(e){t.setMenuByType(e)}}return e.prototype.init=function(){var e=this,t=[{text:"\u5220\u9664",callback:function(t){e.lf.deleteNode(t.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(t){e.lf.graphModel.setTextEditable(t.id)}},{text:"\u590d\u5236",callback:function(t){e.lf.cloneNode(t.id)}}];this.menuTypeMap.set(He,t);var r=[{text:"\u5220\u9664",callback:function(t){e.lf.deleteEdge(t.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(t){e.lf.graphModel.setTextEditable(t.id)}}];this.menuTypeMap.set(Ye,r),this.menuTypeMap.set(Ve,[])},e.prototype.render=function(e,t){var r=this;this.__container=t,this.__currentData=null,this.__menuDOM.className="lf-menu",t.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",(function(e){e.stopPropagation();for(var t=e.target;-1===Array.from(t.classList).indexOf("lf-menu-item")&&-1===Array.from(t.classList).indexOf("lf-menu");)t=t.parentElement;Array.from(t.classList).indexOf("lf-menu-item")>-1?(t.onclickCallback(r.__currentData),r.__menuDOM.style.display="none",r.__currentData=null):console.warn("\u70b9\u51fb\u533a\u57df\u4e0d\u5728\u83dc\u5355\u9879\u5185\uff0c\u8bf7\u68c0\u67e5\u4ee3\u7801\uff01")}),!0),this.lf.on("node:contextmenu",(function(e){var t=e.data,n=e.position.domOverlayPosition,o=n.x,i=n.y,a=t.id,c=r.lf.graphModel.getNodeModel(a),u=[],s=r.menuTypeMap.get(c.type);u=c&&c.menu&&Array.isArray(c.menu)?c.menu:s||r.menuTypeMap.get(He),r.__currentData=t,r.showMenu(o,i,u)})),this.lf.on("edge:contextmenu",(function(e){var t=e.data,n=e.position.domOverlayPosition,o=n.x,i=n.y,a=t.id,c=r.lf.graphModel.getEdgeModel(a),u=[],s=r.menuTypeMap.get(c.type);u=c&&c.menu&&Array.isArray(c.menu)?c.menu:s||r.menuTypeMap.get(Ye),r.__currentData=t,r.showMenu(o,i,u)})),this.lf.on("blank:contextmenu",(function(e){var t=e.position,n=r.menuTypeMap.get(Ve),o=t.domOverlayPosition,i=o.x,a=o.y;r.showMenu(i,a,n)})),this.lf.on("node:mousedown",(function(){r.__menuDOM.style.display="none"})),this.lf.on("edge:click",(function(){r.__menuDOM.style.display="none"})),this.lf.on("blank:click",(function(){r.__menuDOM.style.display="none"}))},e.prototype.destroy=function(){var e;null===(e=null===this||void 0===this?void 0:this.__container)||void 0===e||e.removeChild(this.__menuDOM),this.__menuDOM=null},e.prototype.showMenu=function(e,t,r){if(r&&r.length){var n=this.__menuDOM;n.innerHTML="",n.append.apply(n,Xe(this.__getMenuDom(r))),n.children.length&&(n.style.display="block",n.style.top=t+"px",n.style.left=e+"px")}},e.prototype.setMenuByType=function(e){e.type&&e.menu&&this.menuTypeMap.set(e.type,e.menu)},e.prototype.__getMenuDom=function(e){var t=[];return e&&e.length>0&&e.forEach((function(e){var r=document.createElement("li");if(e.className?r.className="lf-menu-item "+e.className:r.className="lf-menu-item",!0===e.icon){var n=document.createElement("span");n.className="lf-menu-item-icon",r.appendChild(n)}var o=document.createElement("span");o.className="lf-menu-item-text",e.text&&(o.innerText=e.text),r.appendChild(o),r.onclickCallback=e.callback,t.push(r)})),t},e.prototype.resetMenuItem=function(e){e&&(void 0!==e.nodeMenu&&this.menuTypeMap.set(He,e.nodeMenu?e.nodeMenu:[]),void 0!==e.edgeMenu&&this.menuTypeMap.set(Ye,e.edgeMenu?e.edgeMenu:[]),void 0!==e.graphMenu&&this.menuTypeMap.set(Ve,e.graphMenu?e.graphMenu:[]))},e.prototype.addMenuItem=function(e){if(e){if(Array.isArray(e.nodeMenu)){var t=this.menuTypeMap.get(He);this.menuTypeMap.set(He,t.concat(e.nodeMenu))}if(Array.isArray(e.edgeMenu)){t=this.menuTypeMap.get(Ye);this.menuTypeMap.set(Ye,t.concat(e.edgeMenu))}if(Array.isArray(e.graphMenu)){t=this.menuTypeMap.get(Ve);this.menuTypeMap.set(Ve,t.concat(e.graphMenu))}}},e.prototype.changeMenuItem=function(e,t){if("add"===e)this.addMenuItem(t);else{if("reset"!==e)throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'");this.resetMenuItem(t)}},e.pluginName="Menu",e}(),Ke=function(){function e(e){var t=this,r=e.lf;this.lf=r,this.lf.setPatternItems=function(e){t.shapeList=e}}return e.prototype.render=function(e,t){var r=this;this.panelEl&&t.removeChild(this.panelEl),this.shapeList&&0!==this.shapeList.length&&(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach((function(e){r.panelEl.appendChild(r.createDndItem(e))})),t.appendChild(this.panelEl))},e.prototype.createDndItem=function(e){var t=this,r=document.createElement("div");r.className=e.className?"lf-dnd-item "+e.className:"lf-dnd-item";var n=document.createElement("div");if(n.className="lf-dnd-shape",e.icon&&(n.style.backgroundImage="url("+e.icon+")"),r.appendChild(n),e.label){var o=document.createElement("div");o.innerText=e.label,o.className="lf-dnd-text",r.appendChild(o)}return r.onmousedown=function(){e.type&&t.lf.dnd.startDrag({type:e.type,properties:e.properties,text:e.text}),e.callback&&e.callback()},r},e.pluginName="DndPanel",e}(),Ze=function(){function e(e){var t=this,r=e.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.__draw=function(e){var r=t.lf.getPointByClient(e.clientX,e.clientY).domOverlayPosition,n=r.x,o=r.y;t.endPoint={x:n,y:o};var i=t.startPoint,a=i.x,c=i.y,u=t.wrapper.style,s=a,l=c,f=n-a,p=o-c;n<a&&(s=n,f=a-n),o<c&&(l=o,p=c-o),u.left=s+"px",u.top=l+"px",u.width=f+"px",u.height=p+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",t.__draw),document.removeEventListener("mouseup",t.__drawOff),t.__domContainer.removeChild(t.wrapper);var e=t.startPoint,r=e.x,n=e.y,o=t.endPoint,i=o.x,a=o.y,c=[Math.min(r,i),Math.min(n,a)],u=[Math.max(r,i),Math.max(n,a)],s=t.lf.getAreaElement(c,u);s.forEach((function(e){t.lf.select(e.id,!0)})),t.lf.emit("selection:selected",s)},this.lf=r;var n=r.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=n,r.openSelectionSelect=function(){n||(t.isDefalutStopMoveGraph=!1,r.updateEditConfig({stopMoveGraph:!0})),t.open()},r.closeSelectionSelect=function(){t.isDefalutStopMoveGraph||r.updateEditConfig({stopMoveGraph:!1}),t.close()}}return e.prototype.render=function(e,t){var r=this;this.__domContainer=t,e.on("blank:mousedown",(function(n){var o=n.e;if(e.getEditConfig().stopMoveGraph&&!r.__disabled){var i=e.getPointByClient(o.clientX,o.clientY).domOverlayPosition,a=i.x,c=i.y;r.startPoint={x:a,y:c},r.endPoint={x:a,y:c};var u=document.createElement("div");u.className="lf-selection-select",u.style.top=r.startPoint.y+"px",u.style.left=r.startPoint.x+"px",t.appendChild(u),r.wrapper=u,document.addEventListener("mousemove",r.__draw),document.addEventListener("mouseup",r.__drawOff)}}))},e.prototype.open=function(){this.__disabled=!1},e.prototype.close=function(){this.__disabled=!0},e.pluginName="selection-select",e}(),qe=function(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Qe={pluginName:"minimap",__lf:null,__container:null,__miniMapWrap:null,__miniMapContainer:null,__lfMap:null,__viewport:null,__width:150,__height:220,__miniMapWidth:450,__miniMapHeight:660,__isShow:!1,__viewPortTop:0,__viewPortLeft:0,__startPosition:null,__viewPortScale:1,__viewPortWidth:150,__viewPortHeight:75,__resetDataX:0,__resetDataY:0,__LogicFlow:null,__disabledPlugins:["minimap","control","selection-select"],install:function(e,t){Qe.__lf=e,Qe.__miniMapWidth=e.width,Qe.__miniMapHeight=220*e.width/150,Qe.__LogicFlow=t,this.__init()},init:function(e){this.__disabledPlugins=this.__disabledPlugins.concat(e.disabledPlugins||[])},render:function(e,t){Qe.__container=t;["node:add","node:delete","edge:add","edge:delete","node:drop","blank:drop"].forEach((function(e){Qe.__lf.on(e,(function(){Qe.__setView()}))}))},show:function(e,t){Qe.__setView(),Qe.__isShow||Qe.__createMiniMap(e,t),Qe.__isShow=!0},hide:function(){Qe.__isShow&&Qe.__removeMiniMap(),Qe.__isShow=!1},__init:function(){var e=document.createElement("div");e.className="lf-mini-map-graph",e.style.width=Qe.__width+"px",e.style.height=Qe.__height+"px",Qe.__lfMap=new Qe.__LogicFlow({width:Qe.__lf.width,height:220*Qe.__lf.width/150,container:e,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:Qe.__disabledPlugins}),Qe.__lfMap.adapterIn=function(e){return e},Qe.__lfMap.adapterOut=function(e){return e},Qe.__miniMapWrap=e,Qe.__createViewPort()},__createMiniMap:function(e,t){var r=document.createElement("div"),n=Qe.__miniMapWrap;r.appendChild(n),"undefined"!==typeof e&&"undefined"!==typeof t&&(r.style.left=e+"px",r.style.top=t+"px"),r.style.position="absolute",r.className="lf-mini-map",Qe.__container.appendChild(r),Qe.__miniMapWrap.appendChild(Qe.__viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText="\u5bfc\u822a",r.appendChild(o);var i=document.createElement("span");i.className="lf-mini-map-close",i.addEventListener("click",Qe.hide),r.appendChild(i),Qe.__miniMapContainer=r},__removeMiniMap:function(){Qe.__container.removeChild(Qe.__miniMapContainer)},__getBounds:function(e){var t=0,r=Qe.__miniMapWidth,n=0,o=Qe.__miniMapHeight,i=e.nodes;return i&&i.length>0&&i.forEach((function(e){var i=e.x,a=e.y,c=e.width,u=void 0===c?200:c,s=e.height,l=void 0===s?200:s,f=i-u/2,p=i+u/2,d=a-l/2,h=a+l/2;t=f<t?f:t,r=p>r?p:r,n=d<n?d:n,o=h>o?h:o})),{left:t,top:n,bottom:o,right:r}},__resetData:function(e){var t=e.nodes,r=e.edges,n=0,o=0;return t&&t.length>0&&(t.forEach((function(e){var t=e.x,r=e.y,i=e.width,a=void 0===i?200:i,c=e.height,u=t-a/2,s=r-(void 0===c?200:c)/2;n=u<n?u:n,o=s<o?s:o})),(n<0||o<0)&&(Qe.__resetDataX=n,Qe.__resetDataY=o,t.forEach((function(e){e.x=e.x-n,e.y=e.y-o,e.text&&(e.text.x=e.text.x-n,e.text.y=e.text.y-o)})),r.forEach((function(e){e.startPoint&&(e.startPoint.x=e.startPoint.x-n,e.startPoint.y=e.startPoint.y-o),e.endPoint&&(e.endPoint.x=e.endPoint.x-n,e.endPoint.y=e.endPoint.y-o),e.text&&(e.text.x=e.text.x-n,e.text.y=e.text.y-o),e.pointsList&&e.pointsList.forEach((function(e){e.x=e.x-n,e.y=e.y-o}))})))),e},__setView:function(){var e,t,r=Qe.__resetData(Qe.__lf.getGraphRawData()),n=Qe.__lf.viewMap,o=Qe.__lf.graphModel.modelMap,i=Qe.__lfMap.viewMap;try{for(var a=qe(n.keys()),c=a.next();!c.done;c=a.next()){var u=c.value;i.has(u)||(Qe.__lfMap.setView(u,n.get(u)),Qe.__lfMap.graphModel.modelMap.set(u,o.get(u)))}}catch(g){e={error:g}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}Qe.__lfMap.render(r);var s=Qe.__getBounds(r),l=s.left,f=s.top,p=s.right,d=s.bottom,h=Qe.__width/(p-l),y=Qe.__height/(d-f),v=Qe.__miniMapWrap.firstChild.style,b=Math.min(h,y);v.transform="matrix("+b+", 0, 0, "+b+", 0, 0)",v.transformOrigin="left top",v.height=d-Math.min(f,0)+"px",v.width=p-Math.min(l,0)+"px",Qe.__viewPortScale=b,Qe.__setViewPort(b,{left:l,top:f,right:p,bottom:d})},__setViewPort:function(e,t){var r=t.left,n=t.right,o=Qe.__viewport.style;o.width=Qe.__width-4+"px",o.height=(Qe.__width-4)/(Qe.__lf.width/Qe.__lf.height)+"px";var i=Qe.__lf.getTransform(),a=i.TRANSLATE_X,c=i.TRANSLATE_Y,u=n-r,s=(Qe.__width-4)/(u/Qe.__lf.width),l=s/(Qe.__lf.width/Qe.__lf.height);Qe.__viewPortTop=c>0?0:-c*e,Qe.__viewPortLeft=-a*e,Qe.__viewPortWidth=s,Qe.__viewPortHeight=l,o.top=Qe.__viewPortTop+"px",o.left=Qe.__viewPortLeft+"px",o.width=s+"px",o.height=l+"px"},__createViewPort:function(){var e=document.createElement("div");e.className="lf-minimap-viewport",e.addEventListener("mousedown",Qe.__startDrag),Qe.__viewport=e},__startDrag:function(e){document.addEventListener("mousemove",Qe.__drag),document.addEventListener("mouseup",Qe.__drop),Qe.__startPosition={x:e.x,y:e.y}},__drag:function(e){var t=Qe.__viewport.style;Qe.__viewPortTop+=e.y-Qe.__startPosition.y,Qe.__viewPortLeft+=e.x-Qe.__startPosition.x,t.top=Qe.__viewPortTop+"px",t.left=Qe.__viewPortLeft+"px",Qe.__startPosition={x:e.x,y:e.y};var r=(Qe.__viewPortLeft+Qe.__viewPortWidth/2)/Qe.__viewPortScale,n=(Qe.__viewPortTop+Qe.__viewPortHeight/2)/Qe.__viewPortScale;Qe.__lf.focusOn({coordinate:{x:r+Qe.__resetDataX,y:n+Qe.__resetDataY}})},__drop:function(){document.removeEventListener("mousemove",Qe.__drag),document.removeEventListener("mouseup",Qe.__drop)}},Je=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$e=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Je(t,e),t.prototype.getEdge=function(){for(var e=this.getAttributes(),t=e.points,r=e.strokeWidth,n=e.stroke,o=e.strokeDashArray,i=t.split(" ").map((function(e){return e.split(",").map((function(e){return Number(e)}))})),a=$e(i[0],2),c="M"+a[0]+" "+a[1],u=1;u<i.length-1;u++){var s=$e(i[u-1],2),f=s[0],p=s[1],d=$e(i[u],2),h=d[0],y=d[1],v=$e(i[u+1],2),b=v[0],g=v[1];if(h===f&&y!==p)c=c+" L "+h+" "+(y>p?y-5:y+5);if(y===p&&h!==f)c=c+" L "+(h>f?h-5:h+5)+" "+y;if(c=c+" Q "+h+" "+y,h===b&&y!==g)c=c+" "+h+" "+(y>g?y-5:y+5);if(y===g&&h!==b)c=c+" "+(h>b?h-5:h+5)+" "+y}var m=$e(i[i.length-1],2);return c=c+" L "+m[0]+" "+m[1],Object(l.h)("path",{d:c,strokeWidth:r,stroke:n,fill:"none",strokeDashArray:o})},t.extendKey="CurvedEdge",t}(l.PolylineEdge),tt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Je(t,e),t}(l.PolylineEdgeModel),rt={pluginName:"curved-edge",curvedSpace:5,init:function(e){var t=e.curvedSpace;rt.curvedSpace=t},install:function(e){e.register({type:"curved-edge",view:et,model:tt})}},nt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ot=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},it=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ot(arguments[t]));return e},at=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isGroup=!0,t.children=new Set,t.isRestrict=!0,t}return nt(t,e),t.prototype.setAttributes=function(){this.width=500,this.height=200,this.strokeWidth=1,this.zIndex=0},t.prototype.setIsRestrict=function(e){this.isRestrict=e},t.prototype.isInRange=function(e){var t=e.x1,r=e.y1,n=e.x2,o=e.y2;return t>=this.x-this.width/2&&n<=this.x+this.width/2&&r>=this.y-this.height/2&&o<=this.y+this.height/2},t.prototype.setAllowAppendChild=function(e){this.stroke=e?"red":"rgb(24, 125, 255)"},t.prototype.addChild=function(e){this.children.add(e)},t.prototype.removeChild=function(e){this.children.delete(e)},t.prototype.getData=function(){var t=e.prototype.getData.call(this);return t.children=it(this.children),t},t}(l.RectNodeModel),ct={type:"group",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nt(t,e),t.prototype.toFront=function(){},t.prototype.getShapeStyle=function(){var t=e.prototype.getShapeStyle.call(this);return t.radius=0,t},t}(l.RectNode),model:at},ut=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},st=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ut(arguments[t]));return e},lt=(function(){function e(e){var t=this,r=e.lf;this.nodeGroupMap=new Map,this.appendNodeToGrop=function(e){var r=e.data,n=t.nodeGroupMap.get(r.id);if(n){var o=t.lf.getNodeModel(n);o.removeChild(r.id),t.nodeGroupMap.delete(r.id),o.setAllowAppendChild(!1)}var i=t.lf.getNodeModel(r.id).getBounds(),a=t.getGroup(i);a&&r.id!==a.id&&(a.addChild(r.id),t.nodeGroupMap.set(r.id,a.id),a.setAllowAppendChild(!1))},this.setActiveGroup=function(e){var r=e.data;t.activeGroup&&(t.activeGroup.setAllowAppendChild(!1),t.activeGroup=void 0);var n=t.lf.getNodeModel(r.id).getBounds();t.activeGroup=t.getGroup(n),t.activeGroup&&t.activeGroup.id!==r.id&&t.activeGroup.setAllowAppendChild(!0)},r.register(ct),this.lf=r,r.graphModel.addNodeMoveRules((function(e,n,o){if(e.isGroup)return r.graphModel.moveNodes(st(e.children),n,o,!0),!0;var i=r.getNodeModel(t.nodeGroupMap.get(e.id));if(i&&i.isRestrict){var a=e.getBounds(),c=a.x1,u=a.y1,s=a.x2,l=a.y2;return i.isInRange({x1:c+n,y1:u+o,x2:s+n,y2:l+o})}return!0})),r.on("node:add",this.appendNodeToGrop),r.on("node:drop",this.appendNodeToGrop),r.on("node:dnd-move",this.setActiveGroup),r.on("node:drag",this.setActiveGroup)}e.prototype.getGroups=function(){var e=[];this.lf.graphModel.nodes.forEach((function(t){t.isGroup&&e.push(t)}))},e.prototype.getGroup=function(e){for(var t=this.lf.graphModel.nodes,r=0;r<t.length;r++){var n=t[r];if(n.isGroup&&n.isInRange(e))return n}},e.pluginName="group"}(),r(54)),ft=function(){return(ft=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function pt(e){var t=e.x,r=e.y,n=e.width,o=e.height,i=e.radius,a=e.className,c=t-n/2,u=r-o/2,s=ft(ft({width:10,height:10,cx:0,cy:0,rx:i||0,ry:i||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+a},e),{x:c,y:u});return Object(l.h)("rect",ft({},s))}function dt(e){var t=e.x,r=e.y,n=e.width,o=e.height;return{minX:t-n/2,minY:r-o/2,maxX:t+n/2,maxY:r+o/2}}function ht(e){var t=dt(e),r=e.radius,n=t.minX,o=t.minY,i=t.maxX,a=t.maxY;return[{x:n+r,y:o+r},{x:i-r,y:o+r},{x:i-r,y:a-r},{x:n+r,y:a-r}]}function yt(e){var t=e.point,r=e.beforeNode,n=e.afterNode,o=t.x,i=t.y,a={x:o,y:i},c=r.radius,u=dt(r),s=dt(n);if(o===u.minX){a.x=s.minX;var l=(i-r.y)/(r.height/2-c);a.y=l?n.y+(n.height/2-c)*l:n.y}else if(o===u.maxX){a.x=s.maxX;l=(i-r.y)/(r.height/2-c);a.y=l?n.y+(n.height/2-c)*l:n.y}else if(i===u.minY){a.y=s.minY;l=(o-r.x)/(r.width/2-c);a.x=l?n.x+(n.width/2-c)*l:n.x}else if(i===u.maxY){a.y=s.maxY;l=(o-r.x)/(r.width/2-c);a.x=l?n.x+(n.width/2-c)*l:n.x}else{var f=ht(r),p=ht(n),d=dt(r),h=d.minX,y=d.minY,v=d.maxX,b=d.maxY,g=-1;if(o-h<c&&i-y<c?g=0:v-o<c&&i-y<c?g=1:v-o<c&&b-i<c?g=2:o-h<c&&y-i<c&&(g=3),g>-1){var m=Math.atan2(i-f[g].y,o-f[g].x);a.x=p[g].x+c*Math.cos(m),a.y=p[g].y+c*Math.sin(m)}}return a}function vt(e){var t,r,n=e.point,o=e.beforeNode,i=e.afterNode,a=i.rx,c=i.ry,u=(n.y-o.y)/(n.x-o.x),s=a,l=c;return u>=1/0?(t=0,r=l):u<=-1/0?(t=0,r=-l):n.x-o.x>0?(t=s*l/Math.sqrt(l*l+s*s*u*u),r=s*l*u/Math.sqrt(l*l+s*s*u*u)):(t=-s*l/Math.sqrt(l*l+s*s*u*u),r=-s*l*u/Math.sqrt(l*l+s*s*u*u)),{x:t+i.x,y:r+i.y}}function bt(e){var t,r=e.point,n=e.beforeNode,o=e.afterNode,i=r.x-n.x,a=r.y-n.y,c=n.rx,u=n.ry,s=Math.sqrt((c-Math.abs(i))*(c-Math.abs(i))+a*a)/Math.sqrt(c*c+u*u),l=o.rx,f=o.ry,p=Math.sqrt((l*l+f*f)*s*s*(l*l/(l*l+f*f))),d=p*(f/l);return t=a>0?d:-d,{x:(i>=0?l-p:p-l)+o.x,y:t+o.y}}pt.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""},function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(Me||(Me={}));var gt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),mt=function(){return(mt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ot=l.LogicFlowUtil.createDrag,xt=function(e){function t(t){var r=e.call(this)||this;return r.updatePosition=function(e){var t=e.deltaX,n=e.deltaY,o=r.nodeModel,i=o.x,a=o.y;r.nodeModel.x=i+t/2,r.nodeModel.y=a+n/2,r.nodeModel.moveText(t/2,n/2)},r.getResize=function(e){var t=e.index,r=e.deltaX,n=e.deltaY,o=e.width,i=e.height,a=e.pct,c=void 0===a?1:a,u={width:o,height:i};switch(t){case 0:u.width=o-r*c,u.height=i-n*c;break;case 1:u.width=o+r*c,u.height=i-n*c;break;case 2:u.width=o+r,u.height=i+n*c;break;case 3:u.width=o-r*c,u.height=i+n*c}return u},r.updateRect=function(e){var t=e.deltaX,n=e.deltaY,o=r.nodeModel,i=o.id,a=o.x,c=o.y,u=o.width,s=o.height,l=o.radius,f=r.index,p=r.getResize({index:f,deltaX:t,deltaY:n,width:u,height:s,pct:1}),d=Ut.sizeRange.rect,h=d.minWidth,y=d.minHeight,v=d.maxWidth,b=d.maxHeight;if(!(p.width<h||p.width>v||p.height<y||p.height>b)){r.updatePosition({deltaX:t,deltaY:n}),r.nodeModel.width=p.width,r.nodeModel.height=p.height,r.nodeModel.setProperties({nodeSize:{width:p.width,height:p.height}});var g,m=r.getNodeEdges(i),O={x:a,y:c,width:u,height:s,radius:l},x={x:r.nodeModel.x,y:r.nodeModel.y,width:r.nodeModel.width,height:r.nodeModel.height,radius:l},w={point:"",beforeNode:O,afterNode:x};m.sourceEdges.forEach((function(e){w.point=e.startPoint,g=yt(w),e.updateStartPoint(g)})),m.targetEdges.forEach((function(e){w.point=e.endPoint,g=yt(w),e.updateEndPoint(g)})),r.eventEmit({beforeNode:O,afterNode:x})}},r.updateEllipse=function(e){var t=e.deltaX,n=e.deltaY,o=r.nodeModel,i=o.id,a=o.rx,c=o.ry,u=o.x,s=o.y,l=r.index,f=a,p=c,d=r.getResize({index:l,deltaX:t,deltaY:n,width:f,height:p,pct:.5}),h=Ut.sizeRange.ellipse,y=h.minRx,v=h.minRy,b=h.maxRx,g=h.maxRy;if(!(d.width<y||d.width>b||d.height<v||d.height>g)){r.updatePosition({deltaX:t,deltaY:n}),r.nodeModel.rx=d.width,r.nodeModel.ry=d.height,r.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var m,O=r.getNodeEdges(i),x={x:u,y:s},w={rx:d.width,ry:d.height,x:r.nodeModel.x,y:r.nodeModel.y},_={point:{},beforeNode:x,afterNode:w};O.sourceEdges.forEach((function(e){_.point=e.startPoint,m=vt(_),e.updateStartPoint(m)})),O.targetEdges.forEach((function(e){_.point=e.endPoint,m=vt(_),e.updateEndPoint(m)})),r.eventEmit({beforeNode:mt(mt({},x),{rx:a,ry:c}),afterNode:w})}},r.updateDiamond=function(e){var t=e.deltaX,n=e.deltaY,o=r.nodeModel,i=o.id,a=o.rx,c=o.ry,u=o.x,s=o.y,l=r.index,f=a,p=c,d=r.getResize({index:l,deltaX:t,deltaY:n,width:f,height:p,pct:.5}),h=Ut.sizeRange.ellipse,y=h.minRx,v=h.minRy,b=h.maxRx,g=h.maxRy;if(!(d.width<y||d.width>b||d.height<v||d.height>g)){r.updatePosition({deltaX:t,deltaY:n}),r.nodeModel.rx=d.width,r.nodeModel.ry=d.height,r.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var m,O={x:u,y:s,rx:a,ry:c},x={rx:d.width,ry:d.height,x:r.nodeModel.x,y:r.nodeModel.y},w={point:{},beforeNode:O,afterNode:x},_=r.getNodeEdges(i);_.sourceEdges.forEach((function(e){w.point=e.startPoint,m=bt(w),e.updateStartPoint(m)})),_.targetEdges.forEach((function(e){w.point=e.endPoint,m=bt(w),e.updateEndPoint(m)})),r.eventEmit({beforeNode:O,afterNode:x})}},r.eventEmit=function(e){var t=e.beforeNode,n=e.afterNode,o=r.nodeModel,i=o.id,a=o.modelType,c=o.type,u=mt({id:i,modelType:a,type:c},t),s=mt({id:i,modelType:a,type:c},n);r.graphModel.eventCenter.emit("node:resize",{oldNodeSize:u,newNodeSize:s})},r.onDraging=function(e){var t=e.deltaX,n=e.deltaY,o=r.nodeModel.modelType;o===Me.RECT_NODE?r.updateRect({deltaX:t,deltaY:n}):o===Me.ELLIPSE_NODE?r.updateEllipse({deltaX:t,deltaY:n}):o===Me.DIAMOND_NODE&&r.updateDiamond({deltaX:t,deltaY:n})},r.index=t.index,r.nodeModel=t.nodeModel,r.graphModel=t.graphModel,r.state={},r.dragHandler=Ot({onDraging:r.onDraging,step:Ut.step}),r}return gt(t,e),t.prototype.getNodeEdges=function(e){for(var t=this.graphModel.edges,r=[],n=[],o=0;o<t.length;o++){var i=t[o];i.sourceNodeId===e?r.push(i):t[o].targetNodeId===e&&n.push(i)}return{sourceEdges:r,targetEdges:n}},t.prototype.render=function(){var e=this.props,t=e.x,r=e.y,n=e.style,o=e.index,i=Ut.style.controlPoint,a=i.width,c=i.height,u=i.fill,s=i.stroke;return Object(lt.b)("g",{className:"lf-resize-control-"+o},Object(lt.b)(pt,mt({className:"lf-node-control"},{x:t,y:r},n,{width:a,height:c,fill:u,stroke:s,onMouseDown:this.dragHandler})))},t}(lt.a),wt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_t=function(){return(_t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},jt=function(e){function t(){var t=e.call(this)||this;return t.state={},t}return wt(t,e),t.prototype.getResizeControl=function(){var e=this.props,t=e.x,r=e.y,n=e.width,o=e.height,i=e.nodeModel,a=e.graphModel,c={minX:t-n/2,minY:r-o/2,maxX:t+n/2,maxY:r+o/2},u=c.minX,s=c.minY,l=c.maxX,f=c.maxY;return[{x:u,y:s},{x:l,y:s},{x:l,y:f},{x:u,y:f}].map((function(e,t){return Object(lt.b)(xt,_t({index:t},e,{nodeModel:i,graphModel:a}))}))},t.prototype.getGroupSolid=function(){var e=this.props,t=e.x,r=e.y,n=e.width,o=e.height,i=Ut.style.outline,a=i.stroke,c=i.strokeWidth,u=i.strokeDasharray;return Object(lt.b)(pt,{fill:"none",x:t,y:r,width:n,height:o,stroke:a,strokeWidth:c,strokeDasharray:u})},t.prototype.render=function(){return Object(lt.b)("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},t}(lt.a),Et=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),St=function(){return(St=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Et(t,e),t.prototype.setAttributes=function(){var e=this.properties.nodeSize;e&&(this.width=e.width,this.height=e.height)},t}(l.RectNodeModel),At={type:"rect",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Et(t,e),t.prototype.getControlGroup=function(e){var t=this.props,r=t.model,n=t.graphModel;return Object(l.h)(jt,St({},e,{nodeModel:r,graphModel:n}))},t.prototype.getResizeShape=function(e){return Object(l.h)("g",null,Object(l.h)(pt,St({},e)))},t.prototype.getShape=function(){var t=e.prototype.getAttributes.call(this),r=this.props.model.isSelected;return Object(l.h)("g",null,this.getResizeShape(t),r?this.getControlGroup(t):"")},t}(l.RectNode),model:Pt},kt=function(){return(kt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Nt(e){var t=e.x,r=void 0===t?0:t,n=e.y,o=void 0===n?0:n,i=e.rx,a=void 0===i?4:i,c=e.ry,u=kt({cx:r,cy:o,rx:a,ry:void 0===c?4:c,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1},e);return Object(l.h)("ellipse",kt({},u))}var Dt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mt=function(){return(Mt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Tt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dt(t,e),t.prototype.setAttributes=function(){var e=this.properties.nodeSize;e&&(this.rx=e.rx,this.ry=e.ry)},t}(l.EllipseNodeModel),Ct={type:"ellipse",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dt(t,e),t.prototype.getControlGroup=function(e){var t=this.props,r=t.model,n=t.graphModel;return Object(l.h)(jt,Mt({},e,{nodeModel:r,graphModel:n}))},t.prototype.getResizeShape=function(e){return Object(l.h)("g",null,Object(l.h)(Nt,Mt({},e)))},t.prototype.getShape=function(){var t=e.prototype.getAttributes.call(this),r=this.props.model.isSelected;return Object(l.h)("g",null,this.getResizeShape(t),r?this.getControlGroup(t):"")},t}(l.EllipseNode),model:Tt},Rt=function(){return(Rt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function It(e){var t=e.fillOpacity,r=void 0===t?1:t,n=e.strokeWidth,o=void 0===n?1:n,i=e.strokeOpacity,a=void 0===i?1:i,c=e.fill,u=void 0===c?"transparent":c,s=e.stroke,f=void 0===s?"#000":s,p=e.points,d=e.className,h={fill:u,fillOpacity:r,strokeWidth:o,stroke:f,strokeOpacity:a,points:"",className:void 0===d?"lf-basic-shape":d};return h.points=p.map((function(e){return e.join(",")})).join(" "),Object(l.h)("polygon",Rt({},h))}var Lt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),zt=function(){return(zt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Bt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lt(t,e),t.prototype.setAttributes=function(){var e=this.properties.nodeSize;e&&(this.rx=e.rx,this.ry=e.ry)},t}(l.DiamondNodeModel),Gt={type:"diamond",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lt(t,e),t.prototype.getControlGroup=function(e){var t=this.props,r=t.model,n=t.graphModel;return Object(l.h)(jt,zt({},e,{nodeModel:r,graphModel:n}))},t.prototype.getResizeShape=function(e){return Object(l.h)("g",null,Object(l.h)(It,zt({},e)))},t.prototype.getShape=function(){var t=e.prototype.getAttributes.call(this),r=this.props.model.isSelected;return Object(l.h)("g",null,this.getResizeShape(t),r?this.getControlGroup(t):"")},t}(l.DiamondNode),model:Bt},Ft={pluginName:"node-resize",step:0,style:{outline:{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"},controlPoint:{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},sizeRange:{rect:{minWidth:30,minHeight:30,maxWidth:300,maxHeight:300},ellipse:{minRx:15,minRy:15,maxRx:150,maxRy:150},diamond:{minRx:15,minRy:15,maxRx:150,maxRy:150}},install:function(e){if(0===this.step){var t=e.options.grid;t.size&&t.size>1?this.step=2*t.size:this.step=2}e.setTheme({rect:{strokeWidth:2,outlineColor:"transparent"},ellipse:{strokeWidth:2,outlineColor:"transparent"},diamond:{strokeWidth:2,outlineColor:"transparent"}}),e.register({type:At.type,view:At.view,model:At.model}),e.register({type:Ct.type,view:Ct.view,model:Ct.model}),e.register({type:Gt.type,view:Gt.view,model:Gt.model})}},Ut=Ft,Xt=function(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Ht=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Xt(arguments[t]));return e},Yt=(function(){function e(e){var t=this,r=e.lf;this.lf=r,this.pathes=[],r.getPathes=function(){if(!t.startNodeType)throw new Error("\u9700\u8981\u9884\u5148\u6307\u5b9a\u5f00\u59cb\u8282\u70b9\u7c7b\u578b");return t.getPathes()},r.setRawPathes=function(e){t.setPathes(e)},r.getRawPathes=function(){return t.pathes},r.setStartNodeType=function(e){t.startNodeType=e}}e.prototype.setPathes=function(e){this.pathes=e.map((function(e){return{routeId:e.routeId,name:e.name,elements:e.elements,type:e.type,similarElement:null,weight:0}}))},e.prototype.getPathes=function(){var e=this,t=this.lf.getGraphRawData(),r=new Map,n=[];t.nodes.forEach((function(t){r.set(t.id,{id:t.id,data:t,nextNodes:[]}),t.type===e.startNodeType&&n.push(t.id)})),t.edges.forEach((function(e){r.get(e.sourceNodeId).nextNodes.push(e.targetNodeId)}));var o=[];return n.forEach((function(t){o=o.concat(e.findPathElements(r.get(t),r,[]))})),this.getNewPathes(o)},e.prototype.findPathElements=function(e,t,r){void 0===r&&(r=[]);var n=Ht(r);if(n.push(e.id),0===e.nextNodes.length)return[n];for(var o=[],i=0;i<e.nextNodes.length;i++){var a=t.get(e.nextNodes[i]),c=void 0,u=n.indexOf(a.id);c=-1!==u?[Ht(n.slice(u),[a.id])]:this.findPathElements(a,t,Ht(n)),o=o.concat(c)}return o},e.prototype.getNewPathes=function(e){var t=this,r=[],n=new Set;e.forEach((function(e){var o=t.getNewId("path"),i=t.getNewId("\u8def\u5f84"),a=t.isLoopPath(e),c=e.join(",");n.has(c)||(n.add(c),r.push({routeId:o,name:i,elements:e,type:a,weight:0,similarElement:""}))}));var o=JSON.parse(JSON.stringify(this.pathes));return r.forEach((function(e){for(var r=0;r<o.length;r++){var n=o[r],i=t.similar2Path(Ht(e.elements),Ht(n.elements));i>e.weight&&n.weight<=i&&(e.weight=i,e.similarElement=n,i===n.weight&&n.similarElement?(n.similarElement.similarElement=null,n.similarElement.weight=0,n.similarElement=null,n.weight=0):(n.similarElement=e,n.weight=i))}})),r.forEach((function(e){e.similarElement&&e.similarElement.similarElement===e&&(e.routeId=e.similarElement.routeId,e.name=e.similarElement.name),delete e.similarElement,delete e.weight})),this.setPathes(r),r},e.prototype.similar2Path=function(e,t){var r=0,n=e.length+t.length;e.sort(),t.sort();for(var o=e.shift(),i=t.shift();void 0!==o&&void 0!==i;)o===i?(r++,o=e.shift(),i=t.shift()):o<i?o=e.shift():o>i&&(i=t.shift());return r/n*200},e.prototype.getNewId=function(e){return e+"_"+T()},e.prototype.isLoopPath=function(e){var t=e.length;return e.indexOf(e[t-1])!==t-1?1:0},e.pluginName="FlowPath"}(),function(){return(Yt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),Vt=-1,Wt=0,Kt=1,Zt=(function(){function e(e){var t=this,r=e.lf;this.lf=r,r.layout=function(e){var r=t.lf.getGraphRawData();t.lf.setStartNodeType(e);var n=t.lf.getPathes();return t.levelHeight=[],t.newNodeMap=new Map,t.layout(r,n)}}e.prototype.layout=function(e,t){var r=[];t.forEach((function(e){e.elements.length>r.length&&(r=e.elements)}));for(var n=this.formatData(e),o={nodes:[],edges:[]},i=r.length-1;i>=0;i--)this.setNodePosition(r[i],n,o,i,1);this.lf.graphModel.graphDataToModel(o)},e.prototype.setNodePosition=function(e,t,r,n,o){var i=this,a=t[e],c=a.text,u=a.type,s=a.next,l=a.properties,f=160*n+40,p=120*o,d={id:e,x:f,text:c,y:p,type:u,properties:l};return c&&"object"===typeof c&&(d.text=Yt(Yt({},c),{x:f+c.x,y:p+c.y})),this.newNodeMap.set(d.id,{x:d.x,y:d.y,type:u}),r.nodes.push(d),a.isFixed=!0,this.addLevelHeight(n,1),s&&s.length>0&&s.forEach((function(o){if(!t[o.nodeId].isFixed){var a=i.getLevelHeight(n+1);i.addLevelHeight(n,1),i.setNodePosition(o.nodeId,t,r,n+1,a+1)}r.edges.push(Yt({id:o.edgeId,type:o.edgeType,sourceNodeId:e,targetNodeId:o.nodeId,properties:o.properties,text:o.text},i.getEdgeDataPoints(e,o.nodeId)))})),d},e.prototype.getEdgeDataPoints=function(e,t){var r=this.newNodeMap.get(e),n=this.newNodeMap.get(t),o=this.getShape(e),i=o.width,a=o.height,c=this.getShape(t),u=c.width,s=c.height,l=this.getRelativePosition(r,n),f={x:r.x,y:r.y},p={x:n.x,y:n.y};switch(l){case Wt:f.x=r.x+i/2,p.x=n.x-u/2;break;case Vt:f.y=r.y+a/2,p.x=n.x-u/2;break;case Kt:f.x=r.x+i/2,p.y=n.y+s/2}return{startPoint:f,endPoint:p}},e.prototype.getRelativePosition=function(e,t){var r=e.y,n=t.y;return r<n?-1:r===n?0:1},e.prototype.getShape=function(e){var t=this.lf.getNodeModel(e);return{height:t.height,width:t.width}},e.prototype.formatData=function(e){var t=e.nodes.reduce((function(e,t){var r=t.type,n=t.properties,o=t.text,i=t.x,a=t.y;return o&&"object"===typeof o&&(o.x=o.x-i,o.y=o.y-a),e[t.id]={type:r,properties:n,text:o,prev:[],next:[]},e}),{});return e.edges.forEach((function(e){var r=e.sourceNodeId,n=e.targetNodeId,o=e.id,i=e.properties,a=e.text,c=a;"object"===typeof a&&(c=a.value),t[r].next.push({edgeId:o,nodeId:n,edgeType:e.type,properties:i,text:c}),t[n].prev.push({edgeId:o,nodeId:r,properties:i,text:c})})),t},e.prototype.addLevelHeight=function(e,t,r){void 0===t&&(t=1),void 0===r&&(r=!1);var n=this.levelHeight[e];n||(n={positiveHeight:0,negativeHeight:0},this.levelHeight[e]=n),r?n.negativeHeight-=t:n.positiveHeight+=t},e.prototype.getLevelHeight=function(e,t){void 0===t&&(t=!1);var r=this.levelHeight[e];return r?t?r.negativeHeight:r.positiveHeight:0},e.pluginName="AutoLayout"}(),{stopScrollGraph:!0,stopZoomGraph:!0}),qt={nodes:[{id:10,type:"rect",x:150,y:100,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:100,text:"\u5706\u5f62"},{id:30,type:"diamond",x:300,y:300,text:"\u83f1\u5f62"},{id:33,type:"diamond",x:600,y:250,text:"\u83f1\u5f622"}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20,text:"\u76f4\u89d2\u6298\u7ebf",startPoint:{id:"150-60",x:150,y:60}},{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u76f4\u7ebf",endPoint:{id:"150-60",x:350,y:100}},{type:"bezier",sourceNodeId:10,targetNodeId:30,text:"\u66f2\u7ebf",endPoint:{id:"150-60",x:300,y:250}},{type:"curved-edge",sourceNodeId:30,targetNodeId:33,text:"\u5706\u89d2\u66f2\u7ebf"}]};function Qt(e){var t=e.lf;return t&&t.on("selection:selected",(function(){t.updateEditConfig({stopMoveGraph:!1})})),Object(y.jsxs)("div",{className:"pattern",children:[Object(y.jsx)("div",{className:"pattern-selection",onMouseDown:function(){t.updateEditConfig({stopMoveGraph:!0})}}),Object(y.jsx)("div",{children:"\u9009\u533a"}),Object(y.jsx)("div",{className:"pattern-start",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:startEvent",text:"\u5f00\u59cb"})}}),Object(y.jsx)("div",{children:"\u5f00\u59cb"}),Object(y.jsx)("div",{className:"pattern-user",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:userTask"})}}),Object(y.jsx)("div",{children:"\u7528\u6237\u4efb\u52a1"}),Object(y.jsx)("div",{className:"pattern-user",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:serviceTask"})}}),Object(y.jsx)("div",{children:"\u7cfb\u7edf\u4efb\u52a1"}),Object(y.jsx)("div",{className:"pattern-condition",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:exclusiveGateway"})}}),Object(y.jsx)("div",{children:"\u6761\u4ef6\u5224\u65ad"}),Object(y.jsx)("div",{className:"pattern-end",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:endEvent",text:"\u7ed3\u675f"})}}),Object(y.jsx)("div",{children:"\u7ed3\u675f"})]})}var Jt=r(226).default,$t=r(227).default,er=r(228).default;function tr(e){var t=e.lf;function r(){var e=t.getGraphData();console.log(e),function(e,t){var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}("logic-flow.xml",e)}return Object(y.jsxs)("div",{className:"graph-io",children:[Object(y.jsx)("span",{title:"\u4e0b\u8f7d XML",onMouseDown:function(){return r()},children:Object(y.jsx)("img",{src:Jt,alt:"\u4e0b\u8f7dXML"})}),Object(y.jsx)("span",{id:"download-img",title:"\u4e0b\u8f7d\u56fe\u7247",onMouseDown:function(){e.lf.getSnapshot()},children:Object(y.jsx)("img",{src:$t,alt:"\u4e0b\u8f7d\u56fe\u7247"})}),Object(y.jsxs)("span",{id:"upload-xml",title:"\u4e0a\u4f20 XML",children:[Object(y.jsx)("input",{type:"file",className:"upload",onChange:function(e){return function(e){var r=e.target.files[0],n=new FileReader;n.onload=function(e){if(e.target){var r=e.target.result;t.render(r)}},n.readAsText(r)}(e)}}),Object(y.jsx)("img",{src:er,alt:"\u4e0a\u4f20XML"})]})]})}r(229),r(86);var rr={stopScrollGraph:!0,stopZoomGraph:!0,metaKeyMultipleSelected:!0,grid:{size:10,type:"dot"},keyboard:{enabled:!0},snapline:!0},nr=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(e){var n;return Object(m.a)(this,r),(n=t.call(this,e)).lf=void 0,n.state={rendered:!0},n}return Object(O.a)(r,[{key:"componentDidMount",value:function(){f.a.use(le),f.a.use(Se),f.a.use(fe),f.a.use(Fe),f.a.use(We),f.a.use(Ze);var e=new f.a(Object(s.a)(Object(s.a)({},rr),{},{container:document.querySelector("#graph")}));e.render(),this.lf=e,this.setState({rendered:!0})}},{key:"render",value:function(){var e;return this.state.rendered&&(e=Object(y.jsxs)("div",{children:[Object(y.jsx)(Qt,{lf:this.lf}),Object(y.jsx)(tr,{lf:this.lf})]})),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{children:Object(y.jsxs)("div",{children:["\u70b9\u51fb\u5de6\u4e0b\u89d2\u4e0b\u8f7d XML\uff0c\u5c06\u6587\u4ef6\u4e0a\u4f20\u5230",Object(y.jsx)(d.a,{type:"link",href:"https://demo.bpmn.io/",target:"_blank",children:"BPMN Demo"}),"\u5373\u53ef\u4f7f\u7528"]})}),Object(y.jsxs)("div",{className:"bpmn-example-container",children:[Object(y.jsx)("div",{id:"graph",className:"viewport"}),e]})]})}}]),r}(n.Component),or=(r(230),{stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1,keyboard:{enabled:!0},style:{rect:{width:100,height:60}}}),ir={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"}]};var ar={stopScrollGraph:!0,stopZoomGraph:!0},cr={nodes:[{id:10,type:"rect",x:200,y:90,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:200,y:250,text:"\u4f60\u597d\uff01",r:50}]};var ur={stopScrollGraph:!0,stopZoomGraph:!0,grid:{size:10,type:"dot"}},sr={nodes:[{id:10,type:"rect",x:170,y:150,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:380,y:60,text:"\u4f60\u597d\uff01",r:50}]};var lr={isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0,style:{rect:{height:60},nodeText:{fontSize:16},edgeText:{fontSize:17}}},fr={nodes:[{id:10,type:"rect",x:170,y:100,text:"I"},{id:20,type:"circle",x:380,y:180,text:"LogicFlow"}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20,text:"Like",endPoint:{id:"330-180",x:330,y:180}}]};var pr={stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1,grid:{size:10,type:"mesh"},tool:{menu:!1,control:!1},style:{rect:{width:100,height:50,radius:6,fill:"#3eaf7c",strokeWidth:2},circle:{r:40,fill:"#3eaf7c",strokeWidth:2},nodeText:{fontSize:16,color:"#000000"},edgeText:{fontSize:16,color:"#000000"}}},dr={nodes:[{id:10,type:"circle",x:250,y:100,text:"circle"},{id:20,type:"rect",x:180,y:260,text:"rect"},{id:30,type:"rect",x:320,y:260,text:"rect"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,startPoint:{id:"250-140",x:250,y:140}},{type:"line",sourceNodeId:10,targetNodeId:30,startPoint:{id:"250-140",x:250,y:140}}]};var hr,yr=r(252),vr={stopScrollGraph:!0,stopZoomGraph:!0},br={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:70,text:"\u5706\u5f62"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u76f4\u7ebf",endPoint:{id:"150-60",x:350,y:70}}]},gr={display:"flex",alignItems:"center"};var mr={stopScrollGraph:!0,stopZoomGraph:!0};var Or={type:"custom:circle",model:function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(O.a)(r,[{key:"setAttributes",value:function(){var e=this;this.fill="red",this.menu=[{text:"\u81ea\u5b9a\u4e49\u5143\u7d20\u83dc\u5355",icon:!0,className:"custom-menu",callback:function(t){e.graphModel.eventCenter.emit("custom:node:event",t)}}]}}]),r}(l.CircleNodeModel),view:l.CircleNode},xr=(r(231),{stopScrollGraph:!0,stopZoomGraph:!0}),wr={nodes:[{id:10,type:"rect",x:150,y:80,text:"\u53f3\u952e\u83dc\u5355"},{id:11,type:"circle",x:550,y:150,text:"\u5355\u4e00\u7c7b\u578b\u83dc\u5355"},{id:12,type:"custom:circle",x:200,y:200,text:"\u4e1a\u52a1\u72b6\u6001\u83dc\u5355"}],edges:[{type:"bezier",text:"\u8fde\u63a5",sourceNodeId:10,targetNodeId:11}]};var _r={stopScrollGraph:!0,stopZoomGraph:!0};var jr,Er=r(250),Sr={stopScrollGraph:!0,stopZoomGraph:!0,stopMoveGraph:!0},Pr={nodes:[{id:10,type:"rect",x:100,y:100,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:400,y:100,text:"\u4f60\u597d\uff01"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,endPoint:{id:"150-150",x:350,y:100}}]};r(232);var Ar={stopScrollGraph:!0,stopZoomGraph:!0},kr={nodes:[{id:10,type:"rect",x:100,y:100,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:400,y:100,text:"\u4f60\u597d\uff01"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,endPoint:{id:"150-150",x:350,y:100}}]};var Nr,Dr={stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1},Mr={nodes:[{id:10,type:"rect",x:150,y:80,text:"\u53f3\u952e\u8282\u70b9"},{id:20,type:"rect",x:400,y:80,text:"\u53f3\u952e\u8282\u70b9"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u53f3\u952e\u8fde\u7ebf",endPoint:{id:"150-60",x:350,y:80}}]};var Tr=[{type:"circle",text:"\u5706\u5f62"},{type:"rect",text:"\u77e9\u5f62"}];function Cr(e){return Object(y.jsx)("div",{className:"panel",children:Tr.map((function(t,r){var n=t.type,o=t.text;return Object(y.jsxs)("div",{className:"panel-item",children:[Object(y.jsx)("div",{className:"panel-".concat(n),onMouseDown:function(){!function(t){e.lf.dnd.startDrag(t)}(t)}}),Object(y.jsx)("span",{children:o})]},r)}))})}var Rr={pluginName:"dnd",install:function(){},render:function(e,t){a.a.render(Object(y.jsx)(Cr,{lf:e}),t)}},Ir={stopScrollGraph:!0,stopZoomGraph:!0};var Lr,zr=r(42),Br=r(33),Gr=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(e,n){return Object(m.a)(this,r),e.text={value:e.text&&e.text.value||"",x:e.x,y:e.y+35},t.call(this,e,n)}return Object(O.a)(r,[{key:"setAttributes",value:function(){this.rx=20,this.ry=20}},{key:"getConnectedTargetRules",value:function(){var e=Object(zr.a)(Object(Br.a)(r.prototype),"getConnectedTargetRules",this).call(this);return e.push({message:"\u8d77\u59cb\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fde\u7ebf\u7684\u7ec8\u70b9",validate:function(){return!1}}),e}}]),r}(Ct.model),Fr={type:"bpmn:startEvent",view:function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(O.a)(r,[{key:"getAttributes",value:function(){var e=Object(zr.a)(Object(Br.a)(r.prototype),"getAttributes",this).call(this);return Object(s.a)({},e)}}]),r}(Ct.view),model:Gr},Ur=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(e,n){return Object(m.a)(this,r),e.text={value:e.text&&e.text.value||"",x:e.x,y:e.y+40},t.call(this,e,n)}return Object(O.a)(r,[{key:"setAttributes",value:function(){this.rx=25,this.ry=25}}]),r}(Gt.model),Xr={type:"bpmn:exclusiveGateway",view:function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(O.a)(r,[{key:"getResizeShape",value:function(){var e=Object(zr.a)(Object(Br.a)(r.prototype),"getAttributes",this).call(this),t=e.x,n=e.y,o=e.fill,i=e.stroke,a=e.strokeWidth,c=e.points.map((function(e){return e.join(",")})).join(" ");return Object(l.h)("g",{},Object(l.h)("polygon",{fill:o,stroke:i,strokeWidth:a,points:c}),Object(l.h)("path",{transform:"matrix(1 0 0 1 ".concat(t-25," ").concat(n-25,")"),fill:o,stroke:i,strokeWidth:a,d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"}))}}]),r}(Gt.view),model:Ur},Hr=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(O.a)(r,[{key:"setAttributes",value:function(){this.width=100,this.height=80,this.radius=10}}]),r}(At.model),Yr={type:"bpmn:userTask",view:function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(O.a)(r,[{key:"getResizeShape",value:function(){var e=this.getAttributes(),t=e.x,r=e.y,n=e.width,o=e.height,i=e.fill,a=e.stroke,c=e.strokeWidth,u=e.radius,f={x:t-n/2,y:r-o/2,width:n,height:o,stroke:a,fill:i,strokeWidth:c,rx:u,ry:u};return Object(l.h)("g",{},[Object(l.h)("rect",Object(s.a)({},f)),Object(l.h)("svg",{x:t-n/2+5,y:r-o/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Object(l.h)("path",{fill:a,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))])}}]),r}(At.view),model:Hr},Vr=(r(233),{background:{color:"#f7f9ff"},grid:{type:"dot",size:5,visible:!1},keyboard:{enabled:!0}}),Wr={nodes:[{id:10,type:"rect",x:100,y:100},{id:20,type:"rect",x:400,y:100}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20}]},Kr={display:"flex",alignItems:"center"};var Zr=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(O.a)(r,[{key:"setAttributes",value:function(){this.width=80,this.height=80,this.anchorsOffset=[[40,0],[-40,0]],this.sourceRules.push({message:"\u6b63\u65b9\u5f62\u8282\u70b9\u4e0b\u4e00\u4e2a\u8282\u70b9\u53ea\u80fd\u662f\u5706\u5f62\u8282\u70b9",validate:function(e,t){return"circle"===t.type}})}}]),r}(l.RectNodeModel),qr={type:"square",view:function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(O.a)(r,[{key:"getShape",value:function(){var e=this.getAttributes(),t=e.x,r=e.y,n=e.width,o=e.height,i=e.fill,a=e.stroke,c=e.strokeWidth,u=e.properties,f={x:t-n/2,y:r-o/2,width:n,height:o,stroke:a,fill:i,strokeWidth:c},p=Object(l.h)("svg",{x:t-n/2+5,y:r-o/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Object(l.h)("path",{fill:a,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}));return Object(l.h)("g",{},[Object(l.h)("rect",Object(s.a)({},f)),u.isUser?p:null])}}]),r}(l.RectNode),model:Zr},Qr={hideAnchors:!0,stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},Jr={nodes:[{id:10,type:"square",x:150,y:90,text:"\u6b63\u65b9\u5f62"}]};var $r={stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},en={nodes:[{id:10,type:"square",x:150,y:90,text:"\u6b63\u65b9\u5f62"}]};var tn=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(O.a)(r,[{key:"setAttributes",value:function(){this.points=[[50,0],[100,80],[0,80]]}}]),r}(l.PolygonNodeModel),rn={type:"triangle",view:l.PolygonNode,model:tn},nn={isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0},on={nodes:[{id:10,type:"triangle",x:150,y:70,text:"triangle"}]};var an={stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},cn={nodes:[{id:10,type:"square",x:150,y:150,text:"\u6b63\u65b9\u5f62"},{id:20,type:"circle",x:380,y:70,text:"\u5706\u5f62"},{id:30,type:"diamond",x:380,y:230,text:"\u5176\u4ed6\u8282\u70b9"}]};var un={hideAnchors:!0,stopScrollGraph:!0,stopZoomGraph:!0},sn={nodes:[{id:10,type:"square",x:150,y:90,text:"\u6b63\u65b9\u5f62",properties:{isUser:!0}}]};r(129);var ln=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(O.a)(r,[{key:"setAttributes",value:function(){this.text.editable=!1;this.width=200,this.height=130,this.anchorsOffset=[[100,0],[0,65],[-100,0],[0,-65]]}}]),r}(l.HtmlNodeModel),fn={type:"uml",view:function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(){var e;Object(m.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).currrentProperties=void 0,e}return Object(O.a)(r,[{key:"shouldUpdate",value:function(){var e=this.getAttributes().properties;return(!this.currrentProperties||this.currrentProperties!==JSON.stringify(e))&&(this.currrentProperties=JSON.stringify(e),!0)}},{key:"setHtml",value:function(e){var t=this.getAttributes().properties;if(this.shouldUpdate()){var r=document.createElement("div");r.className="uml-wrapper";var n='\n      <div>\n        <div class="uml-head">Head</div>\n        <div class="uml-body">\n          <div>+ '.concat(t.name,"</div>\n          <div>+ ").concat(t.body,'</div>\n        </div>\n        <div class="uml-footer">\n          <div>+ setHead(Head $head)</div>\n          <div>+ setBody(Body $body)</div>\n        </div>\n      </div>\n    ');r.innerHTML=n,e.innerHTML="",e.appendChild(r)}}}]),r}(l.HtmlNode),model:ln};function pn(e){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h1",{className:"box-title",children:"title"}),Object(y.jsxs)("div",{className:"box-content",children:[Object(y.jsx)("p",{children:e.name}),Object(y.jsx)("p",{children:e.body}),Object(y.jsx)("p",{children:"content3"})]})]})}var dn,hn=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(O.a)(r,[{key:"setAttributes",value:function(){this.text.editable=!1;this.width=200,this.height=116,this.anchorsOffset=[[100,0],[0,58],[-100,0],[0,-58]]}}]),r}(l.HtmlNodeModel),yn={type:"boxx",view:function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(O.a)(r,[{key:"setHtml",value:function(e){var t=this.getAttributes().properties;a.a.render(Object(y.jsx)(pn,{name:t.name,body:t.body}),e)}}]),r}(l.HtmlNode),model:hn},vn={stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},bn={nodes:[{id:10,type:"uml",x:150,y:90,properties:{name:"logicflow",body:"hello"}},{id:11,type:"boxx",x:350,y:100,properties:{name:"turbo",body:"hello"}}]};var gn={stopScrollGraph:!0,stopZoomGraph:!0},mn={nodes:[{id:10,type:"rect",x:100,y:110,text:"\u5ba1\u6279\u901a\u8fc7"},{id:20,type:"rect",x:300,y:110,text:"\u5ba1\u6279\u4e2d"},{id:30,type:"rect",x:500,y:110,text:"\u672a\u5f00\u59cb"}],edges:[{type:"process",sourceNodeId:10,targetNodeId:20,startPoint:{id:"150-110",x:150,y:110},endPoint:{id:"250-110",x:250,y:110},properties:{isExecuted:!0}},{type:"process",sourceNodeId:20,targetNodeId:30,startPoint:{id:"350-110",x:350,y:110},endPoint:{id:"450-110",x:450,y:110},properties:{isExecuted:!1}}]};var On,xn={stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1},wn={nodes:[{id:10,type:"rect",x:150,y:80,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:80,text:"\u5706\u5f62"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u8fde\u7ebf",endPoint:{id:"150-60",x:350,y:80}}]};var _n=r(139),jn=r(249),En=r(247),Sn=r(248),Pn=r(144),An=[{type:"apply",label:"\u7533\u8bf7",style:{width:"30px",height:"30px",borderRadius:"15px",border:"2px solid #FF6347"},property:{username:"",time:"",startTime:"",endTime:""}},{type:"approver",label:"\u5ba1\u6279",style:{width:"50px",height:"40px",borderRadius:"4px",border:"2px solid #3CB371"}},{type:"jugement",label:"\u5224\u65ad",style:{width:"30px",height:"30px",border:"2px solid #6495ED",transform:"rotate(45deg)"}},{type:"finsh",label:"\u7ed3\u675f",style:{width:"30px",height:"30px",borderRadius:"15px",border:"2px solid #FF6347"}}],kn=[{label:"\u76f4\u63a5\u4e0a\u7ea7",value:"leader"},{label:"T3\u9886\u5bfc",value:"t3Leader"},{label:"T2\u9886\u5bfc",value:"t2Leader"},{label:"T1\u9886\u5bfc",value:"t1Leader"}],Nn={nodes:[{id:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",type:"apply",x:210,y:210,text:{x:210,y:210,value:"\u7533\u8bf7"},properties:{}},{id:"64179bd7-c60e-433c-8df7-97c8e98f855d",type:"approver",x:350,y:210,text:{x:350,y:210,value:"\u5ba1\u6279"},properties:{labelColor:"#000000",approveTypeLabel:"\u76f4\u63a5\u4e0a\u7ea7",approveType:"leader"}},{id:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",type:"jugement",x:510,y:210,text:{x:510,y:210,value:"\u5224\u65ad\u62a5\u9500\u662f\u5426\n\u5927\u4e8e1000\u5143"},properties:{api:""}},{id:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",type:"approver",x:670,y:210,text:{x:670,y:210,value:"\u5ba1\u6279"},properties:{labelColor:"#000000",approveTypeLabel:"T2\u9886\u5bfc",approveType:"t2Leader"}},{id:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",type:"finsh",x:850,y:210,text:{x:850,y:210,value:"\u7ed3\u675f"},properties:{}}],edges:[{id:"0d87b1eb-2389-445a-9f34-6227940b2072",type:"polyline",sourceNodeId:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",targetNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",startPoint:{x:235,y:210},endPoint:{x:300,y:210},text:{x:51.25,y:0,value:""},properties:{},pointsList:[{x:235,y:210},{x:300,y:210}]},{id:"d99e7451-b379-411e-b0da-df11be8be20a",type:"polyline",sourceNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",targetNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",startPoint:{x:400,y:210},endPoint:{x:475,y:210},text:{x:437.5,y:210,value:"\u901a\u8fc7"},properties:{},pointsList:[{x:400,y:210},{x:475,y:210}]},{id:"4c615802-15d8-442c-be22-b65430286123",type:"polyline",sourceNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",targetNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",startPoint:{x:545,y:210},endPoint:{x:620,y:210},text:{x:582.5,y:210,value:"\u662f"},properties:{},pointsList:[{x:545,y:210},{x:620,y:210}]},{id:"934ae03a-6ee0-4568-a2b4-8bcede565e0b",type:"polyline",sourceNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:720,y:210},endPoint:{x:825,y:210},text:{x:-10,y:0,value:""},properties:{},pointsList:[{x:720,y:210},{x:825,y:210}]},{id:"bd5e1dd0-1978-46f7-851b-d31c03aebee9",type:"polyline",sourceNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:350,y:170},endPoint:{x:850,y:185},text:{x:600,y:140,value:"\u9a73\u56de"},properties:{},pointsList:[{x:350,y:170},{x:350,y:140},{x:850,y:140},{x:850,y:185}]},{id:"453139c3-faa1-4e3a-a413-38f251243baa",type:"polyline",sourceNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:510,y:245},endPoint:{x:850,y:235},text:{x:680,y:275,value:"\u5426"},properties:{},pointsList:[{x:510,y:245},{x:510,y:275},{x:850,y:275},{x:850,y:235}]}]};r(234);function Dn(e,t,r){var n;console.log(e.properties);return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"\u5c5e\u6027\u9762\u677f"}),Object(y.jsxs)(En.a,{layout:"inline",initialValues:e.properties,onValuesChange:function(r,n){kn.forEach((function(e){e.value===r.approveType&&(r.approveTypeLabel=e.label)})),t(e.id,r)},children:[Object(y.jsxs)("span",{className:"form-property",children:["\u7c7b\u578b\uff1a",Object(y.jsx)("span",{children:e.type})]}),Object(y.jsxs)("span",{className:"form-property",children:["\u6587\u6848\uff1a",Object(y.jsx)("span",{children:null===(n=e.text)||void 0===n?void 0:n.value})]}),"approver"===e.type?function(){var e=[];return kn.forEach((function(t){e.push(Object(y.jsx)(jn.a.Option,{value:t.value,children:t.label}))})),Object(y.jsx)(En.a.Item,{className:"form-property",label:"\u5ba1\u6838\u8282\u70b9\u7c7b\u578b",name:"approveType",children:Object(y.jsx)(jn.a,{children:e})})}():"","jugement"===e.type?Object(y.jsx)(En.a.Item,{label:"API",name:"api",children:Object(y.jsx)(Sn.a,{})}):""]},e.id),Object(y.jsxs)("div",{children:[Object(y.jsx)("h3",{children:"......"}),Object(y.jsx)("h3",{children:"\u4e1a\u52a1\u5c5e\u6027\u53ef\u6839\u636e\u9700\u8981\u8fdb\u884c\u81ea\u5b9a\u4e49\u6269\u5c55"})]}),Object(y.jsx)("div",{className:"property-panel-footer",children:Object(y.jsx)(d.a,{className:"property-panel-footer-hide",type:"primary",icon:Object(y.jsx)(Pn.a,{}),onClick:r,children:"\u6536\u8d77"})})]})}function Mn(e){return function(){var t=[];return An.forEach((function(r,n){t.push(Object(y.jsxs)("div",{className:"approve-node node-".concat(r.type),children:[Object(y.jsx)("div",{className:"node-shape",style:Object(s.a)({},r.style),onMouseDown:function(){return function(t){e.dnd.startDrag({type:t.type,text:t.label})}(r)}}),Object(y.jsx)("div",{className:"node-label",children:r.label})]},n))})),t}()}r(236);var Tn={stopScrollGraph:!0,stopZoomGraph:!0,grid:{size:10,visible:!0,type:"mesh",config:{color:"#DCDCDC"}},keyboard:{enabled:!0},style:{rect:{radius:8,stroke:"#3CB371"},circle:{r:25,stroke:"#FF6347"},polygon:{stroke:"#6495ED"},polyline:{strokeWidth:1},edgeText:{background:{fill:"white"}}}};var Cn={0:"grey",1:"green",2:"red"};var Rn=r(246),In=r(105),Ln=r(60),zn={apply:"\u7533\u8bf7",approver:"\u5ba1\u6838",jugement:"\u5224\u65ad",finsh:"\u7ed3\u675f"},Bn={nodes:[{id:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",type:"apply",x:210,y:210,text:{x:210,y:210,value:"\u5f20\u4e09"},properties:{usernameZh:"\u5f20\u4e09",username:"zhangsan",time:"2020-12-01 10:23:34",result:"",desc:"\u6d3b\u52a8\u8d39\u7528",status:1}},{id:"64179bd7-c60e-433c-8df7-97c8e98f855d",type:"approver",x:350,y:210,text:{x:350,y:210,value:"\u674e\u56db"},properties:{labelColor:"#000000",approveTypeLabel:"\u76f4\u63a5\u4e0a\u7ea7",approveType:"leader",usernameZh:"\u674e\u56db",username:"zhangsan",time:"2020-12-01 11:23:34",result:"\u901a\u8fc7",desc:"",status:1}},{id:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",type:"jugement",x:510,y:210,text:{x:510,y:210,value:"\u5224\u65ad\u62a5\u9500\u662f\u5426\n\u5927\u4e8e1000\u5143"},properties:{api:"",status:1,usenameZh:"\u7cfb\u7edf",desc:"\u5224\u65ad\u62a5\u9500\u662f\u5426\u5927\u4e8e1000\u5143"}},{id:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",type:"approver",x:670,y:210,text:{x:670,y:210,value:"\u738b\u4e94"},properties:{labelColor:"#000000",approveTypeLabel:"T2\u9886\u5bfc",approveType:"t2Leader",usernameZh:"\u738b\u4e94",username:"wangwu",time:"2020-12-01 12:23:34",result:"\u9a73\u56de",desc:"",status:2}},{id:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",type:"finsh",x:850,y:210,text:{x:850,y:210,value:"\u7ed3\u675f"},properties:{status:2}}],edges:[{id:"0d87b1eb-2389-445a-9f34-6227940b2072",type:"action",sourceNodeId:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",targetNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",startPoint:{x:235,y:210},endPoint:{x:300,y:210},text:{x:51.25,y:0,value:""},properties:{status:1},pointsList:[{x:235,y:210},{x:300,y:210}]},{id:"d99e7451-b379-411e-b0da-df11be8be20a",type:"action",sourceNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",targetNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",startPoint:{x:400,y:210},endPoint:{x:475,y:210},text:{x:437.5,y:210,value:"\u901a\u8fc7"},properties:{status:1},pointsList:[{x:400,y:210},{x:475,y:210}]},{id:"4c615802-15d8-442c-be22-b65430286123",type:"action",sourceNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",targetNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",startPoint:{x:545,y:210},endPoint:{x:620,y:210},text:{x:582.5,y:210,value:"\u662f"},properties:{status:1},pointsList:[{x:545,y:210},{x:620,y:210}]},{id:"934ae03a-6ee0-4568-a2b4-8bcede565e0b",type:"action",sourceNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:720,y:210},endPoint:{x:825,y:210},text:{x:-10,y:0,value:"\u9a73\u56de"},properties:{status:2},pointsList:[{x:720,y:210},{x:825,y:210}]}]};function Gn(e,t){return Object(y.jsx)("div",{className:"hover-panel",style:Object(s.a)({},e),children:function(e){if(e){var r=t.properties;return Object(y.jsxs)(Rn.a,{title:zn[t.type],style:{width:300},children:[Object(y.jsxs)("p",{children:[r.usernameZh,r.username?Object(y.jsxs)("span",{children:["(",r.username,")"]}):""]}),Object(y.jsx)("p",{children:r.time}),r.result?Object(y.jsxs)("p",{children:["\u901a\u8fc7"===r.result?Object(y.jsx)(In.a,{style:{color:"green"}}):Object(y.jsx)(Ln.a,{style:{color:"red"}}),Object(y.jsx)("span",{style:{marginLeft:"10px"},children:r.result})]}):"",r.desc?Object(y.jsxs)("p",{children:["\u8bf4\u660e: ",r.desc]}):""]})}}(t)})}r(237);var Fn={grid:{size:10,type:"mesh",config:{color:"#DCDCDC"}},isSilentMode:!0,keyboard:{enabled:!0},style:{rect:{radius:8},circle:{r:25},edgeText:{background:{fill:"white"}}}};var Un={stopScrollGraph:!0,stopZoomGraph:!0},Xn={nodes:[{id:10,type:"bpmn:startEvent",x:76,y:178,properties:{},baseType:"node",text:{x:76,y:213,value:"StartEvent"}},{id:11,type:"bpmn:endEvent",x:567,y:176,properties:{},baseType:"node",text:{x:567,y:211,value:"EndEvent"}},{id:12,type:"bpmn:userTask",x:386,y:59,properties:{},baseType:"node",text:{x:386,y:59,value:"UserTask"}},{id:13,type:"bpmn:serviceTask",x:385,y:286,properties:{},baseType:"node",text:{x:385,y:286,value:"ServiceTask"}},{id:14,type:"bpmn:exclusiveGateway",x:206,y:178,properties:{},baseType:"node"}],edges:[{id:"Flow_2fs3ivm",type:"bpmn:sequenceFlow",sourceNodeId:10,targetNodeId:14,startPoint:{x:94,y:178},endPoint:{x:181,y:178},properties:{},pointsList:[{x:94,y:178},{x:181,y:178}]},{id:"Flow_2mtbh4v",type:"bpmn:sequenceFlow",sourceNodeId:14,targetNodeId:12,startPoint:{x:231,y:178},endPoint:{x:336,y:59},properties:{},pointsList:[{x:231,y:178},{x:306,y:178},{x:306,y:59},{x:336,y:59}]},{id:"Flow_1hm4ecl",type:"bpmn:sequenceFlow",sourceNodeId:14,targetNodeId:13,startPoint:{x:231,y:178},endPoint:{x:335,y:286},properties:{},pointsList:[{x:231,y:178},{x:305,y:178},{x:305,y:286},{x:335,y:286}]},{id:"Flow_1vo95qa",type:"bpmn:sequenceFlow",sourceNodeId:12,targetNodeId:11,startPoint:{x:436,y:59},endPoint:{x:549,y:176},properties:{},pointsList:[{x:436,y:59},{x:519,y:59},{x:519,y:176},{x:549,y:176}]},{id:"Flow_3o5b4v0",type:"bpmn:sequenceFlow",sourceNodeId:13,targetNodeId:11,startPoint:{x:435,y:286},endPoint:{x:549,y:176},properties:{},pointsList:[{x:435,y:286},{x:519,y:286},{x:519,y:176},{x:549,y:176}]}]};var Hn,Yn=r(253),Vn=(r(238),[{type:"rect",label:"\u77e9\u5f62",className:"adpter-shape adpter-rect"},{type:"circle",label:"\u5706\u5f62",className:"adpter-shape adpter-circle"}]);r(239);var Wn,Kn={grid:{type:"dot",size:20}},Zn={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:70,text:"\u5706\u5f62"}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20}]},qn={display:"flex",alignItems:"center"};var Qn=Object(y.jsxs)(u.c,{children:[Object(y.jsx)(u.a,{path:"/basic/node",exact:!0,component:function(){return Object(n.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},A),{},{container:document.querySelector("#graph")})).render(k)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/basic/node/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/edge",exact:!0,component:function(){var e=Object(n.useState)("\u6298\u7ebf"),t=Object(N.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(),a=Object(N.a)(i,2),c=a[0],u=a[1];Object(n.useEffect)((function(){f.a.use(rt);var e=new f.a(Object(s.a)(Object(s.a)({},Zt),{},{container:document.querySelector("#graph")}));e.render(qt),u(e)}),[]);var l=function(e,t){c.setDefaultEdgeType(e),o(t)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5c1d\u8bd5\u4e3a\u77e9\u5f62\u548c\u5706\u5f62\u624b\u52a8\u6dfb\u52a0\u8fde\u7ebf",githubPath:"/basic/edge/index.tsx"}),Object(y.jsxs)("div",{children:["\u5f53\u524d\uff1a",r]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("button",{onClick:function(){return l("line","\u76f4\u7ebf")},children:"\u76f4\u7ebf"}),Object(y.jsx)("button",{onClick:function(){return l("polyline","\u6298\u7ebf")},children:"\u6298\u7ebf"}),Object(y.jsx)("button",{onClick:function(){return l("curved-edge","\u5706\u89d2\u6298\u7ebf")},children:"\u5706\u89d2\u6298\u7ebf"}),Object(y.jsx)("button",{onClick:function(){return l("bezier","\u66f2\u7ebf")},children:"\u66f2\u7ebf"})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/dnd",exact:!0,component:j}),Object(y.jsx)(u.a,{path:"/basic/keyboard",exact:!0,component:function(){return Object(n.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},or),{},{container:document.querySelector("#graph")})).render(ir)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{githubPath:"/basic/keyboard/index.tsx",children:[Object(y.jsx)("div",{className:"keyboard-example-code",children:"Ctrl + C"}),Object(y.jsx)("div",{className:"keyboard-example-code",children:"Ctrl + V"})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/grid",exact:!0,component:P}),Object(y.jsx)(u.a,{path:"/basic/redoundo",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use(Fe),new f.a(Object(s.a)(Object(s.a)({},ar),{},{container:document.querySelector("#graph")})).render(cr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5c1d\u8bd5\u8fde\u7ebf\u540e\u70b9\u51fb\u201c\u4e0a\u4e00\u6b65\u201d\u64a4\u9500",githubPath:"/basic/redoundo/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/snapline",exact:!0,component:function(){return Object(n.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},ur),{},{container:document.querySelector("#graph")})).render(sr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5c1d\u8bd5\u62d6\u62fd\u5706\u5f62\u4f7f\u4e24\u4e2a\u8282\u70b9\u5bf9\u9f50",githubPath:"/basic/snapline/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/basic/silent-mode",exact:!0,component:function(){return Object(n.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},lr),{},{container:document.querySelector("#graph")})).render(fr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u9759\u9ed8\u6a21\u5f0f\u4e0b\u4e0d\u53ef\u7f16\u8f91",githubPath:"/basic/silent-mode/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/theme",exact:!0,component:function(){return Object(n.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},pr),{},{container:document.querySelector("#graph")})).render(dr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/advance/theme/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/event",exact:!0,component:function(){var e=Object(n.useState)(""),t=Object(N.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(""),a=Object(N.a)(i,2),c=a[0],u=a[1];return Object(n.useEffect)((function(){var e,t;On=new f.a(Object(s.a)(Object(s.a)({},xn),{},{container:document.querySelector("#graph")})),t=function(e){var t=e.data,r=e.e;o(r.type),u(t.type)},(e=On).on("node:mousedown",(function(e){var r=e.data,n=e.e;return t({data:r,e:n})})),e.on("node:mouseup",(function(e){var r=e.data,n=e.e;return t({data:r,e:n})})),e.on("node:mousemove",(function(e){var r=e.data,n=e.e;return t({data:r,e:n})})),e.on("node:contextmenu",(function(e){var r=e.data,n=e.e;return t({data:r,e:n})})),e.on("edge:click",(function(e){var r=e.data,n=e.e;return t({data:r,e:n})})),e.on("edge:dbclick",(function(e){var r=e.data,n=e.e;return t({data:r,e:n})})),e.on("edge:contextmenu",(function(e){var r=e.data,n=e.e;return t({data:r,e:n})})),On.render(wn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{githubPath:"/advance/event/index.tsx",children:["\u62d6\u62fd\u6216\u70b9\u51fb\u5143\u7d20\u67e5\u770b\u89e6\u53d1\u4e8b\u4ef6\uff1a",r?"".concat(r,"-").concat(c):""]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/style",exact:!0,component:function(){return Object(n.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},Qr),{},{container:document.querySelector("#graph")}));e.register(qr),e.render(Jr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u8282\u70b9\u7684 width \u548c height",githubPath:"/advance/custom-node/style/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/anchor",exact:!0,component:function(){return Object(n.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},$r),{},{container:document.querySelector("#graph")}));e.register(qr),e.render(en)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u53ea\u4fdd\u7559\u6c34\u5e73\u65b9\u5411\u4e0a\u7684\u951a\u70b9",githubPath:"/advance/custom-node/anchor/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/triangle",exact:!0,component:function(){return Object(n.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},nn),{},{container:document.querySelector("#graph")}));e.register(rn),e.render(on)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u8bbe\u7f6e\u591a\u8fb9\u5f62\u7684\u9876\u70b9\u6765\u5b9e\u73b0\u4e09\u89d2\u5f62",githubPath:"/advance/custom-node/triangle/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/rule",exact:!0,component:function(){return Object(n.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},an),{},{container:document.querySelector("#graph")}));e.register(qr),e.render(cn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u6b63\u65b9\u5f62\u7684\u4e0b\u4e00\u4e2a\u8282\u70b9\u53ea\u80fd\u662f\u5706\u5f62\u8282\u70b9",githubPath:"/advance/custom-node/rule/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/shape",exact:!0,component:function(){return Object(n.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},un),{},{container:document.querySelector("#graph")}));e.register(qr),e.render(sn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u8282\u70b9\u7684 SVG \u5143\u7d20",githubPath:"/advance/custom-node/shape/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-edge/process",exact:!0,component:function(){return Object(n.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},gn),{},{container:document.querySelector("#graph")})),t=function(){var e=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(O.a)(r,[{key:"setAttributes",value:function(){this.properties.isExecuted&&(this.stroke="green")}}]),r}(l.LineEdgeModel);return{type:"process",view:l.LineEdge,model:e}}();e.register(t),e.render(mn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/advance/custom-edge/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/advance/custom-node/html",exact:!0,component:function(){return Object(n.useEffect)((function(){(dn=new f.a(Object(s.a)(Object(s.a)({},vn),{},{container:document.querySelector("#graph_html")}))).register(fn),dn.register(yn),dn.render(bn),dn.on("node:click",(function(e){var t=e.data;dn.setProperties(t.id,{name:"turbo",body:Math.random()})}))}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u81ea\u5b9a\u4e49HTML\u8282\u70b9",githubPath:"/advance/custom-node/html/index.tsx"}),Object(y.jsx)("div",{id:"graph_html",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/snapshot",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use(fe),(hr=new f.a(Object(s.a)(Object(s.a)({},vr),{},{container:document.querySelector("#graph")}))).render(br)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{contentStyle:gr,githubPath:"/extension/snapshot/index.tsx",children:["\u5bfc\u51fa\u56fe\u7247\uff1a",Object(y.jsx)(d.a,{shape:"round",icon:Object(y.jsx)(yr.a,{}),onClick:function(){hr.getSnapshot()}})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/control",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use(Fe),new f.a(Object(s.a)(Object(s.a)({},mr),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")})).render()}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/extension/components/control/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/menu",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use(We);var e=new f.a(Object(s.a)(Object(s.a)({},xr),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}));e.register(Or),e.setMenuByType({type:"circle",menu:[{text:"\u5706\u7684\u83dc\u5355",callback:function(){alert("callback")}}]}),e.render(wr),e.on("custom:node:event",(function(e){console.log(e),alert("\u63a5\u6536\u5230\u81ea\u5b9a\u4e49\u8282\u70b9\u83dc\u5355\u89e6\u53d1\u4e8b\u4ef6")}))}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u53f3\u952e\u8282\u70b9\u5c55\u793a\u83dc\u5355",githubPath:"/extension/components/menu/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/dnd-panel",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use(Ke),f.a.use(Ze);var e=new f.a(Object(s.a)(Object(s.a)({},_r),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}));e.setPatternItems([{label:"\u9009\u533a",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:function(){e.openSelectionSelect(),e.once("selection:selected",(function(){e.closeSelectionSelect()}))}},{type:"circle",text:"\u5f00\u59cb",label:"\u5f00\u59cb\u8282\u70b9",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",label:"\u7528\u6237\u4efb\u52a1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",className:"important-node"},{type:"rect",label:"\u7cfb\u7edf\u4efb\u52a1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",label:"\u6761\u4ef6\u5224\u65ad",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ed3\u675f",label:"\u7ed3\u675f\u8282\u70b9",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]),e.render()}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/extension/components/dnd-panel/index.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/selection",exact:!0,component:function(){var e=Object(n.useState)(!0),t=Object(N.a)(e,2),r=t[0],o=t[1];return Object(n.useEffect)((function(){f.a.use(Ze),(jr=new f.a(Object(s.a)(Object(s.a)({},Sr),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}))).render(Pr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5f00\u542f\u591a\u9009\u529f\u80fd",githubPath:"/extension/components/selection/index.tsx",children:Object(y.jsx)(Er.a,{defaultChecked:!0,onChange:function(){r?jr.closeSelectionSelect():jr.openSelectionSelect(),o(!r)}})}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/mini-map",exact:!0,component:function(){var e=Object(n.useState)(!1),t=Object(N.a)(e,2),r=t[0],o=t[1];return Object(n.useEffect)((function(){f.a.use(Qe),new f.a(Object(s.a)(Object(s.a)({},Ar),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")})).render(kr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u663e\u793a mini-map",githubPath:"/extension/components/mini-map/index.tsx",children:Object(y.jsx)(Er.a,{onChange:function(){r?(Qe.hide(),o(!1)):(Qe.show(),o(!0))}})}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/custom-menu",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use(We),(Nr=new f.a(Object(s.a)(Object(s.a)({},Dr),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}))).addMenuConfig({nodeMenu:[{text:"\u5206\u4eab",callback:function(){alert("\u5206\u4eab\u6210\u529f\uff01")}},{text:"\u5c5e\u6027",callback:function(e){alert("\n              \u8282\u70b9id\uff1a".concat(e.id,"\n              \u8282\u70b9\u7c7b\u578b\uff1a").concat(e.type,"\n              \u8282\u70b9\u5750\u6807\uff1a(x: ").concat(e.x,", y: ").concat(e.y,")"))}}],edgeMenu:[{text:"\u5c5e\u6027",callback:function(e){console.log(e),alert("\n              \u8fb9id\uff1a".concat(e.id,"\n              \u8fb9\u7c7b\u578b\uff1a").concat(e.type,"\n              \u6e90\u8282\u70b9id\uff1a").concat(e.sourceNodeId,"\n              \u76ee\u6807\u8282\u70b9id\uff1a").concat(e.targetNodeId))}}],graphMenu:[{text:"\u5206\u4eab",callback:function(){alert("\u5206\u4eab\u6210\u529f\uff01")}}]}),Nr.render(Mr)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{content:"\u5206\u522b\u53f3\u952e\u8282\u70b9\u548c\u753b\u5e03\u6765\u5c55\u793a\u83dc\u5355"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/components/custom-dnd",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use(Rr),new f.a(Object(s.a)(Object(s.a)({},Ir),{},{container:document.querySelector("#graph")})).render()}),[]),Object(y.jsx)("div",{id:"graph",className:"viewport"})}}),Object(y.jsx)(u.a,{path:"/extension/bpmn-elements",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use(le);var e=new f.a(Object(s.a)(Object(s.a)({},Un),{},{container:document.querySelector("#graph")}));window.lf=e,e.render(Xn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/extension/bpmn/Elements.tsx"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/adapter",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use(je),f.a.use(Fe),f.a.use(Ke),(Hn=new f.a({container:document.querySelector("#graph"),stopScrollGraph:!0,stopZoomGraph:!0})).setPatternItems(Vn),Hn.render()}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(v,{githubPath:"/extension/adapter/index.tsx",children:["\u5bfc\u51fa bpmnAdapter \u8f6c\u6362\u540e\u7684\u6570\u636e\u683c\u5f0f\uff1a",Object(y.jsx)(d.a,{shape:"round",icon:Object(y.jsx)(Yn.a,{}),onClick:function(){var e=Hn.getGraphData();!function(e,t){var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}("logic-flow.json",JSON.stringify(e))}})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/node-resize",exact:!0,component:function(){Object(n.useEffect)((function(){Ft.style.outline=Object(s.a)(Object(s.a)({},Ft.style.outline),{},{stroke:"#1E90FF",strokeDasharray:""}),f.a.use(Ft),(Lr=new f.a(Object(s.a)(Object(s.a)({},Vr),{},{container:document.querySelector("#graph")}))).setTheme({rect:{strokeWidth:2,outlineColor:"transparent",stroke:"blue"},ellipse:{strokeWidth:2,outlineColor:"transparent"},diamond:{strokeWidth:2,outlineColor:"transparent"}}),Lr.register(Fr),Lr.register(Xr),Lr.register(Yr),Lr.render(Wr),Lr.on("node:resize",(function(e){console.log(e);var t=e.newNodeSize,r=t.id,n=t.type;if("bpmn:exclusiveGateway"===n||"bpmn:startEvent"===n){var o={x:t.x,y:t.y+t.ry+10};Lr.setNodeData({id:r,text:o})}}))}),[]);var e=function(e){Lr.dnd.startDrag({type:e})};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{contentStyle:Kr,githubPath:"/extension/NodeResize/index.tsx",children:"\u8282\u70b9\u7f29\u653e"}),Object(y.jsxs)("div",{className:"node-resize-list",children:[Object(y.jsx)("div",{children:"\u62d6\u62fd\u6dfb\u52a0\u8282\u70b9"}),Object(y.jsx)("div",{className:"node-resize-custome",onMouseDown:function(){return e("bpmn:userTask")},children:"\u7528\u6237"}),Object(y.jsx)("div",{className:"node-resize-custome",onMouseDown:function(){return e("bpmn:startEvent")},children:"\u5f00\u59cb"}),Object(y.jsx)("div",{className:"node-resize-custome",onMouseDown:function(){return e("bpmn:exclusiveGateway")},children:"\u5224\u65ad"}),Object(y.jsx)("div",{className:"node-resize-rect",onMouseDown:function(){return e("rect")}}),Object(y.jsx)("div",{className:"node-resize-ellipse",onMouseDown:function(){return e("ellipse")}}),Object(y.jsx)("div",{className:"node-resize-diamond",onMouseDown:function(){return e("diamond")}})]}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/extension/InserNodeInPolyline",exact:!0,component:function(){return Object(n.useEffect)((function(){f.a.use(ze),f.a.use(Ke),f.a.use(Ze),(Wn=new f.a(Object(s.a)(Object(s.a)({},Kn),{},{container:document.querySelector("#graph")}))).setPatternItems([{type:"circle",label:"\u5706\u5f62",className:"circle"},{type:"rect",label:"\u77e9\u5f62",className:"rect"}]),Wn.render(Zn)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{contentStyle:qn,children:"\u62d6\u62fd\u8282\u70b9\u5230\u7ebf\u4e2d\u95f4\u8fdb\u884c\u8282\u70b9\u63d2\u5165\uff1a"}),Object(y.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(y.jsx)(u.a,{path:"/usage/bpmn",exact:!0,component:nr}),Object(y.jsx)(u.a,{path:"/usage/approve",exact:!0,component:function(){var e=Object(n.useState)({}),t=Object(N.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(),a=Object(N.a)(i,2),c=a[0],u=a[1];Object(n.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},Tn),{},{container:document.querySelector("#graph")}));o(e),function(e){var t=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(O.a)(r,[{key:"getConnectedTargetRules",value:function(){var e=Object(zr.a)(Object(Br.a)(r.prototype),"getConnectedTargetRules",this).call(this);return e.push({message:"\u5f00\u59cb\u8282\u70b9\u53ea\u80fd\u8fde\u51fa\uff0c\u4e0d\u80fd\u8fde\u5165\uff01",validate:function(e,t){var r=!0;return t&&(r=!1),r}}),e}}]),r}(l.CircleNodeModel);e.register({type:"apply",view:l.CircleNode,model:t});var r=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(O.a)(r,[{key:"getLabelShape",value:function(){var e=Object(zr.a)(Object(Br.a)(r.prototype),"getAttributes",this).call(this),t=e.x,n=e.y,o=e.width,i=e.height,a=e.properties,c=a.labelColor,u=a.approveTypeLabel;return Object(l.h)("text",{fill:c,fontSize:12,x:t-o/2+5,y:n-i/2+15,width:50,height:25},u)}},{key:"getShape",value:function(){var e=Object(zr.a)(Object(Br.a)(r.prototype),"getAttributes",this).call(this),t=e.x,n=e.y,o=e.width,i=e.height,a=e.fill,c=e.stroke,u=e.strokeWidth,s=e.radius;return Object(l.h)("g",{},[Object(l.h)("rect",{x:t-o/2,y:n-i/2,rx:s,ry:s,fill:a,stroke:c,strokeWidth:u,width:o,height:i}),this.getLabelShape()])}}]),r}(l.RectNode);r.extendKey="UserTaskNode";var n=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(e,n){var o;return Object(m.a)(this,r),(o=t.call(this,e,n)).properties={labelColor:"#000000",approveTypeLabel:"",approveType:""},o}return r}(l.RectNodeModel);e.register({type:"approver",view:r,model:n});var o=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(e,n){var o;return Object(m.a)(this,r),(o=t.call(this,e,n)).points=[[35,0],[70,35],[35,70],[0,35]],o.properties={api:""},o}return r}(l.PolygonNodeModel);e.register({type:"jugement",view:l.PolygonNode,model:o});var i=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(O.a)(r,[{key:"getConnectedSourceRules",value:function(){var e=Object(zr.a)(Object(Br.a)(r.prototype),"getConnectedSourceRules",this).call(this);return e.push({message:"\u7ed3\u675f\u8282\u70b9\u53ea\u80fd\u8fde\u5165\uff0c\u4e0d\u80fd\u8fde\u51fa\uff01",validate:function(e){var t=!0;return e&&(t=!1),t}}),e}}]),r}(l.CircleNodeModel);e.register({type:"finsh",view:l.CircleNode,model:i})}(e),e.render(Nn),p(e)}),[]);var p=function(e){e.on("element:click",(function(t){var r=t.data;u(r),console.log(JSON.stringify(e.getGraphData()))})),e.on("connection:not-allowed",(function(e){_n.b.error(e.msg)}))};return Object(y.jsxs)("div",{className:"approve-example-container",children:[Object(y.jsx)("div",{className:"node-panel",children:Mn(r)}),Object(y.jsx)("div",{id:"graph",className:"viewport"}),c?Object(y.jsx)("div",{className:"property-panel",children:Dn(c,(function(e,t){var n=r.graphModel.nodesMap[e],o=r.graphModel.edgesMap[e];n?n.model.setProperties(Object.assign(n.model.properties,t)):o&&o.model.setProperties(Object.assign(o.model.properties,t))}),(function(){u(void 0)}))}):""]})}}),Object(y.jsx)(u.a,{path:"/usage/approve/preview",exact:!0,component:function(){var e=Object(n.useState)(),t=Object(N.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(Boolean),a=Object(N.a)(i,2),c=a[0],u=a[1],p=Object(n.useState)({}),d=Object(N.a)(p,2),h=d[0],v=d[1];Object(n.useEffect)((function(){var e=new f.a(Object(s.a)(Object(s.a)({},Fn),{},{container:document.querySelector("#graph")}));!function(e){var t=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(e,n){var o;Object(m.a)(this,r),o=t.call(this,e,n);var i=e.properties;return o.stroke=Cn[i.status],o}return r}(l.CircleNodeModel);e.register({type:"apply",model:t,view:l.CircleNode});var r=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(){return Object(m.a)(this,r),t.apply(this,arguments)}return Object(O.a)(r,[{key:"getLabelShape",value:function(){var e=Object(zr.a)(Object(Br.a)(r.prototype),"getAttributes",this).call(this),t=e.x,n=e.y,o=e.width,i=e.height,a=e.properties,c=a.labelColor,u=a.approveTypeLabel;return Object(l.h)("text",{fill:c,fontSize:12,x:t-o/2+5,y:n-i/2+15,width:50,height:25},u)}},{key:"getShape",value:function(){var e=Object(zr.a)(Object(Br.a)(r.prototype),"getAttributes",this).call(this),t=e.x,n=e.y,o=e.width,i=e.height,a=e.fill,c=e.stroke,u=e.strokeWidth,s=e.radius;return Object(l.h)("g",{},[Object(l.h)("rect",{x:t-o/2,y:n-i/2,rx:s,ry:s,fill:a,stroke:c,strokeWidth:u,width:o,height:i}),this.getLabelShape()])}}]),r}(l.RectNode);r.extendKey="UserTaskNode";var n=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(e,n){var o;Object(m.a)(this,r),o=t.call(this,e,n);var i=e.properties;return o.stroke=Cn[i.status],o}return r}(l.RectNodeModel);e.register({type:"approver",view:r,model:n});var o=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(e,n){var o;Object(m.a)(this,r),(o=t.call(this,e,n)).points=[[35,0],[70,35],[35,70],[0,35]];var i=e.properties;return o.stroke=Cn[i.status],o.properties={api:""},o}return r}(l.PolygonNodeModel);e.register({type:"jugement",view:l.PolygonNode,model:o});var i=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(e,n){var o;Object(m.a)(this,r),o=t.call(this,e,n);var i=e.properties;return o.stroke=Cn[i.status],o}return r}(l.CircleNodeModel);e.register({type:"finsh",view:l.CircleNode,model:i});var a=function(e){Object(x.a)(r,e);var t=Object(w.a)(r);function r(e,n){var o;Object(m.a)(this,r),o=t.call(this,e,n);var i=e.properties;return o.stroke=Cn[i.status],o.hoverStroke=Cn[i.status],o.selectedStroke=Cn[i.status],o}return r}(l.PolylineEdgeModel);e.register({type:"action",view:l.PolylineEdge,model:a})}(e),e.render(Bn),b(e)}),[]);var b=function(e){e.on("node:mouseenter",(function(e){var t=e.e,r=e.data;o(r),u(!0),r.id?v({top:t.clientY,left:t.clientX}):v({display:"none"})})),e.on("node:mouseleave",(function(){o(void 0),u(!0)})),e.on("blank:mousemove",(function(e){var t=e.e;v({top:t.clientY,left:t.clientX})}))};return Object(y.jsxs)("div",{className:"approve-example-container",children:[Object(y.jsx)("div",{id:"graph",className:"viewport"}),c?Gn(h,r):""]})}}),Object(y.jsx)(u.a,{path:"/",component:function(){return Object(n.useEffect)((function(){new f.a(Object(s.a)(Object(s.a)({},b),{},{metaKeyMultipleSelected:!0,container:document.querySelector("#container")})).render(g)}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v,{githubPath:"/start/index.tsx"}),Object(y.jsx)("div",{id:"container",className:"viewport"})]})}})]});r(243);var Jn=function(){return Object(y.jsx)("div",{className:"App",children:Qn})},$n=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,254)).then((function(t){var r=t.getCLS,n=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;r(e),n(e),o(e),i(e),a(e)}))};a.a.render(Object(y.jsx)(o.a.StrictMode,{children:Object(y.jsx)(c.a,{children:Object(y.jsx)(Jn,{})})}),document.getElementById("root")),$n()},5:function(e,t,r){window,e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=180)}([function(e,t,r){"use strict";(function(e,n){r.d(t,"a",(function(){return Mr})),r.d(t,"b",(function(){return fr})),r.d(t,"c",(function(){return Ke})),r.d(t,"d",(function(){return Ne})),r.d(t,"e",(function(){return ke})),r.d(t,"f",(function(){return Sr})),r.d(t,"g",(function(){return de})),r.d(t,"h",(function(){return Ae})),r.d(t,"i",(function(){return st})),r.d(t,"j",(function(){return dt})),r.d(t,"k",(function(){return se})),r.d(t,"l",(function(){return mt})),r.d(t,"m",(function(){return D})),r.d(t,"n",(function(){return Tt})),r.d(t,"o",(function(){return Ot})),r.d(t,"p",(function(){return jt})),r.d(t,"q",(function(){return Er})),r.d(t,"r",(function(){return Pr})),r.d(t,"s",(function(){return ft})),r.d(t,"t",(function(){return Pt})),r.d(t,"u",(function(){return At})),r.d(t,"v",(function(){return Nt})),r.d(t,"w",(function(){return sr})),r.d(t,"x",(function(){return dr})),r.d(t,"y",(function(){return jr})),r.d(t,"z",(function(){return Dt})),r.d(t,"A",(function(){return ne})),r.d(t,"B",(function(){return Ct})),r.d(t,"C",(function(){return bt})),r.d(t,"D",(function(){return vt})),r.d(t,"E",(function(){return lt})),r.d(t,"F",(function(){return it})),r.d(t,"G",(function(){return Lt})),r.d(t,"H",(function(){return Bt})),r.d(t,"I",(function(){return be})),r.d(t,"J",(function(){return Mt})),r.d(t,"K",(function(){return Gt}));var o=[];Object.freeze(o);var i={};Object.freeze(i);var a={};function c(){return"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:a}function u(){return++Ge.mobxGuid}function s(e){throw l(!1,e),"X"}function l(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is an production build."))}function f(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var p=function(){};function d(e){return null!==e&&"object"==typeof e}function h(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function y(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:r})}function v(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}function b(e,t){var r="isMobX"+e;return t.prototype[r]=!0,function(e){return d(e)&&!0===e[r]}}function g(e){return void 0!==c().Map&&e instanceof c().Map}function m(e){return e instanceof Set}function O(e){for(var t=[];;){var r=e.next();if(r.done)break;t.push(r.value)}return t}function x(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function w(e){return null===e?null:"object"==typeof e?""+e:e}function _(e,t){for(var r=e.next();!r.done;)t(r.value),r=e.next()}function j(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function E(e,t){v(e,j(),t)}function S(e){return e[j()]=A,e}function P(){return"function"==typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function A(){return this}var k=function(){function e(e){void 0===e&&(e="Atom@"+u()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=ie.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return Ve(this)},e.prototype.reportChanged=function(){He(),function(e){if(e.lowestObserverState!==ie.STALE){e.lowestObserverState=ie.STALE;for(var t=e.observers,r=t.length;r--;){var n=t[r];n.dependenciesState===ie.UP_TO_DATE&&(n.isTracing!==ae.NONE&&We(n,e),n.onBecomeStale()),n.dependenciesState=ie.STALE}}}(this),Ye()},e.prototype.toString=function(){return this.name},e}(),N=b("Atom",k);function D(e,t,r){void 0===t&&(t=p),void 0===r&&(r=p);var n,o=new k(e);return gt("onBecomeObserved",o,t,n),bt(o,r),o}function M(e,t){return e===t}var T={identity:M,structural:function(e,t){return kr(e,t)},default:function(e,t){return function(e,t){return"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(e,t)||M(e,t)},shallow:function(e,t){return kr(e,t,1)}},C=function(e,t){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function R(e,t){function r(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var I=function(){return(I=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function L(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function z(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(L(arguments[t]));return e}var B={},G={};function F(e,t){var r=t?B:G;return r[e]||(r[e]={configurable:!0,enumerable:t,get:function(){return U(this),this[e]},set:function(t){U(this),this[e]=t}})}function U(e){if(!0!==e.__mobxDidRunLazyInitializers){var t=e.__mobxDecorators;if(t)for(var r in y(e,"__mobxDidRunLazyInitializers",!0),t){var n=t[r];n.propertyCreator(e,n.prop,n.descriptor,n.decoratorTarget,n.decoratorArguments)}}}function X(e,t){return function(){var r,n=function(n,o,i,a){if(!0===a)return t(n,o,i,n,r),null;if(!Object.prototype.hasOwnProperty.call(n,"__mobxDecorators")){var c=n.__mobxDecorators;y(n,"__mobxDecorators",I({},c))}return n.__mobxDecorators[o]={prop:o,propertyCreator:t,descriptor:i,decoratorTarget:n,decoratorArguments:r},F(o,e)};return H(arguments)?(r=o,n.apply(null,arguments)):(r=Array.prototype.slice.call(arguments),n)}}function H(e){return(2===e.length||3===e.length)&&"string"==typeof e[1]||4===e.length&&!0===e[3]}function Y(e,t,r){return Nt(e)?e:Array.isArray(e)?ne.array(e,{name:r}):h(e)?ne.object(e,void 0,{name:r}):g(e)?ne.map(e,{name:r}):m(e)?ne.set(e,{name:r}):e}function V(e){return e}function W(e){l(e);var t=X(!0,(function(t,r,n,o,i){mr(t,r,n?n.initializer?n.initializer.call(t):n.value:void 0,e)})),r=(void 0!==n&&n.env,t);return r.enhancer=e,r}var K={deep:!0,name:void 0,defaultDecorator:void 0},Z={deep:!1,name:void 0,defaultDecorator:void 0};function q(e){return null==e?K:"string"==typeof e?{name:e,deep:!0}:e}function Q(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?V:Y}Object.freeze(K),Object.freeze(Z);var J=W(Y),$=W((function(e,t,r){return null==e||jr(e)||sr(e)||dr(e)||vr(e)?e:Array.isArray(e)?ne.array(e,{name:r,deep:!1}):h(e)?ne.object(e,void 0,{name:r,deep:!1}):g(e)?ne.map(e,{name:r,deep:!1}):m(e)?ne.set(e,{name:r,deep:!1}):s(!1)})),ee=W(V),te=W((function(e,t,r){return kr(e,t)?t:e})),re={box:function(e,t){arguments.length>2&&oe("box");var r=q(t);return new Te(e,Q(r),r.name,!0,r.equals)},shallowBox:function(e,t){return arguments.length>2&&oe("shallowBox"),ne.box(e,{name:t,deep:!1})},array:function(e,t){arguments.length>2&&oe("array");var r=q(t);return new nr(e,Q(r),r.name)},shallowArray:function(e,t){return arguments.length>2&&oe("shallowArray"),ne.array(e,{name:t,deep:!1})},map:function(e,t){arguments.length>2&&oe("map");var r=q(t);return new fr(e,Q(r),r.name)},shallowMap:function(e,t){return arguments.length>2&&oe("shallowMap"),ne.map(e,{name:t,deep:!1})},set:function(e,t){arguments.length>2&&oe("set");var r=q(t);return new yr(e,Q(r),r.name)},object:function(e,t,r){return"string"==typeof arguments[1]&&oe("object"),Ot({},e,t,q(r))},shallowObject:function(e,t){return"string"==typeof arguments[1]&&oe("shallowObject"),ne.object(e,{},{name:t,deep:!1})},ref:ee,shallow:$,deep:J,struct:te},ne=function e(t,r,n){if("string"==typeof arguments[1])return J.apply(null,arguments);if(Nt(t))return t;var o=h(t)?e.object(t,r,n):Array.isArray(t)?e.array(t,r):g(t)?e.map(t,r):m(t)?e.set(t,r):t;if(o!==t)return o;s(!1)};function oe(e){s("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(re).forEach((function(e){return ne[e]=re[e]}));var ie,ae,ce=X(!1,(function(e,t,r,n,o){var i=r.get,a=r.set,c=o[0]||{};!function(e,t,r){var n=gr(e);r.name=n.name+"."+t,r.context=e,n.values[t]=new Re(r),Object.defineProperty(e,t,function(e){return xr[e]||(xr[e]={configurable:Ge.computedConfigurable,enumerable:!1,get:function(){return wr(this).read(this,e)},set:function(t){wr(this).write(this,e,t)}})}(t))}(e,t,I({get:i,set:a},c))})),ue=ce({equals:T.structural}),se=function(e,t,r){if("string"==typeof t)return ce.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return ce.apply(null,arguments);var n="object"==typeof t?t:{};return n.get=e,n.set="function"==typeof t?t:n.set,n.name=n.name||e.name||"",new Re(n)};se.struct=ue,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(ie||(ie={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(ae||(ae={}));var le=function(e){this.cause=e};function fe(e){return e instanceof le}function pe(e){switch(e.dependenciesState){case ie.UP_TO_DATE:return!1;case ie.NOT_TRACKING:case ie.STALE:return!0;case ie.POSSIBLY_STALE:for(var t=Oe(!0),r=ge(),n=e.observing,o=n.length,i=0;i<o;i++){var a=n[i];if(Ie(a)){if(Ge.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return me(r),xe(t),!0}if(e.dependenciesState===ie.STALE)return me(r),xe(t),!0}}return we(e),me(r),xe(t),!1}}function de(){return null!==Ge.trackingDerivation}function he(e){var t=e.observers.length>0;Ge.computationDepth>0&&t&&s(!1),Ge.allowStateChanges||!t&&"strict"!==Ge.enforceActions||s(!1)}function ye(e,t,r){var n=Oe(!0);we(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Ge.runId;var o,i=Ge.trackingDerivation;if(Ge.trackingDerivation=e,!0===Ge.disableErrorBoundaries)o=t.call(r);else try{o=t.call(r)}catch(e){o=new le(e)}return Ge.trackingDerivation=i,function(e){for(var t=e.observing,r=e.observing=e.newObserving,n=ie.UP_TO_DATE,o=0,i=e.unboundDepsCount,a=0;a<i;a++)0===(c=r[a]).diffValue&&(c.diffValue=1,o!==a&&(r[o]=c),o++),c.dependenciesState>n&&(n=c.dependenciesState);for(r.length=o,e.newObserving=null,i=t.length;i--;)0===(c=t[i]).diffValue&&Ue(c,e),c.diffValue=0;for(;o--;){var c;1===(c=r[o]).diffValue&&(c.diffValue=0,Fe(c,e))}n!==ie.UP_TO_DATE&&(e.dependenciesState=n,e.onBecomeStale())}(e),e.observing.length,xe(n),o}function ve(e){var t=e.observing;e.observing=[];for(var r=t.length;r--;)Ue(t[r],e);e.dependenciesState=ie.NOT_TRACKING}function be(e){var t=ge(),r=e();return me(t),r}function ge(){var e=Ge.trackingDerivation;return Ge.trackingDerivation=null,e}function me(e){Ge.trackingDerivation=e}function Oe(e){var t=Ge.allowStateReads;return Ge.allowStateReads=e,t}function xe(e){Ge.allowStateReads=e}function we(e){if(e.dependenciesState!==ie.UP_TO_DATE){e.dependenciesState=ie.UP_TO_DATE;for(var t=e.observing,r=t.length;r--;)t[r].lowestObserverState=ie.UP_TO_DATE}}var _e=0,je=1,Ee=Object.getOwnPropertyDescriptor((function(){}),"name");function Se(e,t){var r=function(){return Pe(e,t,this,arguments)};return r.isMobxAction=!0,r}function Pe(e,t,r,n){var o=Ae(e,r,n);try{return t.apply(r,n)}catch(e){throw o.error=e,e}finally{ke(o)}}function Ae(e,t,r){var n=et()&&!!e,o=0;if(n){o=Date.now();var i=r&&r.length||0,a=new Array(i);if(i>0)for(var c=0;c<i;c++)a[c]=r[c];rt({type:"action",name:e,object:t,arguments:a})}var u=ge();He();var s={prevDerivation:u,prevAllowStateChanges:De(!0),prevAllowStateReads:Oe(!0),notifySpy:n,startTime:o,actionId:je++,parentActionId:_e};return _e=s.actionId,s}function ke(e){_e!==e.actionId&&s("invalid action stack. did you forget to finish an action?"),_e=e.parentActionId,void 0!==e.error&&(Ge.suppressReactionErrors=!0),Me(e.prevAllowStateChanges),xe(e.prevAllowStateReads),Ye(),me(e.prevDerivation),e.notifySpy&&ot({time:Date.now()-e.startTime}),Ge.suppressReactionErrors=!1}function Ne(e,t){var r,n=De(e);try{r=t()}finally{Me(n)}return r}function De(e){var t=Ge.allowStateChanges;return Ge.allowStateChanges=e,t}function Me(e){Ge.allowStateChanges=e}Ee&&Ee.configurable;var Te=function(e){function t(t,r,n,o,i){void 0===n&&(n="ObservableValue@"+u()),void 0===o&&(o=!0),void 0===i&&(i=T.default);var a=e.call(this,n)||this;return a.enhancer=r,a.name=n,a.equals=i,a.hasUnreportedChange=!1,a.value=r(t,void 0,n),o&&et()&&tt({type:"create",name:a.name,newValue:""+a.value}),a}return R(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==Ge.UNCHANGED){var r=et();r&&rt({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),r&&ot()}},t.prototype.prepareNewValue=function(e){if(he(this),Xt(this)){var t=Yt(this,{object:this,type:"update",newValue:e});if(!t)return Ge.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Ge.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Vt(this)&&Kt(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return Ht(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Wt(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return w(this.get())},t}(k);Te.prototype[x()]=Te.prototype.valueOf;var Ce=b("ObservableValue",Te),Re=function(){function e(e){this.dependenciesState=ie.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=ie.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+u(),this.value=new le(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ae.NONE,l(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+u(),e.set&&(this.setter=Se(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?T.structural:T.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState===ie.UP_TO_DATE){e.lowestObserverState=ie.POSSIBLY_STALE;for(var t=e.observers,r=t.length;r--;){var n=t[r];n.dependenciesState===ie.UP_TO_DATE&&(n.dependenciesState=ie.POSSIBLY_STALE,n.isTracing!==ae.NONE&&We(n,e),n.onBecomeStale())}}}(this)},e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.get=function(){this.isComputing&&s("Cycle detected in computation "+this.name+": "+this.derivation),0!==Ge.inBatch||0!==this.observers.length||this.keepAlive?(Ve(this),pe(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState!==ie.STALE){e.lowestObserverState=ie.STALE;for(var t=e.observers,r=t.length;r--;){var n=t[r];n.dependenciesState===ie.POSSIBLY_STALE?n.dependenciesState=ie.STALE:n.dependenciesState===ie.UP_TO_DATE&&(e.lowestObserverState=ie.UP_TO_DATE)}}}(this)):pe(this)&&(this.warnAboutUntrackedRead(),He(),this.value=this.computeValue(!1),Ye());var e=this.value;if(fe(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(fe(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){l(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else l(!1,!1)},e.prototype.trackAndCompute=function(){et()&&tt({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===ie.NOT_TRACKING,r=this.computeValue(!0),n=t||fe(e)||fe(r)||!this.equals(e,r);return n&&(this.value=r),n},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,Ge.computationDepth++,e)t=ye(this,this.derivation,this.scope);else if(!0===Ge.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new le(e)}return Ge.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(ve(this),this.value=void 0)},e.prototype.observe=function(e,t){var r=this,n=!0,o=void 0;return dt((function(){var i=r.get();if(!n||t){var a=ge();e({type:"update",object:r,newValue:i,oldValue:o}),me(a)}n=!1,o=i}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return w(this.get())},e}();Re.prototype[x()]=Re.prototype.valueOf;var Ie=b("ComputedValue",Re),Le=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},ze=!0,Be=!1,Ge=function(){var e=c();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(ze=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Le).version&&(ze=!1),ze?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Le):(setTimeout((function(){Be||s("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Le)}();function Fe(e,t){var r=e.observers.length;r&&(e.observersIndexes[t.__mapid]=r),e.observers[r]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Ue(e,t){if(1===e.observers.length)e.observers.length=0,Xe(e);else{var r=e.observers,n=e.observersIndexes,o=r.pop();if(o!==t){var i=n[t.__mapid]||0;i?n[o.__mapid]=i:delete n[o.__mapid],r[i]=o}delete n[t.__mapid]}}function Xe(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Ge.pendingUnobservations.push(e))}function He(){Ge.inBatch++}function Ye(){if(0==--Ge.inBatch){qe();for(var e=Ge.pendingUnobservations,t=0;t<e.length;t++){var r=e[t];r.isPendingUnobservation=!1,0===r.observers.length&&(r.isBeingObserved&&(r.isBeingObserved=!1,r.onBecomeUnobserved()),r instanceof Re&&r.suspend())}Ge.pendingUnobservations=[]}}function Ve(e){var t=Ge.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.length&&Ge.inBatch>0&&Xe(e),!1)}function We(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===ae.BREAK){var r=[];!function e(t,r,n){r.length>=1e3?r.push("(and many more)"):(r.push(""+new Array(n).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return e(t,r,n+1)})))}((n=e,xt(Er(n,o))),r,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Re?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+r.join("\n")+"\n*/\n    ")()}var n,o}var Ke=function(){function e(e,t,r,n){void 0===e&&(e="Reaction@"+u()),void 0===n&&(n=!1),this.name=e,this.onInvalidate=t,this.errorHandler=r,this.requiresObservable=n,this.observing=[],this.newObserving=[],this.dependenciesState=ie.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+u(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ae.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ge.pendingReactions.push(this),qe())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(He(),this._isScheduled=!1,pe(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&et()&&tt({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}Ye()}},e.prototype.track=function(e){He();var t,r=et();r&&(t=Date.now(),rt({name:this.name,type:"reaction"})),this._isRunning=!0;var n=ye(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ve(this),fe(n)&&this.reportExceptionInDerivation(n.cause),r&&ot({time:Date.now()-t}),Ye()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(Ge.disableErrorBoundaries)throw e;var r="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ge.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(r,e),et()&&tt({type:"error",name:this.name,message:r,error:""+e}),Ge.globalReactionErrorHandlers.forEach((function(r){return r(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(He(),ve(this),Ye()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=!1;"boolean"==typeof e[e.length-1]&&(r=e.pop());var n=zt(e);if(!n)return s(!1);n.isTracing===ae.NONE&&console.log("[mobx.trace] '"+n.name+"' tracing enabled"),n.isTracing=r?ae.BREAK:ae.LOG}(this,e)},e}(),Ze=function(e){return e()};function qe(){Ge.inBatch>0||Ge.isRunningReactions||Ze(Qe)}function Qe(){Ge.isRunningReactions=!0;for(var e=Ge.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var r=e.splice(0),n=0,o=r.length;n<o;n++)r[n].runReaction()}Ge.isRunningReactions=!1}var Je=b("Reaction",Ke);function $e(e){var t=Ze;Ze=function(r){return e((function(){return t(r)}))}}function et(){return!!Ge.spyListeners.length}function tt(e){if(Ge.spyListeners.length)for(var t=Ge.spyListeners,r=0,n=t.length;r<n;r++)t[r](e)}function rt(e){tt(I(I({},e),{spyReportStart:!0}))}var nt={spyReportEnd:!0};function ot(e){tt(e?I(I({},e),{spyReportEnd:!0}):nt)}function it(e){return Ge.spyListeners.push(e),f((function(){Ge.spyListeners=Ge.spyListeners.filter((function(t){return t!==e}))}))}function at(){s(!1)}function ct(e){return function(t,r,n){if(n){if(n.value)return{value:Se(e,n.value),enumerable:!1,configurable:!0,writable:!0};var o=n.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Se(e,o.call(this))}}}return ut(e).apply(this,arguments)}}function ut(e){return function(t,r,n){Object.defineProperty(t,r,{configurable:!0,enumerable:!1,get:function(){},set:function(t){y(this,r,st(e,t))}})}}var st=function(e,t,r,n){return 1===arguments.length&&"function"==typeof e?Se(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?Se(e,t):1===arguments.length&&"string"==typeof e?ct(e):!0!==n?ct(t).apply(null,arguments):void(e[t]=Se(e.name||t,r.value))};function lt(e,t){return Pe("string"==typeof e?e:e.name||"<unnamed action>","function"==typeof e?e:t,this,void 0)}function ft(e){return"function"==typeof e&&!0===e.isMobxAction}function pt(e,t,r){y(e,t,Se(t,r.bind(e)))}function dt(e,t){void 0===t&&(t=i);var r,n=t&&t.name||e.name||"Autorun@"+u();if(t.scheduler||t.delay){var o=yt(t),a=!1;r=new Ke(n,(function(){a||(a=!0,o((function(){a=!1,r.isDisposed||r.track(c)})))}),t.onError,t.requiresObservable)}else r=new Ke(n,(function(){this.track(c)}),t.onError,t.requiresObservable);function c(){e(r)}return r.schedule(),r.getDisposer()}st.bound=function(e,t,r,n){return!0===n?(pt(e,t,r.value),null):r?{configurable:!0,enumerable:!1,get:function(){return pt(this,t,r.value||r.initializer.call(this)),this[t]},set:at}:{enumerable:!1,configurable:!0,set:function(e){pt(this,t,e)},get:function(){}}};var ht=function(e){return e()};function yt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:ht}function vt(e,t,r){void 0===r&&(r=i),"boolean"==typeof r&&(r={fireImmediately:r});var n,o,a,c=r.name||"Reaction@"+u(),s=st(c,r.onError?(n=r.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){n.call(this,e)}}):t),l=!r.scheduler&&!r.delay,f=yt(r),p=!0,d=!1,h=r.compareStructural?T.structural:r.equals||T.default,y=new Ke(c,(function(){p||l?v():d||(d=!0,f(v))}),r.onError,r.requiresObservable);function v(){if(d=!1,!y.isDisposed){var t=!1;y.track((function(){var r=e(y);t=p||!h(a,r),a=r})),p&&r.fireImmediately&&s(a,y),p||!0!==t||s(a,y),p&&(p=!1)}}return y.schedule(),y.getDisposer()}function bt(e,t,r){return gt("onBecomeUnobserved",e,t,r)}function gt(e,t,r,n){var o="function"==typeof n?Er(t,r):Er(t),i="function"==typeof n?n:r,a=o[e];return"function"!=typeof a?s(!1):(o[e]=function(){a.call(this),i.call(this)},function(){o[e]=a})}function mt(e){var t=e.enforceActions,r=e.computedRequiresReaction,n=e.computedConfigurable,o=e.disableErrorBoundaries,i=e.arrayBuffer,a=e.reactionScheduler,u=e.reactionRequiresObservable,l=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((Ge.pendingReactions.length||Ge.inBatch||Ge.isRunningReactions)&&s("isolateGlobalState should be called before MobX is running any reactions"),Be=!0,ze&&(0==--c().__mobxInstanceCount&&(c().__mobxGlobals=void 0),Ge=new Le)),void 0!==t){var f=void 0;switch(t){case!0:case"observed":f=!0;break;case!1:case"never":f=!1;break;case"strict":case"always":f="strict";break;default:s("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}Ge.enforceActions=f,Ge.allowStateChanges=!0!==f&&"strict"!==f}void 0!==r&&(Ge.computedRequiresReaction=!!r),void 0!==u&&(Ge.reactionRequiresObservable=!!u),void 0!==l&&(Ge.observableRequiresReaction=!!l,Ge.allowStateReads=!Ge.observableRequiresReaction),void 0!==n&&(Ge.computedConfigurable=!!n),void 0!==o&&(!0===o&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),Ge.disableErrorBoundaries=!!o),"number"==typeof i&&cr(i),a&&$e(a)}function Ot(e,t,r,n){var o=(n=q(n)).defaultDecorator||(!1===n.deep?ee:J);U(e),gr(e,n.name,o.enhancer),He();try{for(var i=Object.getOwnPropertyNames(t),a=0,c=i.length;a<c;a++){var u=i[a],s=Object.getOwnPropertyDescriptor(t,u),l=(r&&u in r?r[u]:s.get?ce:o)(e,u,s,!0);l&&Object.defineProperty(e,u,l)}}finally{Ye()}return e}function xt(e){var t,r,n={name:e.name};return e.observing&&e.observing.length>0&&(n.dependencies=(t=e.observing,r=[],t.forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r).map(xt)),n}var wt=0;function _t(){this.message="FLOW_CANCELLED"}function jt(e){1!==arguments.length&&s("Flow expects one 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var r,n=this,o=arguments,i=++wt,a=st(t+" - runid: "+i+" - init",e).apply(n,o),c=void 0,u=new Promise((function(e,n){var o=0;function u(e){var r;c=void 0;try{r=st(t+" - runid: "+i+" - yield "+o++,a.next).call(a,e)}catch(e){return n(e)}l(r)}function s(e){var r;c=void 0;try{r=st(t+" - runid: "+i+" - yield "+o++,a.throw).call(a,e)}catch(e){return n(e)}l(r)}function l(t){if(!t||"function"!=typeof t.then)return t.done?e(t.value):(c=Promise.resolve(t.value)).then(u,s);t.then(l,n)}r=n,u(void 0)}));return u.cancel=st(t+" - runid: "+i+" - cancel",(function(){try{c&&Et(c);var e=a.return(void 0),t=Promise.resolve(e.value);t.then(p,p),Et(t),r(new _t)}catch(e){r(e)}})),u}}function Et(e){"function"==typeof e.cancel&&e.cancel()}function St(e,t){if(null==e)return!1;if(void 0!==t){if(!1===jr(e))return!1;if(!e.$mobx.values[t])return!1;var r=Er(e,t);return Ie(r)}return Ie(e)}function Pt(e){return arguments.length>1?s(!1):St(e)}function At(e,t){return"string"!=typeof t?s(!1):St(e,t)}function kt(e,t){if(null==e)return!1;if(void 0!==t){if(jr(e)){var r=e.$mobx;return r.values&&!!r.values[t]}return!1}return jr(e)||!!e.$mobx||N(e)||Je(e)||Ie(e)}function Nt(e){return 1!==arguments.length&&s(!1),kt(e)}function Dt(e){return jr(e)?e.$mobx.getKeys():dr(e)||vr(e)?O(e.keys()):sr(e)?e.map((function(e,t){return t})):s(!1)}function Mt(e){return jr(e)?Dt(e).map((function(t){return e[t]})):dr(e)?Dt(e).map((function(t){return e.get(t)})):vr(e)?O(e.values()):sr(e)?e.slice():s(!1)}function Tt(e){return jr(e)?Dt(e).map((function(t){return[t,e[t]]})):dr(e)?Dt(e).map((function(t){return[t,e.get(t)]})):vr(e)?O(e.entries()):sr(e)?e.map((function(e,t){return[t,e]})):s(!1)}function Ct(e,t,r,n){return"function"==typeof r?function(e,t,r,n){return Sr(e,t).observe(r,n)}(e,t,r,n):function(e,t,r){return Sr(e).observe(t,r)}(e,t,r)}_t.prototype=Object.create(Error.prototype);var Rt={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function It(e,t,r,n){return n.detectCycles&&e.set(t,r),r}function Lt(e,t){var r;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=Rt),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(r=new Map),function e(t,r,n){if(!r.recurseEverything&&!Nt(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(Ce(t))return e(t.get(),r,n);if(Nt(t)&&Dt(t),!0===r.detectCycles&&null!==t&&n.has(t))return n.get(t);if(sr(t)||Array.isArray(t)){var o=It(n,t,[],r),i=t.map((function(t){return e(t,r,n)}));o.length=i.length;for(var a=0,c=i.length;a<c;a++)o[a]=i[a];return o}if(vr(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===r.exportMapsAsObjects){var u=It(n,t,new Set,r);return t.forEach((function(t){u.add(e(t,r,n))})),u}var s=It(n,t,[],r);return t.forEach((function(t){s.push(e(t,r,n))})),s}if(dr(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===r.exportMapsAsObjects){var l=It(n,t,new Map,r);return t.forEach((function(t,o){l.set(o,e(t,r,n))})),l}var f=It(n,t,{},r);return t.forEach((function(t,o){f[o]=e(t,r,n)})),f}var p=It(n,t,{},r);for(var d in t)p[d]=e(t[d],r,n);return p}(e,t,r)}function zt(e){switch(e.length){case 0:return Ge.trackingDerivation;case 1:return Er(e[0]);case 2:return Er(e[0],e[1])}}function Bt(e,t){void 0===t&&(t=void 0),He();try{return e.apply(t)}finally{Ye()}}function Gt(e,t,r){return 1===arguments.length||t&&"object"==typeof t?Ut(e,t):Ft(e,t,r||{})}function Ft(e,t,r){var n;"number"==typeof r.timeout&&(n=setTimeout((function(){if(!i.$mobx.isDisposed){i();var e=new Error("WHEN_TIMEOUT");if(!r.onError)throw e;r.onError(e)}}),r.timeout)),r.name=r.name||"When@"+u();var o=Se(r.name+"-effect",t),i=dt((function(t){e()&&(t.dispose(),n&&clearTimeout(n),o())}),r);return i}function Ut(e,t){var r,n=new Promise((function(n,o){var i=Ft(e,n,I(I({},t),{onError:o}));r=function(){i(),o("WHEN_CANCELLED")}}));return n.cancel=r,n}function Xt(e){return void 0!==e.interceptors&&e.interceptors.length>0}function Ht(e,t){var r=e.interceptors||(e.interceptors=[]);return r.push(t),f((function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}))}function Yt(e,t){var r=ge();try{var n=e.interceptors;if(n)for(var o=0,i=n.length;o<i&&(l(!(t=n[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{me(r)}}function Vt(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function Wt(e,t){var r=e.changeListeners||(e.changeListeners=[]);return r.push(t),f((function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}))}function Kt(e,t){var r=ge(),n=e.changeListeners;if(n){for(var o=0,i=(n=n.slice()).length;o<i;o++)n[o](t);me(r)}}var Zt,qt,Qt,Jt,$t=(Zt=!1,qt={},Object.defineProperty(qt,"0",{set:function(){Zt=!0}}),Object.create(qt)[0]=1,!1===Zt),er=0,tr=function(){};Qt=tr,Jt=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf(Qt.prototype,Jt):void 0!==Qt.prototype.__proto__?Qt.prototype.__proto__=Jt:Qt.prototype=Jt,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach((function(e){Object.defineProperty(tr.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})}));var rr=function(){function e(e,t,r,n){this.array=r,this.owned=n,this.values=[],this.lastKnownLength=0,this.atom=new k(e||"ObservableArray@"+u()),this.enhancer=function(r,n){return t(r,n,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return Ht(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Wt(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var r=new Array(e-t),n=0;n<e-t;n++)r[n]=void 0;this.spliceWithArray(t,0,r)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>er&&cr(e+t+1)},e.prototype.spliceWithArray=function(e,t,r){var n=this;he(this.atom);var i=this.values.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===r&&(r=o),Xt(this)){var a=Yt(this,{object:this.array,type:"splice",index:e,removedCount:t,added:r});if(!a)return o;t=a.removedCount,r=a.added}var c=(r=0===r.length?r:r.map((function(e){return n.enhancer(e,void 0)}))).length-t;this.updateArrayLength(i,c);var u=this.spliceItemsIntoValues(e,t,r);return 0===t&&0===r.length||this.notifyArraySplice(e,r,u),this.dehanceValues(u)},e.prototype.spliceItemsIntoValues=function(e,t,r){var n;if(r.length<1e4)return(n=this.values).splice.apply(n,z([e,t],r));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(r,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,r){var n=!this.owned&&et(),o=Vt(this),i=o||n?{object:this.array,type:"update",index:e,newValue:t,oldValue:r}:null;n&&rt(I(I({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&Kt(this,i),n&&ot()},e.prototype.notifyArraySplice=function(e,t,r){var n=!this.owned&&et(),o=Vt(this),i=o||n?{object:this.array,type:"splice",index:e,removed:r,added:t,removedCount:r.length,addedCount:t.length}:null;n&&rt(I(I({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&Kt(this,i),n&&ot()},e}(),nr=function(e){function t(t,r,n,o){void 0===n&&(n="ObservableArray@"+u()),void 0===o&&(o=!1);var i=e.call(this)||this,a=new rr(n,r,i,o);if(v(i,"$mobx",a),t&&t.length){var c=De(!0);i.spliceWithArray(0,0,t),Me(c)}return $t&&Object.defineProperty(a.array,"0",or),i}return R(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map((function(e){return sr(e)?e.peek():e})))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,r){void 0===r&&(r=0);var n=this.findIndex.apply(this,arguments);return-1===n?void 0:this.get(n)},t.prototype.findIndex=function(e,t,r){void 0===r&&(r=0);for(var n=this.peek(),o=n.length,i=r;i<o;i++)if(e.call(t,n[i],i,this))return i;return-1},t.prototype.splice=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,r)},t.prototype.spliceWithArray=function(e,t,r){return this.$mobx.spliceWithArray(e,t,r)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.$mobx;return r.spliceWithArray(r.values.length,0,e),r.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.$mobx;return r.spliceWithArray(0,0,e),r.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function r(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(r.call(this,e),r.call(this,t),e!==t){var n,o=this.$mobx.values;n=e<t?z(o.slice(0,e),o.slice(e+1,t+1),[o[e]],o.slice(t+1)):z(o.slice(0,t),[o[e]],o.slice(t,e),o.slice(e+1)),this.replace(n)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var r=this.$mobx,n=r.values;if(e<n.length){he(r.atom);var o=n[e];if(Xt(r)){var i=Yt(r,{type:"update",object:this,index:e,newValue:t});if(!i)return;t=i.newValue}(t=r.enhancer(t,o))!==o&&(n[e]=t,r.notifyArrayChildUpdate(e,t,o))}else{if(e!==n.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+n.length);r.spliceWithArray(e,0,[t])}},t}(tr);E(nr.prototype,(function(){this.$mobx.atom.reportObserved();var e=this,t=0;return S({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})})),Object.defineProperty(nr.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),y(nr.prototype,P(),"Array"),["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){var t=Array.prototype[e];l("function"==typeof t,"Base function not defined on Array prototype: '"+e+"'"),y(nr.prototype,e,(function(){return t.apply(this.peek(),arguments)}))})),["every","filter","forEach","map","some"].forEach((function(e){l("function"==typeof Array.prototype[e],"Base function not defined on Array prototype: '"+e+"'"),y(nr.prototype,e,(function(t,r){var n=this,o=this.$mobx;return o.atom.reportObserved(),o.dehanceValues(o.values)[e]((function(e,o){return t.call(r,e,o,n)}),r)}))})),["reduce","reduceRight"].forEach((function(e){y(nr.prototype,e,(function(){var t=this,r=this.$mobx;r.atom.reportObserved();var n=arguments[0];return arguments[0]=function(e,o,i){return o=r.dehanceValue(o),n(e,o,i,t)},r.values[e].apply(r.values,arguments)}))})),function(e,t){for(var r=0;r<t.length;r++)y(e,t[r],e[t[r]])}(nr.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var or=ir(0);function ir(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function ar(e){Object.defineProperty(nr.prototype,""+e,ir(e))}function cr(e){for(var t=er;t<e;t++)ar(t);er=e}cr(1e3);var ur=b("ObservableArrayAdministration",rr);function sr(e){return d(e)&&ur(e.$mobx)}var lr={},fr=function(){function e(e,t,r){if(void 0===t&&(t=Y),void 0===r&&(r="ObservableMap@"+u()),this.enhancer=t,this.name=r,this.$mobx=lr,this._keysAtom=D(this.name+".keys()"),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!Ge.trackingDerivation)return this._has(e);var r=this._hasMap.get(e);if(!r){var n=r=new Te(this._has(e),V,this.name+"."+pr(e)+"?",!1);this._hasMap.set(e,n),bt(n,(function(){return t._hasMap.delete(e)}))}return r.get()},e.prototype.set=function(e,t){var r=this._has(e);if(Xt(this)){var n=Yt(this,{type:r?"update":"add",object:this,newValue:t,name:e});if(!n)return this;t=n.newValue}return r?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(he(this._keysAtom),Xt(this)&&!(o=Yt(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var r=et(),n=Vt(this),o=n||r?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return r&&rt(I(I({},o),{name:this.name,key:e})),Bt((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),n&&Kt(this,o),r&&ot(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var r=this._hasMap.get(e);r&&r.setNewValue(t)},e.prototype._updateValue=function(e,t){var r=this._data.get(e);if((t=r.prepareNewValue(t))!==Ge.UNCHANGED){var n=et(),o=Vt(this),i=o||n?{type:"update",object:this,oldValue:r.value,name:e,newValue:t}:null;n&&rt(I(I({},i),{name:this.name,key:e})),r.setNewValue(t),o&&Kt(this,i),n&&ot()}},e.prototype._addValue=function(e,t){var r=this;he(this._keysAtom),Bt((function(){var n=new Te(t,r.enhancer,r.name+"."+pr(e),!1);r._data.set(e,n),t=n.value,r._updateHasMapEntry(e,!0),r._keysAtom.reportChanged()}));var n=et(),o=Vt(this),i=o||n?{type:"add",object:this,name:e,newValue:t}:null;n&&rt(I(I({},i),{name:this.name,key:e})),o&&Kt(this,i),n&&ot()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return S({next:function(){var r=t.next(),n=r.done,o=r.value;return{done:n,value:n?void 0:e.get(o)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return S({next:function(){var r=t.next(),n=r.done,o=r.value;return{done:n,value:n?void 0:[o,e.get(o)]}}})},e.prototype.forEach=function(e,t){var r=this;this._keysAtom.reportObserved(),this._data.forEach((function(n,o){return e.call(t,r.get(o),o,r)}))},e.prototype.merge=function(e){var t=this;return dr(e)&&(e=e.toJS()),Bt((function(){var r=De(!0);try{h(e)?Object.keys(e).forEach((function(r){return t.set(r,e[r])})):Array.isArray(e)?e.forEach((function(e){var r=L(e,2),n=r[0],o=r[1];return t.set(n,o)})):g(e)?e.constructor!==Map?s("Cannot initialize from classes that inherit from Map: "+e.constructor.name):e.forEach((function(e,r){return t.set(r,e)})):null!=e&&s("Cannot initialize map from "+e)}finally{Me(r)}})),this},e.prototype.clear=function(){var e=this;Bt((function(){be((function(){e._data.forEach((function(t,r){return e.delete(r)}))}))}))},e.prototype.replace=function(e){var t=this;return Bt((function(){var r=function(e){if(g(e)||dr(e))return e;if(Array.isArray(e))return new Map(e);if(h(e)){var t=new Map;for(var r in e)t.set(r,e[r]);return t}return s("Cannot convert to map from '"+e+"'")}(e),n=new Map,o=!1;if(_(t._data.keys(),(function(e){if(!r.has(e))if(t.delete(e))o=!0;else{var i=t._data.get(e);n.set(e,i)}})),_(r.entries(),(function(e){var r=L(e,2),i=r[0],a=r[1],c=t._data.has(i);if(t.set(i,a),t._data.has(i)){var u=t._data.get(i);n.set(i,u),c||(o=!0)}})),!o)if(t._data.size!==n.size)t._keysAtom.reportChanged();else for(var i=t._data.keys(),a=n.keys(),c=i.next(),u=a.next();!c.done;){if(c.value!==u.value){t._keysAtom.reportChanged();break}c=i.next(),u=a.next()}t._data=n})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e=this,t={};return this.forEach((function(r,n){return t["symbol"==typeof n?n:pr(n)]=e.get(n)})),t},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+O(this.keys()).map((function(t){return pr(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return Wt(this,e)},e.prototype.intercept=function(e){return Ht(this,e)},e}();function pr(e){return e&&e.toString?e.toString():new String(e).toString()}E(fr.prototype,(function(){return this.entries()})),v(fr.prototype,P(),"Map");var dr=b("ObservableMap",fr),hr={},yr=function(){function e(e,t,r){if(void 0===t&&(t=Y),void 0===r&&(r="ObservableSet@"+u()),this.name=r,this.$mobx=hr,this._data=new Set,this._atom=D(this.name),"function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,n){return t(e,n,r)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;Bt((function(){be((function(){e._data.forEach((function(t){e.delete(t)}))}))}))},e.prototype.forEach=function(e,t){var r=this;this._atom.reportObserved(),this._data.forEach((function(n){e.call(t,n,n,r)}))},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if(he(this._atom),Xt(this)&&!(o=Yt(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){Bt((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var r=et(),n=Vt(this),o=n||r?{type:"add",object:this,newValue:e}:null;n&&Kt(this,o)}return this},e.prototype.delete=function(e){var t=this;if(Xt(this)&&!(o=Yt(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var r=et(),n=Vt(this),o=n||r?{type:"delete",object:this,oldValue:e}:null;return Bt((function(){t._atom.reportChanged(),t._data.delete(e)})),n&&Kt(this,o),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=O(this.keys()),r=O(this.values());return S({next:function(){var n=e;return e+=1,n<r.length?{value:[t[n],r[n]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e,t=this,r=0;return void 0!==this._data.values?e=O(this._data.values()):(e=[],this._data.forEach((function(t){return e.push(t)}))),S({next:function(){return r<e.length?{value:t.dehanceValue(e[r++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return vr(e)&&(e=e.toJS()),Bt((function(){var r=De(!0);try{Array.isArray(e)||m(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&s("Cannot initialize set from "+e)}finally{Me(r)}})),this},e.prototype.observe=function(e,t){return Wt(this,e)},e.prototype.intercept=function(e){return Ht(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+O(this.keys()).join(", ")+" ]"},e}();E(yr.prototype,(function(){return this.values()})),v(yr.prototype,P(),"Set");var vr=b("ObservableSet",yr),br=function(){function e(e,t,r){this.target=e,this.name=t,this.defaultEnhancer=r,this.values={}}return e.prototype.read=function(e,t){if(this.target===e||(this.illegalAccess(e,t),this.values[t]))return this.values[t].get()},e.prototype.write=function(e,t,r){var n=this.target;n!==e&&this.illegalAccess(e,t);var o=this.values[t];if(o instanceof Re)o.set(r);else{if(Xt(this)){if(!(c=Yt(this,{type:"update",object:n,name:t,newValue:r})))return;r=c.newValue}if((r=o.prepareNewValue(r))!==Ge.UNCHANGED){var i=Vt(this),a=et(),c=i||a?{type:"update",object:n,oldValue:o.value,name:t,newValue:r}:null;a&&rt(I(I({},c),{name:this.name,key:t})),o.setNewValue(r),i&&Kt(this,c),a&&ot()}}},e.prototype.remove=function(e){if(this.values[e]){var t=this.target;if(Xt(this)&&!(i=Yt(this,{object:t,name:e,type:"remove"})))return;try{He();var r=Vt(this),n=et(),o=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];var i=r||n?{type:"remove",object:t,oldValue:o,name:e}:null;n&&rt(I(I({},i),{name:this.name,key:e})),r&&Kt(this,i),n&&ot()}finally{Ye()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return Wt(this,e)},e.prototype.intercept=function(e){return Ht(this,e)},e.prototype.getKeys=function(){var e=this;return void 0===this.keys&&(this.keys=new nr(Object.keys(this.values).filter((function(t){return e.values[t]instanceof Te})),V,"keys("+this.name+")",!0)),this.keys.slice()},e}();function gr(e,t,r){void 0===t&&(t=""),void 0===r&&(r=Y);var n=e.$mobx;return n||(h(e)||(t=(e.constructor.name||"ObservableObject")+"@"+u()),t||(t="ObservableObject@"+u()),v(e,"$mobx",n=new br(e,t,r)),n)}function mr(e,t,r,n){var o=gr(e);if(Xt(o)){var i=Yt(o,{object:e,name:t,type:"add",newValue:r});if(!i)return;r=i.newValue}r=(o.values[t]=new Te(r,n,o.name+"."+t,!1)).value,Object.defineProperty(e,t,function(e){return Or[e]||(Or[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,e)},set:function(t){this.$mobx.write(this,e,t)}})}(t)),o.keys&&o.keys.push(t),function(e,t,r,n){var o=Vt(e),i=et(),a=o||i?{type:"add",object:t,name:r,newValue:n}:null;i&&rt(I(I({},a),{name:e.name,key:r})),o&&Kt(e,a),i&&ot()}(o,e,t,r)}var Or=Object.create(null),xr=Object.create(null);function wr(e){return e.$mobx||(U(e),e.$mobx)}var _r=b("ObservableObjectAdministration",br);function jr(e){return!!d(e)&&(U(e),_r(e.$mobx))}function Er(e,t){if("object"==typeof e&&null!==e){if(sr(e))return void 0!==t&&s(!1),e.$mobx.atom;if(vr(e))return e.$mobx;if(dr(e)){var r=e;return void 0===t?r._keysAtom:((n=r._data.get(t)||r._hasMap.get(t))||s(!1),n)}var n;if(U(e),t&&!e.$mobx&&e[t],jr(e))return t?((n=e.$mobx.values[t])||s(!1),n):s(!1);if(N(e)||Ie(e)||Je(e))return e}else if("function"==typeof e&&Je(e.$mobx))return e.$mobx;return s(!1)}function Sr(e,t){return e||s("Expecting some object"),void 0!==t?Sr(Er(e,t)):N(e)||Ie(e)||Je(e)||dr(e)||vr(e)?e:(U(e),e.$mobx?e.$mobx:void s(!1))}function Pr(e,t){return(void 0!==t?Er(e,t):jr(e)||dr(e)||vr(e)?Sr(e):Er(e)).name}var Ar=Object.prototype.toString;function kr(e,t,r){return void 0===r&&(r=-1),function e(t,r,n,o,i){if(t===r)return 0!==t||1/t==1/r;if(null==t||null==r)return!1;if(t!=t)return r!=r;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof r)return!1;t=Nr(t),r=Nr(r);var c=Ar.call(t);if(c!==Ar.call(r))return!1;switch(c){case"[object RegExp]":case"[object String]":return""+t==""+r;case"[object Number]":return+t!=+t?+r!=+r:0==+t?1/+t==1/r:+t==+r;case"[object Date]":case"[object Boolean]":return+t==+r;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(r)}var u="[object Array]"===c;if(!u){if("object"!=typeof t||"object"!=typeof r)return!1;var s=t.constructor,l=r.constructor;if(s!==l&&!("function"==typeof s&&s instanceof s&&"function"==typeof l&&l instanceof l)&&"constructor"in t&&"constructor"in r)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var f=(o=o||[]).length;f--;)if(o[f]===t)return i[f]===r;if(o.push(t),i.push(r),u){if((f=t.length)!==r.length)return!1;for(;f--;)if(!e(t[f],r[f],n-1,o,i))return!1}else{var p=Object.keys(t),d=void 0;if(f=p.length,Object.keys(r).length!==f)return!1;for(;f--;)if(!Dr(r,d=p[f])||!e(t[d],r[d],n-1,o,i))return!1}return o.pop(),i.pop(),!0}(e,t,r)}function Nr(e){return sr(e)?e.peek():g(e)||dr(e)||m(e)||vr(e)?O(e.entries()):e}function Dr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Mr="$mobx";"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:it,extras:{getDebugName:Pr},$mobx:Mr})}).call(this,r(83),r(103))},function(e,t,r){"use strict";var n=r(14),o=r(21),i=r(43),a=r(65),c=r(28),u=r(86),s=r(17),l=r(27),f=r(77),p=r(22),d=r(51),h=r(25),y=r(30),v=r(36),b=r(69),g=r(32),m=r(54),O=r(44),x=r(70),w=r(55),_=r(116),j=r(90),E=r(45),S=r(29),P=r(89),A=r(39),k=r(42),N=r(64),D=r(72),M=r(52),T=r(66),C=r(19),R=r(127),I=r(128),L=r(74),z=r(50),B=r(57).forEach,G=D("hidden"),F=C("toPrimitive"),U=z.set,X=z.getterFor("Symbol"),H=Object.prototype,Y=o.Symbol,V=i("JSON","stringify"),W=E.f,K=S.f,Z=_.f,q=P.f,Q=N("symbols"),J=N("op-symbols"),$=N("string-to-symbol-registry"),ee=N("symbol-to-string-registry"),te=N("wks"),re=o.QObject,ne=!re||!re.prototype||!re.prototype.findChild,oe=c&&s((function(){return 7!=O(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=W(H,t);n&&delete H[t],K(e,t,r),n&&e!==H&&K(H,t,n)}:K,ie=function(e,t){var r=Q[e]=O(Y.prototype);return U(r,{type:"Symbol",tag:e,description:t}),c||(r.description=t),r},ae=function e(t,r,n){t===H&&e(J,r,n),h(t);var o=b(r);return h(n),l(Q,o)?(n.enumerable?(l(t,G)&&t[G][o]&&(t[G][o]=!1),n=O(n,{enumerable:m(0,!1)})):(l(t,G)||K(t,G,m(1,{})),t[G][o]=!0),oe(t,o,n)):K(t,o,n)},ce=function(e,t){h(e);var r=v(t),n=x(r).concat(fe(r));return B(n,(function(t){c&&!ue.call(r,t)||ae(e,t,r[t])})),e},ue=function(e){var t=b(e),r=q.call(this,t);return!(this===H&&l(Q,t)&&!l(J,t))&&(!(r||!l(this,t)||!l(Q,t)||l(this,G)&&this[G][t])||r)},se=function(e,t){var r=v(e),n=b(t);if(r!==H||!l(Q,n)||l(J,n)){var o=W(r,n);return!o||!l(Q,n)||l(r,G)&&r[G][n]||(o.enumerable=!0),o}},le=function(e){var t=Z(v(e)),r=[];return B(t,(function(e){l(Q,e)||l(M,e)||r.push(e)})),r},fe=function(e){var t=e===H,r=Z(t?J:v(e)),n=[];return B(r,(function(e){!l(Q,e)||t&&!l(H,e)||n.push(Q[e])})),n};u||(k((Y=function(){if(this instanceof Y)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=T(e),r=function e(r){this===H&&e.call(J,r),l(this,G)&&l(this[G],t)&&(this[G][t]=!1),oe(this,t,m(1,r))};return c&&ne&&oe(H,t,{configurable:!0,set:r}),ie(t,e)}).prototype,"toString",(function(){return X(this).tag})),k(Y,"withoutSetter",(function(e){return ie(T(e),e)})),P.f=ue,S.f=ae,E.f=se,w.f=_.f=le,j.f=fe,R.f=function(e){return ie(C(e),e)},c&&(K(Y.prototype,"description",{configurable:!0,get:function(){return X(this).description}}),a||k(H,"propertyIsEnumerable",ue,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Y}),B(x(te),(function(e){I(e)})),n({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=g(e);if(l($,t))return $[t];var r=Y(t);return $[t]=r,ee[r]=t,r},keyFor:function(e){if(!d(e))throw TypeError(e+" is not a symbol");if(l(ee,e))return ee[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(e,t){return void 0===t?O(e):ce(O(e),t)},defineProperty:ae,defineProperties:ce,getOwnPropertyDescriptor:se}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:le,getOwnPropertySymbols:fe}),n({target:"Object",stat:!0,forced:s((function(){j.f(1)}))},{getOwnPropertySymbols:function(e){return j.f(y(e))}}),V&&n({target:"JSON",stat:!0,forced:!u||s((function(){var e=Y();return"[null]"!=V([e])||"{}"!=V({a:e})||"{}"!=V(Object(e))}))},{stringify:function(e,t,r){for(var n,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(n=t,(p(t)||void 0!==e)&&!d(e))return f(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!d(t))return t}),o[1]=t,V.apply(null,o)}}),Y.prototype[F]||A(Y.prototype,F,Y.prototype.valueOf),L(Y,"Symbol"),M[G]=!0},function(e,t,r){"use strict";var n=r(36),o=r(63),i=r(53),a=r(50),c=r(88),u=a.set,s=a.getterFor("Array Iterator");e.exports=c(Array,"Array",(function(e,t){u(this,{type:"Array Iterator",target:n(e),index:0,kind:t})}),(function(){var e=s(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t,r){var n=r(94),o=r(42),i=r(150);n||o(Object.prototype,"toString",i,{unsafe:!0})},function(e,t,r){var n=r(21),o=r(126),i=r(2),a=r(39),c=r(19),u=c("iterator"),s=c("toStringTag"),l=i.values;for(var f in o){var p=n[f],d=p&&p.prototype;if(d){if(d[u]!==l)try{a(d,u,l)}catch(e){d[u]=l}if(d[s]||a(d,s,f),o[f])for(var h in i)if(d[h]!==i[h])try{a(d,h,i[h])}catch(e){d[h]=i[h]}}}},function(e,t,r){"use strict";var n=r(125).charAt,o=r(32),i=r(50),a=r(88),c=i.set,u=i.getterFor("String Iterator");a(String,"String",(function(e){c(this,{type:"String Iterator",string:o(e),index:0})}),(function(){var e,t=u(this),r=t.string,o=t.index;return o>=r.length?{value:void 0,done:!0}:(e=n(r,o),t.index+=e.length,{value:e,done:!1})}))},function(e,t,r){var n=r(21),o=r(126),i=r(151),a=r(39);for(var c in o){var u=n[c],s=u&&u.prototype;if(s&&s.forEach!==i)try{a(s,"forEach",i)}catch(e){s.forEach=i}}},function(e,t,r){"use strict";var n=r(14),o=r(28),i=r(21),a=r(27),c=r(22),u=r(29).f,s=r(111),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},p=function e(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),r=this instanceof e?new l(t):void 0===t?l():l(t);return""===t&&(f[r]=!0),r};s(p,l);var d=p.prototype=l.prototype;d.constructor=p;var h=d.toString,y="Symbol(test)"==String(l("test")),v=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:!0,get:function(){var e=c(this)?this.valueOf():this,t=h.call(e);if(a(f,e))return"";var r=y?t.slice(7,-1):t.replace(v,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:p})}},function(e,t,r){r(128)("iterator")},function(e,t,r){var n=r(14),o=r(30),i=r(70);n({target:"Object",stat:!0,forced:r(17)((function(){i(1)}))},{keys:function(e){return i(o(e))}})},function(e,t,r){var n=r(14),o=r(17),i=r(36),a=r(45).f,c=r(28),u=o((function(){a(1)}));n({target:"Object",stat:!0,forced:!c||u,sham:!c},{getOwnPropertyDescriptor:function(e,t){return a(i(e),t)}})},function(e,t,r){r(14)({target:"Object",stat:!0},{setPrototypeOf:r(92)})},function(e,t,r){var n=r(14),o=r(17),i=r(30),a=r(73),c=r(114);n({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!c},{getPrototypeOf:function(e){return a(i(e))}})},function(e,t,r){var n=r(14),o=r(43),i=r(56),a=r(25),c=r(22),u=r(44),s=r(171),l=r(17),f=o("Reflect","construct"),p=l((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),d=!l((function(){f((function(){}))})),h=p||d;n({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(e,t){i(e),a(t);var r=arguments.length<3?e:i(arguments[2]);if(d&&!p)return f(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(s.apply(e,n))}var o=r.prototype,l=u(c(o)?o:Object.prototype),h=Function.apply.call(e,l,t);return c(h)?h:l}})},function(e,t,r){var n=r(21),o=r(45).f,i=r(39),a=r(42),c=r(85),u=r(111),s=r(91);e.exports=function(e,t){var r,l,f,p,d,h=e.target,y=e.global,v=e.stat;if(r=y?n:v?n[h]||c(h,{}):(n[h]||{}).prototype)for(l in t){if(p=t[l],f=e.noTargetGet?(d=o(r,l))&&d.value:r[l],!s(y?l:h+(v?".":"#")+l,e.forced)&&void 0!==f){if(typeof p==typeof f)continue;u(p,f)}(e.sham||f&&f.sham)&&i(p,"sham",!0),a(r,l,p,e)}}},function(e,t,r){"use strict";var n=r(14),o=r(57).filter;n({target:"Array",proto:!0,forced:!r(58)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(14),o=r(28),i=r(112),a=r(36),c=r(45),u=r(59);n({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){for(var t,r,n=a(e),o=c.f,s=i(n),l={},f=0;s.length>f;)void 0!==(r=o(n,t=s[f++]))&&u(l,t,r);return l}})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){"use strict";var n=r(14),o=r(22),i=r(77),a=r(71),c=r(31),u=r(36),s=r(59),l=r(19),f=r(58)("slice"),p=l("species"),d=[].slice,h=Math.max;n({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var r,n,l,f=u(this),y=c(f.length),v=a(e,y),b=a(void 0===t?y:t,y);if(i(f)&&("function"!=typeof(r=f.constructor)||r!==Array&&!i(r.prototype)?o(r)&&null===(r=r[p])&&(r=void 0):r=void 0,r===Array||void 0===r))return d.call(f,v,b);for(n=new(void 0===r?Array:r)(h(b-v,0)),l=0;v<b;v++,l++)v in f&&s(n,l,f[v]);return n.length=l,n}})},function(e,t,r){var n=r(21),o=r(64),i=r(27),a=r(66),c=r(86),u=r(104),s=o("wks"),l=n.Symbol,f=u?l:l&&l.withoutSetter||a;e.exports=function(e){return i(s,e)&&(c||"string"==typeof s[e])||(c&&i(l,e)?s[e]=l[e]:s[e]=f("Symbol."+e)),s[e]}},function(e,t,r){"use strict";var n=r(82),o="object"==typeof self&&self&&self.Object===Object&&self,i=n.a||o||Function("return this")();t.a=i},function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,r(83))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){var n=r(28),o=r(29).f,i=Function.prototype,a=i.toString,c=/^\s*function ([^ (]*)/;n&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(c)[1]}catch(e){return""}}})},function(e,t,r){var n=r(14),o=r(154);n({target:"Array",stat:!0,forced:!r(123)((function(e){Array.from(e)}))},{from:o})},function(e,t,r){var n=r(22);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},,function(e,t,r){var n=r(30),o={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return o.call(n(e),t)}},function(e,t,r){var n=r(17);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,r){var n=r(28),o=r(105),i=r(25),a=r(69),c=Object.defineProperty;t.f=n?c:function(e,t,r){if(i(e),t=a(t),i(r),o)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(37);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(49),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t,r){var n=r(51);e.exports=function(e){if(n(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)}},function(e,t,r){"use strict";var n=r(14),o=r(17),i=r(77),a=r(22),c=r(30),u=r(31),s=r(59),l=r(95),f=r(58),p=r(19),d=r(67),h=p("isConcatSpreadable"),y=d>=51||!o((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),v=f("concat"),b=function(e){if(!a(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)};n({target:"Array",proto:!0,forced:!y||!v},{concat:function(e){var t,r,n,o,i,a=c(this),f=l(a,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(b(i=-1===t?a:arguments[t])){if(p+(o=u(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<o;r++,p++)r in i&&s(f,p,i[r])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(f,p++,i)}return f.length=p,f}})},function(e,t,r){"use strict";var n=r(14),o=r(57).map;n({target:"Array",proto:!0,forced:!r(58)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(14),o=r(22),i=r(25),a=r(176),c=r(45),u=r(73);n({target:"Reflect",stat:!0},{get:function e(t,r){var n,s,l=arguments.length<3?t:arguments[2];return i(t)===l?t[r]:(n=c.f(t,r))?a(n)?n.value:void 0===n.get?void 0:n.get.call(l):o(s=u(t))?e(s,r,l):void 0}})},function(e,t,r){var n=r(62),o=r(37);e.exports=function(e){return n(o(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,r){var n=r(14),o=r(179),i=r(63);n({target:"Array",proto:!0},{fill:o}),i("fill")},function(e,t,r){var n=r(28),o=r(29),i=r(54);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(14),o=r(172);n({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(e,r,n){"use strict";(function(e){var o=n(82),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,c=a&&a.exports===i&&o.a.process,u=function(){try{return a&&a.require&&a.require("util").types||c&&c.binding&&c.binding("util")}catch(e){}}();r.a=u}).call(this,n(97)(e))},function(e,t,r){var n=r(21),o=r(39),i=r(27),a=r(85),c=r(110),u=r(50),s=u.get,l=u.enforce,f=String(String).split("String");(e.exports=function(e,t,r,c){var u,s=!!c&&!!c.unsafe,p=!!c&&!!c.enumerable,d=!!c&&!!c.noTargetGet;"function"==typeof r&&("string"!=typeof t||i(r,"name")||o(r,"name",t),(u=l(r)).source||(u.source=f.join("string"==typeof t?t:""))),e!==n?(s?!d&&e[t]&&(p=!0):delete e[t],p?e[t]=r:o(e,t,r)):p?e[t]=r:a(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&s(this).source||c(this)}))},function(e,t,r){var n=r(21),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e]):n[e]&&n[e][t]}},function(e,t,r){var n,o=r(25),i=r(139),a=r(87),c=r(52),u=r(141),s=r(106),l=r(72)("IE_PROTO"),f=function(){},p=function(e){return"<script>"+e+"<\/script>"},d=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},h=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t;h="undefined"!=typeof document?document.domain&&n?d(n):((t=s("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):d(n);for(var r=a.length;r--;)delete h.prototype[a[r]];return h()};c[l]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(f.prototype=o(e),r=new f,f.prototype=null,r[l]=e):r=h(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(28),o=r(89),i=r(54),a=r(36),c=r(69),u=r(27),s=r(105),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=a(e),t=c(t),s)try{return l(e,t)}catch(e){}if(u(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t,r){"use strict";var n=r(14),o=r(79);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,r,n){"use strict";(function(e){var o=n(20),i=n(135),a=t&&!t.nodeType&&t,c=a&&"object"==typeof e&&e&&!e.nodeType&&e,u=c&&c.exports===a?o.a.Buffer:void 0,s=(u?u.isBuffer:void 0)||i.a;r.a=s}).call(this,n(97)(e))},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n,o,i,a=r(142),c=r(21),u=r(22),s=r(39),l=r(27),f=r(84),p=r(72),d=r(52),h=c.WeakMap;if(a||f.state){var y=f.state||(f.state=new h),v=y.get,b=y.has,g=y.set;n=function(e,t){if(b.call(y,e))throw new TypeError("Object already initialized");return t.facade=e,g.call(y,e,t),t},o=function(e){return v.call(y,e)||{}},i=function(e){return b.call(y,e)}}else{var m=p("state");d[m]=!0,n=function(e,t){if(l(e,m))throw new TypeError("Object already initialized");return t.facade=e,s(e,m,t),t},o=function(e){return l(e,m)?e[m]:{}},i=function(e){return l(e,m)}}e.exports={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},function(e,t,r){var n=r(43),o=r(104);e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return"function"==typeof t&&Object(e)instanceof t}},function(e,t){e.exports={}},function(e,t){e.exports={}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(108),o=r(87).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,r){var n=r(76),o=r(62),i=r(30),a=r(31),c=r(95),u=[].push,s=function(e){var t=1==e,r=2==e,s=3==e,l=4==e,f=6==e,p=7==e,d=5==e||f;return function(h,y,v,b){for(var g,m,O=i(h),x=o(O),w=n(y,v,3),_=a(x.length),j=0,E=b||c,S=t?E(h,_):r||p?E(h,0):void 0;_>j;j++)if((d||j in x)&&(m=w(g=x[j],j,O),e))if(t)S[j]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return j;case 2:u.call(S,g)}else switch(e){case 4:return!1;case 7:u.call(S,g)}return f?-1:s||l?l:S}};e.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)}},function(e,t,r){var n=r(17),o=r(19),i=r(67),a=o("species");e.exports=function(e){return i>=51||!n((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,r){"use strict";var n=r(69),o=r(29),i=r(54);e.exports=function(e,t,r){var a=n(t);a in e?o.f(e,a,i(0,r)):e[a]=r}},function(e,t,r){"use strict";var n=r(28),o=r(21),i=r(91),a=r(42),c=r(27),u=r(48),s=r(124),l=r(51),f=r(107),p=r(17),d=r(44),h=r(55).f,y=r(45).f,v=r(29).f,b=r(168).trim,g=o.Number,m=g.prototype,O="Number"==u(d(m)),x=function(e){if(l(e))throw TypeError("Cannot convert a Symbol value to a number");var t,r,n,o,i,a,c,u,s=f(e,"number");if("string"==typeof s&&s.length>2)if(43===(t=(s=b(s)).charCodeAt(0))||45===t){if(88===(r=s.charCodeAt(2))||120===r)return NaN}else if(48===t){switch(s.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+s}for(a=(i=s.slice(2)).length,c=0;c<a;c++)if((u=i.charCodeAt(c))<48||u>o)return NaN;return parseInt(i,n)}return+s};if(i("Number",!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var w,_=function e(t){var r=arguments.length<1?0:t,n=this;return n instanceof e&&(O?p((function(){m.valueOf.call(n)})):"Number"!=u(n))?s(new g(x(r)),n,e):x(r)},j=n?h(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),E=0;j.length>E;E++)c(g,w=j[E])&&!c(_,w)&&v(_,w,y(g,w));_.prototype=m,m.constructor=_,a(o,"Number",_)}},function(e,t,r){r(14)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,r){var n=r(17),o=r(48),i="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t,r){var n=r(19),o=r(44),i=r(29),a=n("unscopables"),c=Array.prototype;null==c[a]&&i.f(c,a,{configurable:!0,value:o(null)}),e.exports=function(e){c[a][e]=!0}},function(e,t,r){var n=r(65),o=r(84);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.17.2",mode:n?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},function(e,t,r){var n,o,i=r(21),a=r(68),c=i.process,u=i.Deno,s=c&&c.versions||u&&u.version,l=s&&s.v8;l?o=(n=l.split("."))[0]<4?1:n[0]+n[1]:a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=n[1]),e.exports=o&&+o},function(e,t,r){var n=r(43);e.exports=n("navigator","userAgent")||""},function(e,t,r){var n=r(107),o=r(51);e.exports=function(e){var t=n(e,"string");return o(t)?t:String(t)}},function(e,t,r){var n=r(108),o=r(87);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t,r){var n=r(49),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},function(e,t,r){var n=r(64),o=r(66),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t,r){var n=r(27),o=r(30),i=r(72),a=r(114),c=i("IE_PROTO"),u=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),n(e,c)?e[c]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,r){var n=r(29).f,o=r(27),i=r(19)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){"use strict";var n=r(145),o=r(147);e.exports=n("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},function(e,t,r){var n=r(56);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(48);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){"use strict";var n=r(14),o=r(71),i=r(49),a=r(31),c=r(30),u=r(95),s=r(59),l=r(58)("splice"),f=Math.max,p=Math.min;n({target:"Array",proto:!0,forced:!l},{splice:function(e,t){var r,n,l,d,h,y,v=c(this),b=a(v.length),g=o(e,b),m=arguments.length;if(0===m?r=n=0:1===m?(r=0,n=b-g):(r=m-2,n=p(f(i(t),0),b-g)),b+r-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=u(v,n),d=0;d<n;d++)(h=g+d)in v&&s(l,d,v[h]);if(l.length=n,r<n){for(d=g;d<b-n;d++)y=d+r,(h=d+n)in v?v[y]=v[h]:delete v[y];for(d=b;d>b-n+r;d--)delete v[d-1]}else if(r>n)for(d=b-n;d>g;d--)y=d+r-1,(h=d+n-1)in v?v[y]=v[h]:delete v[y];for(d=0;d<r;d++)v[d+g]=arguments[d+2];return v.length=b-n+r,l}})},function(e,t,r){"use strict";var n,o,i=r(32),a=r(164),c=r(132),u=r(64),s=r(44),l=r(50).get,f=r(165),p=r(166),d=RegExp.prototype.exec,h=u("native-string-replace",String.prototype.replace),y=d,v=(n=/a/,o=/b*/g,d.call(n,"a"),d.call(o,"a"),0!==n.lastIndex||0!==o.lastIndex),b=c.UNSUPPORTED_Y||c.BROKEN_CARET,g=void 0!==/()??/.exec("")[1];(v||g||b||f||p)&&(y=function(e){var t,r,n,o,c,u,f,p=this,m=l(p),O=i(e),x=m.raw;if(x)return x.lastIndex=p.lastIndex,t=y.call(x,O),p.lastIndex=x.lastIndex,t;var w=m.groups,_=b&&p.sticky,j=a.call(p),E=p.source,S=0,P=O;if(_&&(-1===(j=j.replace("y","")).indexOf("g")&&(j+="g"),P=O.slice(p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==O.charAt(p.lastIndex-1))&&(E="(?: "+E+")",P=" "+P,S++),r=new RegExp("^(?:"+E+")",j)),g&&(r=new RegExp("^"+E+"$(?!\\s)",j)),v&&(n=p.lastIndex),o=d.call(_?r:p,P),_?o?(o.input=o.input.slice(S),o[0]=o[0].slice(S),o.index=p.lastIndex,p.lastIndex+=o[0].length):p.lastIndex=0:v&&o&&(p.lastIndex=p.global?o.index+o[0].length:n),g&&o&&o.length>1&&h.call(o[0],r,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(o[c]=void 0)})),o&&w)for(o.groups=u=s(null),c=0;c<w.length;c++)u[(f=w[c])[0]]=o[f[1]];return o}),e.exports=y},function(e,t,r){"use strict";var n=r(98),o=r(131),i=r(25),a=r(37),c=r(167),u=r(99),s=r(31),l=r(32),f=r(100),p=r(79),d=r(132),h=r(17),y=d.UNSUPPORTED_Y,v=[].push,b=Math.min;n("split",(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=l(a(this)),i=void 0===r?4294967295:r>>>0;if(0===i)return[];if(void 0===e)return[n];if(!o(e))return t.call(n,e,i);for(var c,u,s,f=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,y=new RegExp(e.source,d+"g");(c=p.call(y,n))&&!((u=y.lastIndex)>h&&(f.push(n.slice(h,c.index)),c.length>1&&c.index<n.length&&v.apply(f,c.slice(1)),s=c[0].length,h=u,f.length>=i));)y.lastIndex===c.index&&y.lastIndex++;return h===n.length?!s&&y.test("")||f.push(""):f.push(n.slice(h)),f.length>i?f.slice(0,i):f}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var o=a(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,r):n.call(l(o),t,r)},function(e,o){var a=i(this),p=l(e),d=r(n,a,p,o,n!==t);if(d.done)return d.value;var h=c(a,RegExp),v=a.unicode,g=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(y?"g":"y"),m=new h(y?"^(?:"+a.source+")":a,g),O=void 0===o?4294967295:o>>>0;if(0===O)return[];if(0===p.length)return null===f(m,p)?[p]:[];for(var x=0,w=0,_=[];w<p.length;){m.lastIndex=y?0:w;var j,E=f(m,y?p.slice(w):p);if(null===E||(j=b(s(m.lastIndex+(y?w:0)),p.length))===x)w=u(p,w,v);else{if(_.push(p.slice(x,w)),_.length===O)return _;for(var S=1;S<=E.length-1;S++)if(_.push(E[S]),_.length===O)return _;w=x=j}}return _.push(p.slice(x)),_}]}),!!h((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),y)},function(e,t,r){"use strict";var n=r(14),o=r(62),i=r(36),a=r(96),c=[].join,u=o!=Object,s=a("join",",");n({target:"Array",proto:!0,forced:u||!s},{join:function(e){return c.call(i(this),void 0===e?",":e)}})},function(e,t,r){"use strict";(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.a=r}).call(this,r(83))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(21),o=r(85),i=n["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},function(e,t,r){var n=r(21);e.exports=function(e,t){try{Object.defineProperty(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},function(e,t,r){var n=r(67),o=r(17);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,r){"use strict";var n=r(14),o=r(143),i=r(73),a=r(92),c=r(74),u=r(39),s=r(42),l=r(19),f=r(65),p=r(53),d=r(113),h=d.IteratorPrototype,y=d.BUGGY_SAFARI_ITERATORS,v=l("iterator"),b=function(){return this};e.exports=function(e,t,r,l,d,g,m){o(r,t,l);var O,x,w,_=function(e){if(e===d&&A)return A;if(!y&&e in S)return S[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},j=t+" Iterator",E=!1,S=e.prototype,P=S[v]||S["@@iterator"]||d&&S[d],A=!y&&P||_(d),k="Array"==t&&S.entries||P;if(k&&(O=i(k.call(new e)),h!==Object.prototype&&O.next&&(f||i(O)===h||(a?a(O,h):"function"!=typeof O[v]&&u(O,v,b)),c(O,j,!0,!0),f&&(p[j]=b))),"values"==d&&P&&"values"!==P.name&&(E=!0,A=function(){return P.call(this)}),f&&!m||S[v]===A||u(S,v,A),p[t]=A,d)if(x={values:_("values"),keys:g?A:_("keys"),entries:_("entries")},m)for(w in x)(y||E||!(w in S))&&s(S,w,x[w]);else n({target:t,proto:!0,forced:y||E},x);return x}},function(e,t,r){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(17),o=/#|\.prototype\./,i=function(e,t){var r=c[a(e)];return r==s||r!=u&&("function"==typeof t?n(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=i.data={},u=i.NATIVE="N",s=i.POLYFILL="P";e.exports=i},function(e,t,r){var n=r(25),o=r(144);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,i){return n(r),o(i),t?e.call(r,i):r.__proto__=i,r}}():void 0)},function(e,t,r){var n=r(120),o=r(53),i=r(19)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[n(e)]}},function(e,t,r){var n={};n[r(19)("toStringTag")]="z",e.exports="[object z]"===String(n)},function(e,t,r){var n=r(152);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},function(e,t,r){"use strict";var n=r(17);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";r(46);var n=r(42),o=r(79),i=r(17),a=r(19),c=r(39),u=a("species"),s=RegExp.prototype;e.exports=function(e,t,r,l){var f=a(e),p=!i((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),d=p&&!i((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return t=!0,null},r[f](""),!t}));if(!p||!d||r){var h=/./[f],y=t(f,""[e],(function(e,t,r,n,i){var a=t.exec;return a===o||a===s.exec?p&&!i?{done:!0,value:h.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}));n(String.prototype,e,y[0]),n(s,f,y[1])}l&&c(s[f],"sham",!0)}},function(e,t,r){"use strict";var n=r(125).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},function(e,t,r){var n=r(48),o=r(79);e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var i=r.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,r){"use strict";var n=r(14),o=r(173);n({target:"String",proto:!0,forced:r(174)("anchor")},{anchor:function(e){return o(this,"a","name",e)}})},function(e,t,r){r(14)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,s=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?s=u.concat(s):f=-1,s.length&&d())}function d(){if(!l){var e=c(p);l=!0;for(var t=s.length;t;){for(u=s,s=[];++f<t;)u&&u[f].run();f=-1,t=s.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new h(e,t)),1!==s.length||l||c(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){var n=r(86);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,r){var n=r(28),o=r(17),i=r(106);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(21),o=r(22),i=n.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,r){var n=r(22),o=r(51),i=r(140),a=r(19)("toPrimitive");e.exports=function(e,t){if(!n(e)||o(e))return e;var r,c=e[a];if(void 0!==c){if(void 0===t&&(t="default"),r=c.call(e,t),!n(r)||o(r))return r;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),i(e,t)}},function(e,t,r){var n=r(27),o=r(36),i=r(109).indexOf,a=r(52);e.exports=function(e,t){var r,c=o(e),u=0,s=[];for(r in c)!n(a,r)&&n(c,r)&&s.push(r);for(;t.length>u;)n(c,r=t[u++])&&(~i(s,r)||s.push(r));return s}},function(e,t,r){var n=r(36),o=r(31),i=r(71),a=function(e){return function(t,r,a){var c,u=n(t),s=o(u.length),l=i(a,s);if(e&&r!=r){for(;s>l;)if((c=u[l++])!=c)return!0}else for(;s>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,r){var n=r(84),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return o.call(e)}),e.exports=n.inspectSource},function(e,t,r){var n=r(27),o=r(112),i=r(45),a=r(29);e.exports=function(e,t){for(var r=o(t),c=a.f,u=i.f,s=0;s<r.length;s++){var l=r[s];n(e,l)||c(e,l,u(t,l))}}},function(e,t,r){var n=r(43),o=r(55),i=r(90),a=r(25);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(a(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t,r){"use strict";var n,o,i,a=r(17),c=r(73),u=r(39),s=r(27),l=r(19),f=r(65),p=l("iterator"),d=!1;[].keys&&("next"in(i=[].keys())?(o=c(c(i)))!==Object.prototype&&(n=o):d=!0);var h=null==n||a((function(){var e={};return n[p].call(e)!==e}));h&&(n={}),f&&!h||s(n,p)||u(n,p,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},function(e,t,r){var n=r(17);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,r){var n=r(14),o=r(52),i=r(22),a=r(27),c=r(29).f,u=r(55),s=r(116),l=r(66),f=r(146),p=!1,d=l("meta"),h=0,y=Object.isExtensible||function(){return!0},v=function(e){c(e,d,{value:{objectID:"O"+h++,weakData:{}}})},b=e.exports={enable:function(){b.enable=function(){},p=!0;var e=u.f,t=[].splice,r={};r[d]=1,e(r).length&&(u.f=function(r){for(var n=e(r),o=0,i=n.length;o<i;o++)if(n[o]===d){t.call(n,o,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:s.f}))},fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,d)){if(!y(e))return"F";if(!t)return"E";v(e)}return e[d].objectID},getWeakData:function(e,t){if(!a(e,d)){if(!y(e))return!0;if(!t)return!1;v(e)}return e[d].weakData},onFreeze:function(e){return f&&p&&y(e)&&!a(e,d)&&v(e),e}};o[d]=!0},function(e,t,r){var n=r(36),o=r(55).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(n(e))}},function(e,t,r){var n=r(25),o=r(118),i=r(31),a=r(76),c=r(119),u=r(93),s=r(121),l=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,r){var f,p,d,h,y,v,b,g=r&&r.that,m=!(!r||!r.AS_ENTRIES),O=!(!r||!r.IS_ITERATOR),x=!(!r||!r.INTERRUPTED),w=a(t,g,1+m+x),_=function(e){return f&&s(f,"normal",e),new l(!0,e)},j=function(e){return m?(n(e),x?w(e[0],e[1],_):w(e[0],e[1])):x?w(e,_):w(e)};if(O)f=e;else{if("function"!=typeof(p=u(e)))throw TypeError("Target is not iterable");if(o(p)){for(d=0,h=i(e.length);h>d;d++)if((y=j(e[d]))&&y instanceof l)return y;return new l(!1)}f=c(e,p)}for(v=f.next;!(b=v.call(f)).done;){try{y=j(b.value)}catch(e){s(f,"throw",e)}if("object"==typeof y&&y&&y instanceof l)return y}return new l(!1)}},function(e,t,r){var n=r(19),o=r(53),i=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},function(e,t,r){var n=r(25),o=r(93);e.exports=function(e,t){var r=arguments.length<2?o(e):t;if("function"!=typeof r)throw TypeError(String(e)+" is not iterable");return n(r.call(e))}},function(e,t,r){var n=r(94),o=r(48),i=r(19)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:a?o(t):"Object"==(n=o(t))&&"function"==typeof t.callee?"Arguments":n}},function(e,t,r){var n=r(25);e.exports=function(e,t,r){var o,i;n(e);try{if(void 0===(o=e.return)){if("throw"===t)throw r;return r}o=o.call(e)}catch(e){i=!0,o=e}if("throw"===t)throw r;if(i)throw o;return n(o),r}},function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},function(e,t,r){var n=r(19)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},function(e,t,r){var n=r(22),o=r(92);e.exports=function(e,t,r){var i,a;return o&&"function"==typeof(i=t.constructor)&&i!==r&&n(a=i.prototype)&&a!==r.prototype&&o(e,a),e}},function(e,t,r){var n=r(49),o=r(32),i=r(37),a=function(e){return function(t,r){var a,c,u=o(i(t)),s=n(r),l=u.length;return s<0||s>=l?e?"":void 0:(a=u.charCodeAt(s))<55296||a>56319||s+1===l||(c=u.charCodeAt(s+1))<56320||c>57343?e?u.charAt(s):a:e?u.slice(s,s+2):c-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,r){var n=r(19);t.f=n},function(e,t,r){var n=r(153),o=r(27),i=r(127),a=r(29).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},function(e,t,r){"use strict";var n=r(14),o=r(109).includes,i=r(63);n({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(e,t,r){"use strict";var n=r(14),o=r(162),i=r(37),a=r(32);n({target:"String",proto:!0,forced:!r(163)("includes")},{includes:function(e){return!!~a(i(this)).indexOf(a(o(e)),arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(22),o=r(48),i=r(19)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,r){var n=r(17),o=r(21).RegExp;t.UNSUPPORTED_Y=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,r){"use strict";var n=r(98),o=r(25),i=r(31),a=r(32),c=r(37),u=r(99),s=r(100);n("match",(function(e,t,r){return[function(t){var r=c(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](a(r))},function(e){var n=o(this),c=a(e),l=r(t,n,c);if(l.done)return l.value;if(!n.global)return s(n,c);var f=n.unicode;n.lastIndex=0;for(var p,d=[],h=0;null!==(p=s(n,c));){var y=a(p[0]);d[h]=y,""===y&&(n.lastIndex=u(c,i(n.lastIndex),f)),h++}return 0===h?null:d}]}))},function(e,t,r){"use strict";var n=r(98),o=r(17),i=r(25),a=r(49),c=r(31),u=r(32),s=r(37),l=r(99),f=r(170),p=r(100),d=r(19)("replace"),h=Math.max,y=Math.min,v="$0"==="a".replace(/./,"$0"),b=!!/./[d]&&""===/./[d]("a","$0");n("replace",(function(e,t,r){var n=b?"$":"$0";return[function(e,r){var n=s(this),o=null==e?void 0:e[d];return void 0!==o?o.call(e,n,r):t.call(u(n),e,r)},function(e,o){var s=i(this),d=u(e);if("string"==typeof o&&-1===o.indexOf(n)&&-1===o.indexOf("$<")){var v=r(t,s,d,o);if(v.done)return v.value}var b="function"==typeof o;b||(o=u(o));var g=s.global;if(g){var m=s.unicode;s.lastIndex=0}for(var O=[];;){var x=p(s,d);if(null===x)break;if(O.push(x),!g)break;""===u(x[0])&&(s.lastIndex=l(d,c(s.lastIndex),m))}for(var w,_="",j=0,E=0;E<O.length;E++){x=O[E];for(var S=u(x[0]),P=h(y(a(x.index),d.length),0),A=[],k=1;k<x.length;k++)A.push(void 0===(w=x[k])?w:String(w));var N=x.groups;if(b){var D=[S].concat(A,P,d);void 0!==N&&D.push(N);var M=u(o.apply(void 0,D))}else M=f(S,d,P,A,N,o);P>=j&&(_+=d.slice(j,P)+M,j=P+S.length)}return _+d.slice(j)}]}),!!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!v||b)},function(e,t,r){"use strict";t.a=function(){return!1}},function(e,r,n){"use strict";(function(e){var o=n(20),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,c=a&&a.exports===i?o.a.Buffer:void 0,u=c?c.allocUnsafe:void 0;r.a=function(e,t){if(t)return e.slice();var r=e.length,n=u?u(r):new e.constructor(r);return e.copy(n),n}}).call(this,n(97)(e))},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return v}));var n=r(0);function o(e){throw new Error("[mobx-utils] "+e)}function i(e,t){void 0===t&&(t="Illegal state"),e||o(t)}var a=function e(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(e(Object.getPrototypeOf(t))||[])},c=function(e){return function(e){var t=a(e);return t.filter((function(e,r){return t.indexOf(e)===r}))}(e).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))};function u(e){switch(this.state){case"pending":return e.pending&&e.pending(this.value);case"rejected":return e.rejected&&e.rejected(this.value);case"fulfilled":return e.fulfilled?e.fulfilled(this.value):this.value}}function s(e,t){if(i(arguments.length<=2,"fromPromise expects up to two arguments"),i("function"==typeof e||"object"==typeof e&&e&&"function"==typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"==typeof e&&(e=new Promise(e));var r=e;e.then(Object(n.i)("observableFromPromise-resolve",(function(e){r.value=e,r.state="fulfilled"})),Object(n.i)("observableFromPromise-reject",(function(e){r.value=e,r.state="rejected"}))),r.isPromiseBasedObservable=!0,r.case=u;var o=t&&"fulfilled"===t.state?t.value:void 0;return Object(n.o)(r,{value:o,state:"pending"},{},{deep:!1}),r}!function(e){e.reject=Object(n.i)("fromPromise.reject",(function(t){var r=e(Promise.reject(t));return r.state="rejected",r.value=t,r})),e.resolve=Object(n.i)("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var r=e(Promise.resolve(t));return r.state="fulfilled",r.value=t,r}))}(s||(s={}));var l=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};!function(){function e(e,t){var r=this;Object(n.E)((function(){r.current=t,r.subscription=e.subscribe(r)}))}e.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.next=function(e){this.current=e},e.prototype.complete=function(){this.dispose()},e.prototype.error=function(e){this.current=e,this.dispose()},l([n.A.ref],e.prototype,"current",void 0),l([n.i.bound],e.prototype,"next",null),l([n.i.bound],e.prototype,"complete",null),l([n.i.bound],e.prototype,"error",null)}();var f=function(){return(f=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},p=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},d=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];function h(e){if(!e)return"ROOT";for(var t=[];e.parent;)t.push(e.path),e=e.parent;return t.reverse().join("/")}function y(e){return Object(n.y)(e)||Object(n.w)(e)||Object(n.x)(e)}function v(e,t){var r=new WeakMap;function o(n){var o=r.get(n.object);!function(e,t){switch(e.type){case"add":i(e.newValue,t,e.name);break;case"update":a(e.oldValue),i(e.newValue,t,e.name||""+e.index);break;case"remove":case"delete":a(e.oldValue);break;case"splice":e.removed.map(a),e.added.forEach((function(r,n){return i(r,t,""+(e.index+n))}));for(var n=e.index+e.addedCount;n<e.object.length;n++)if(y(e.object[n])){var o=r.get(e.object[n]);o&&(o.path=""+n)}}}(n,o),t(n,h(o),e)}function i(e,t,a){if(y(e)){var c=r.get(e);if(c){if(c.parent!==t||c.path!==a)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+h(t)+"/"+a+"', but it already exists at '"+h(c.parent)+"/"+c.path+"'")}else{var u={parent:t,path:a,dispose:Object(n.B)(e,o)};r.set(e,u),Object(n.n)(e).forEach((function(e){var t=e[0];return i(e[1],u,t)}))}}}function a(e){if(y(e)){var t=r.get(e);if(!t)return;r.delete(e),t.dispose(),Object(n.J)(e).forEach(a)}}return i(e,void 0,""),function(){a(e)}}!function(){function e(e){var t=this;this.model=e,this.localValues=n.A.map({}),this.localComputedValues=n.A.map({}),this.isPropertyDirty=function(e){return t.localValues.has(e)},i(Object(n.y)(e),"createViewModel expects an observable object"),c(e).forEach((function(r){if(r!==n.a&&"__mobxDidRunLazyInitializers"!==r){if(i(-1===d.indexOf(r),"The propertyname "+r+" is reserved and cannot be used with viewModels"),Object(n.u)(e,r)){var o=Object(n.f)(e,r).derivation;t.localComputedValues.set(r,Object(n.k)(o.bind(t)))}var a=Object.getOwnPropertyDescriptor(e,r),c=a?{enumerable:a.enumerable}:{};Object.defineProperty(t,r,f(f({},c),{configurable:!0,get:function(){return Object(n.u)(e,r)?t.localComputedValues.get(r).get():t.isPropertyDirty(r)?t.localValues.get(r):t.model[r]},set:Object(n.i)((function(e){e!==t.model[r]?t.localValues.set(r,e):t.localValues.delete(r)}))}))}}))}Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),e.prototype.submit=function(){var e=this;Object(n.z)(this.localValues).forEach((function(t){var r=e.localValues.get(t),o=e.model[t];Object(n.w)(o)?o.replace(r):Object(n.x)(o)?(o.clear(),o.merge(r)):Object(n.t)(r)||(e.model[t]=r)})),this.localValues.clear()},e.prototype.reset=function(){this.localValues.clear()},e.prototype.resetProperty=function(e){this.localValues.delete(e)},p([n.k],e.prototype,"isDirty",null),p([n.k],e.prototype,"changedValues",null),p([n.i.bound],e.prototype,"submit",null),p([n.i.bound],e.prototype,"reset",null),p([n.i.bound],e.prototype,"resetProperty",null)}();var b,g=(b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),m=(function(e){function t(t,r,o){var i=void 0===o?{}:o,a=i.name,c=void 0===a?"ogm"+(1e3*Math.random()|0):a,u=i.keyToName,s=void 0===u?function(e){return""+e}:u,l=e.call(this)||this;l._keyToName=s,l._groupBy=r,l._ogmInfoKey=Symbol("ogmInfo"+c),l._base=t;for(var f=0;f<t.length;f++)l._addItem(t[f]);return l._disposeBaseObserver=Object(n.B)(l._base,(function(e){if("splice"===e.type)Object(n.H)((function(){for(var t=0,r=e.removed;t<r.length;t++){var n=r[t];l._removeItem(n)}for(var o=0,i=e.added;o<i.length;o++){var a=i[o];l._addItem(a)}}));else{if("update"!==e.type)throw new Error("illegal state");Object(n.H)((function(){l._removeItem(e.oldValue),l._addItem(e.newValue)}))}})),l}g(t,e),t.prototype.clear=function(){throw new Error("not supported")},t.prototype.delete=function(e){throw new Error("not supported")},t.prototype.set=function(e,t){throw new Error("not supported")},t.prototype.dispose=function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];t[this._ogmInfoKey].reaction(),delete t[this._ogmInfoKey]}},t.prototype._getGroupArr=function(t){var r=e.prototype.get.call(this,t);return void 0===r&&(r=Object(n.A)([],{name:"GroupArray["+this._keyToName(t)+"]",deep:!1}),e.prototype.set.call(this,t,r)),r},t.prototype._removeFromGroupArr=function(t,r){var n=e.prototype.get.call(this,t);1===n.length?e.prototype.delete.call(this,t):(r===n.length-1||(n[r]=n[n.length-1],n[r][this._ogmInfoKey].groupArrIndex=r),n.length--)},t.prototype._addItem=function(e){var t=this,r=this._groupBy(e),o=this._getGroupArr(r),i={groupByValue:r,groupArrIndex:o.length,reaction:Object(n.D)((function(){return t._groupBy(e)}),(function(r,n){var o=e[t._ogmInfoKey];t._removeFromGroupArr(o.groupByValue,o.groupArrIndex);var i=t._getGroupArr(r),a=i.length;i.push(e),o.groupByValue=r,o.groupArrIndex=a}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),o.push(e)},t.prototype._removeItem=function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]}}(n.b),function(){function e(e,t){this.base=e,this.args=t,this.closestIdx=0,this.isDisposed=!1;for(var r=this.closest=this.root=e,n=0;n<this.args.length-1&&(r=r.get(t[n]));n++)this.closest=r;this.closestIdx=n}return e.prototype.exists=function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])},e.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},e.prototype.set=function(e){this.assertNotDisposed();for(var t=this.args.length,r=this.closest,n=this.closestIdx;n<t-1;n++){var o=new Map;r.set(this.args[n],o),r=o}this.closestIdx=t-1,this.closest=r,r.set(this.args[t-1],e)},e.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,r=[t],n=0;n<e-1;n++)t=t.get(this.args[n]),r.push(t);for(n=r.length-1;n>0;n--)0===r[n].size&&r[n-1].delete(this.args[n-1]);this.isDisposed=!0},e.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},e}());!function(){function e(){this.store=new Map,this.argsLength=-1}e.prototype.entry=function(e){if(-1===this.argsLength)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new m(this.store,e)}}(),new Set,new Set,Promise.resolve(),"undefined"!=typeof queueMicrotask?queueMicrotask:void 0!==e&&e.nextTick}).call(this,r(103))},function(e,t,r){var n;!function(o,i,a){if(o){for(var c,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)u[111+p]="f"+p;for(p=0;p<=9;++p)u[p+96]=p.toString();g.prototype.bind=function(e,t,r){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,r),this},g.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},g.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},g.prototype.reset=function(){return this._callbacks={},this._directMap={},this},g.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function e(t,r){return null!==t&&t!==i&&(t===r||e(t.parentNode,r))}(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var r=e.composedPath()[0];r!==e.target&&(t=r)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},g.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},g.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(u[t]=e[t]);c=null},g.init=function(){var e=g(i);for(var t in e)"_"!==t.charAt(0)&&(g[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},g.init(),o.Mousetrap=g,e.exports&&(e.exports=g),void 0===(n=function(){return g}.call(t,r,t,e))||(e.exports=n)}function d(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)}function h(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return u[e.which]?u[e.which]:s[e.which]?s[e.which]:String.fromCharCode(e.which).toLowerCase()}function y(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function v(e,t,r){return r||(r=function(){if(!c)for(var e in c={},u)e>95&&e<112||u.hasOwnProperty(e)&&(c[u[e]]=e);return c}()[e]?"keydown":"keypress"),"keypress"==r&&t.length&&(r="keydown"),r}function b(e,t){var r,n,o,i=[];for(r=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),o=0;o<r.length;++o)n=r[o],f[n]&&(n=f[n]),t&&"keypress"!=t&&l[n]&&(n=l[n],i.push("shift")),y(n)&&i.push(n);return{key:n,modifiers:i,action:t=v(n,i,t)}}function g(e){var t=this;if(e=e||i,!(t instanceof g))return new g(e);t.target=e,t._callbacks={},t._directMap={};var r,n={},o=!1,a=!1,c=!1;function u(e){e=e||{};var t,r=!1;for(t in n)e[t]?r=!0:n[t]=0;r||(c=!1)}function s(e,r,o,i,a,c){var u,s,l,f,p=[],d=o.type;if(!t._callbacks[e])return[];for("keyup"==d&&y(e)&&(r=[e]),u=0;u<t._callbacks[e].length;++u)if(s=t._callbacks[e][u],(i||!s.seq||n[s.seq]==s.level)&&d==s.action&&("keypress"==d&&!o.metaKey&&!o.ctrlKey||(l=r,f=s.modifiers,l.sort().join(",")===f.sort().join(",")))){var h=!i&&s.combo==a,v=i&&s.seq==i&&s.level==c;(h||v)&&t._callbacks[e].splice(u,1),p.push(s)}return p}function l(e,r,n,o){t.stopCallback(r,r.target||r.srcElement,n,o)||!1===e(r,n)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(r),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(r))}function f(e){"number"!=typeof e.which&&(e.which=e.keyCode);var r=h(e);r&&("keyup"!=e.type||o!==r?t.handleKey(r,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):o=!1)}function p(e,t,i,a){function s(t){return function(){c=t,++n[e],clearTimeout(r),r=setTimeout(u,1e3)}}function f(t){l(i,t,e),"keyup"!==a&&(o=h(t)),setTimeout(u,10)}n[e]=0;for(var p=0;p<t.length;++p){var d=p+1===t.length?f:s(a||b(t[p+1]).action);v(t[p],d,a,e,p)}}function v(e,r,n,o,i){t._directMap[e+":"+n]=r;var a,c=(e=e.replace(/\s+/g," ")).split(" ");c.length>1?p(e,c,r,n):(a=b(e,n),t._callbacks[a.key]=t._callbacks[a.key]||[],s(a.key,a.modifiers,{type:a.action},o,e,i),t._callbacks[a.key][o?"unshift":"push"]({callback:r,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:e}))}t._handleKey=function(e,t,r){var n,o=s(e,t,r),i={},f=0,p=!1;for(n=0;n<o.length;++n)o[n].seq&&(f=Math.max(f,o[n].level));for(n=0;n<o.length;++n)if(o[n].seq){if(o[n].level!=f)continue;p=!0,i[o[n].seq]=1,l(o[n].callback,r,o[n].combo,o[n].seq)}else p||l(o[n].callback,r,o[n].combo);var d="keypress"==r.type&&a;r.type!=c||y(e)||d||u(i),a=p&&"keydown"==r.type},t._bindMultiple=function(e,t,r){for(var n=0;n<e.length;++n)v(e[n],t,r)},d(e,"keypress",f),d(e,"keydown",f),d(e,"keyup",f)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,t,r){var n=r(28),o=r(29),i=r(25),a=r(70);e.exports=n?Object.defineProperties:function(e,t){i(e);for(var r,n=a(t),c=n.length,u=0;c>u;)o.f(e,r=n[u++],t[r]);return e}},function(e,t,r){var n=r(22);e.exports=function(e,t){var r,o;if("string"===t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if("string"!==t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(43);e.exports=n("document","documentElement")},function(e,t,r){var n=r(21),o=r(110),i=n.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,t,r){"use strict";var n=r(113).IteratorPrototype,o=r(44),i=r(54),a=r(74),c=r(53),u=function(){return this};e.exports=function(e,t,r){var s=t+" Iterator";return e.prototype=o(n,{next:i(1,r)}),a(e,s,!1,!0),c[s]=u,e}},function(e,t,r){var n=r(22);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,r){"use strict";var n=r(14),o=r(21),i=r(91),a=r(42),c=r(115),u=r(117),s=r(122),l=r(22),f=r(17),p=r(123),d=r(74),h=r(124);e.exports=function(e,t,r){var y=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),b=y?"set":"add",g=o[e],m=g&&g.prototype,O=g,x={},w=function(e){var t=m[e];a(m,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})};if(i(e,"function"!=typeof g||!(v||m.forEach&&!f((function(){(new g).entries().next()})))))O=r.getConstructor(t,e,y,b),c.enable();else if(i(e,!0)){var _=new O,j=_[b](v?{}:-0,1)!=_,E=f((function(){_.has(1)})),S=p((function(e){new g(e)})),P=!v&&f((function(){for(var e=new g,t=5;t--;)e[b](t,t);return!e.has(-0)}));S||((O=t((function(t,r){s(t,O,e);var n=h(new g,t,O);return null!=r&&u(r,n[b],{that:n,AS_ENTRIES:y}),n}))).prototype=m,m.constructor=O),(E||P)&&(w("delete"),w("has"),y&&w("get")),(P||j)&&w(b),v&&m.clear&&delete m.clear}return x[e]=O,n({global:!0,forced:O!=g},x),d(O,e),v||r.setStrong(O,e,y),O}},function(e,t,r){var n=r(17);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,r){"use strict";var n=r(29).f,o=r(44),i=r(148),a=r(76),c=r(122),u=r(117),s=r(88),l=r(149),f=r(28),p=r(115).fastKey,d=r(50),h=d.set,y=d.getterFor;e.exports={getConstructor:function(e,t,r,s){var l=e((function(e,n){c(e,l,t),h(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),f||(e.size=0),null!=n&&u(n,e[s],{that:e,AS_ENTRIES:r})})),d=y(t),v=function(e,t,r){var n,o,i=d(e),a=b(e,t);return a?a.value=r:(i.last=a={index:o=p(t,!0),key:t,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=a),n&&(n.next=a),f?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},b=function(e,t){var r,n=d(e),o=p(t);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==t)return r};return i(l.prototype,{clear:function(){for(var e=d(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=d(this),r=b(this,e);if(r){var n=r.next,o=r.previous;delete t.index[r.index],r.removed=!0,o&&(o.next=n),n&&(n.previous=o),t.first==r&&(t.first=n),t.last==r&&(t.last=o),f?t.size--:this.size--}return!!r},forEach:function(e){for(var t,r=d(this),n=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),i(l.prototype,r?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),f&&n(l.prototype,"size",{get:function(){return d(this).size}}),l},setStrong:function(e,t,r){var n=t+" Iterator",o=y(t),i=y(n);s(e,t,(function(e,t){h(this,{type:n,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),l(t)}}},function(e,t,r){var n=r(42);e.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},function(e,t,r){"use strict";var n=r(43),o=r(29),i=r(19),a=r(28),c=i("species");e.exports=function(e){var t=n(e),r=o.f;a&&t&&!t[c]&&r(t,c,{configurable:!0,get:function(){return this}})}},function(e,t,r){"use strict";var n=r(94),o=r(120);e.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},function(e,t,r){"use strict";var n=r(57).forEach,o=r(96)("forEach");e.exports=o?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,r){var n=r(22),o=r(77),i=r(19)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)?n(t)&&null===(t=t[i])&&(t=void 0):t=void 0),void 0===t?Array:t}},function(e,t,r){var n=r(21);e.exports=n},function(e,t,r){"use strict";var n=r(76),o=r(30),i=r(155),a=r(118),c=r(31),u=r(59),s=r(119),l=r(93);e.exports=function(e){var t,r,f,p,d,h,y=o(e),v="function"==typeof this?this:Array,b=arguments.length,g=b>1?arguments[1]:void 0,m=void 0!==g,O=l(y),x=0;if(m&&(g=n(g,b>2?arguments[2]:void 0,2)),null==O||v==Array&&a(O))for(r=new v(t=c(y.length));t>x;x++)h=m?g(y[x],x):y[x],u(r,x,h);else for(d=(p=s(y,O)).next,r=new v;!(f=d.call(p)).done;x++)h=m?i(p,g,[f.value,x],!0):f.value,u(r,x,h);return r.length=x,r}},function(e,t,r){var n=r(25),o=r(121);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){o(e,"throw",t)}}},function(e,t,r){"use strict";var n=r(14),o=r(56),i=r(30),a=r(31),c=r(32),u=r(17),s=r(157),l=r(96),f=r(158),p=r(159),d=r(67),h=r(160),y=[],v=y.sort,b=u((function(){y.sort(void 0)})),g=u((function(){y.sort(null)})),m=l("sort"),O=!u((function(){if(d)return d<70;if(!(f&&f>3)){if(p)return!0;if(h)return h<603;var e,t,r,n,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)y.push({k:t+n,v:r})}for(y.sort((function(e,t){return t.v-e.v})),n=0;n<y.length;n++)t=y[n].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));n({target:"Array",proto:!0,forced:b||!g||!m||!O},{sort:function(e){void 0!==e&&o(e);var t=i(this);if(O)return void 0===e?v.call(t):v.call(t,e);var r,n,u=[],l=a(t.length);for(n=0;n<l;n++)n in t&&u.push(t[n]);for(r=(u=s(u,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:c(t)>c(r)?1:-1}}(e))).length,n=0;n<r;)t[n]=u[n++];for(;n<l;)delete t[n++];return t}})},function(e,t){var r=Math.floor,n=function e(t,n){var a=t.length,c=r(a/2);return a<8?o(t,n):i(e(t.slice(0,c),n),e(t.slice(c),n),n)},o=function(e,t){for(var r,n,o=e.length,i=1;i<o;){for(n=i,r=e[i];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==i++&&(e[n]=r)}return e},i=function(e,t,r){for(var n=e.length,o=t.length,i=0,a=0,c=[];i<n||a<o;)i<n&&a<o?c.push(r(e[i],t[a])<=0?e[i++]:t[a++]):c.push(i<n?e[i++]:t[a++]);return c};e.exports=n},function(e,t,r){var n=r(68).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},function(e,t,r){var n=r(68);e.exports=/MSIE|Trident/.test(n)},function(e,t,r){var n=r(68).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},function(e,t,r){"use strict";var n=r(14),o=r(57).find,i=r(63),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),n({target:"Array",proto:!0,forced:a},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(e,t,r){var n=r(131);e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,r){var n=r(19)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,r){"use strict";var n=r(25);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){var n=r(17),o=r(21).RegExp;e.exports=n((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},function(e,t,r){var n=r(17),o=r(21).RegExp;e.exports=n((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},function(e,t,r){var n=r(25),o=r(56),i=r(19)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||null==(r=n(a)[i])?t:o(r)}},function(e,t,r){var n=r(37),o=r(32),i="["+r(169)+"]",a=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),u=function(e){return function(t){var r=o(n(t));return 1&e&&(r=r.replace(a,"")),2&e&&(r=r.replace(c,"")),r}};e.exports={start:u(1),end:u(2),trim:u(3)}},function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,r){var n=r(30),o=Math.floor,i="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,u,s,l){var f=r+e.length,p=u.length,d=c;return void 0!==s&&(s=n(s),d=a),i.call(l,d,(function(n,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(f);case"<":a=s[i.slice(1,-1)];break;default:var c=+i;if(0===c)return n;if(c>p){var l=o(c/10);return 0===l?n:l<=p?void 0===u[l-1]?i.charAt(1):u[l-1]+i.charAt(1):n}a=u[c-1]}return void 0===a?"":a}))}},function(e,t,r){"use strict";var n=r(56),o=r(22),i=[].slice,a={},c=function(e,t,r){if(!(t in a)){for(var n=[],o=0;o<t;o++)n[o]="a["+o+"]";a[t]=Function("C,a","return new C("+n.join(",")+")")}return a[t](e,r)};e.exports=Function.bind||function(e){var t=n(this),r=i.call(arguments,1),a=function n(){var o=r.concat(i.call(arguments));return this instanceof n?c(t,o.length,o):t.apply(e,o)};return o(t.prototype)&&(a.prototype=t.prototype),a}},function(e,t,r){"use strict";var n=r(28),o=r(17),i=r(70),a=r(90),c=r(89),u=r(30),s=r(62),l=Object.assign,f=Object.defineProperty;e.exports=!l||o((function(){if(n&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol();return e[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=l({},e)[r]||"abcdefghijklmnopqrst"!=i(l({},t)).join("")}))?function(e,t){for(var r=u(e),o=arguments.length,l=1,f=a.f,p=c.f;o>l;)for(var d,h=s(arguments[l++]),y=f?i(h).concat(f(h)):i(h),v=y.length,b=0;v>b;)d=y[b++],n&&!p.call(h,d)||(r[d]=h[d]);return r}:l},function(e,t,r){var n=r(37),o=r(32),i=/"/g;e.exports=function(e,t,r,a){var c=o(n(e)),u="<"+t;return""!==r&&(u+=" "+r+'="'+o(a).replace(i,"&quot;")+'"'),u+">"+c+"</"+t+">"}},function(e,t,r){var n=r(17);e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t,r){var n=r(14),o=Math.hypot,i=Math.abs,a=Math.sqrt;n({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(e,t){for(var r,n,o=0,c=0,u=arguments.length,s=0;c<u;)s<(r=i(arguments[c++]))?(o=o*(n=s/r)*n+1,s=r):o+=r>0?(n=r/s)*n:r;return s===1/0?1/0:s*a(o)}})},function(e,t,r){var n=r(27);e.exports=function(e){return void 0!==e&&(n(e,"value")||n(e,"writable"))}},function(e,t,r){r(14)({target:"String",proto:!0},{repeat:r(178)})},function(e,t,r){"use strict";var n=r(49),o=r(32),i=r(37);e.exports=function(e){var t=o(i(this)),r="",a=n(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(r+=t);return r}},function(e,t,r){"use strict";var n=r(30),o=r(71),i=r(31);e.exports=function(e){for(var t=n(this),r=i(t.length),a=arguments.length,c=o(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,s=void 0===u?r:o(u,r);s>c;)t[c++]=e;return t}},function(e,t,r){"use strict";r.r(t),r.d(t,"observer",(function(){return wO})),r.d(t,"LogicFlow",(function(){return xO})),r.d(t,"h",(function(){return b})),r.d(t,"LogicFlowUtil",(function(){return n})),r.d(t,"BaseNode",(function(){return lv})),r.d(t,"RectNode",(function(){return wv})),r.d(t,"CircleNode",(function(){return Cv})),r.d(t,"PolygonNode",(function(){return Wv})),r.d(t,"DiamondNode",(function(){return ib})),r.d(t,"EllipseNode",(function(){return Ob})),r.d(t,"TextNode",(function(){return Ab})),r.d(t,"HtmlNode",(function(){return Ib})),r.d(t,"BaseEdge",(function(){return Og})),r.d(t,"LineEdge",(function(){return Mg})),r.d(t,"PolylineEdge",(function(){return Zg})),r.d(t,"BezierEdge",(function(){return sm})),r.d(t,"Arrow",(function(){return qb})),r.d(t,"BaseEdgeModel",(function(){return Uu})),r.d(t,"BezierEdgeModel",(function(){return Od})),r.d(t,"LineEdgeModel",(function(){return $u})),r.d(t,"PolylineEdgeModel",(function(){return ps})),r.d(t,"BaseNodeModel",(function(){return Td})),r.d(t,"CircleNodeModel",(function(){return Yd})),r.d(t,"DiamondNodeModel",(function(){return lh})),r.d(t,"EllipseNodeModel",(function(){return wh})),r.d(t,"PolygonNodeModel",(function(){return Rh})),r.d(t,"RectNodeModel",(function(){return Kh})),r.d(t,"TextNodeModel",(function(){return iy})),r.d(t,"HtmlNodeModel",(function(){return by})),r.d(t,"EditConfigModel",(function(){return ha})),r.d(t,"GraphModel",(function(){return wl})),r.d(t,"SnaplineModel",(function(){return wy})),r.d(t,"Keyboard",(function(){return fO})),r.d(t,"get",(function(){return Dp})),r.d(t,"defaults",(function(){return Cp}));var n={};r.r(n),r.d(n,"createUuid",(function(){return Yc})),r.d(n,"createDrag",(function(){return Al})),r.d(n,"StepDrag",(function(){return kl}));var o,i,a,c,u,s,l,f=r(0),p={},d=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function y(e,t){for(var r in t)e[r]=t[r];return e}function v(e){var t=e.parentNode;t&&t.removeChild(e)}function b(e,t,r){var n,i,a,c={};for(a in t)"key"==a?n=t[a]:"ref"==a?i=t[a]:c[a]=t[a];if(arguments.length>2&&(c.children=arguments.length>3?o.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===c[a]&&(c[a]=e.defaultProps[a]);return g(e,c,n,i,null)}function g(e,t,r,n,o){var c={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++a:o};return null!=i.vnode&&i.vnode(c),c}function m(){return{current:null}}function O(e){return e.children}function x(e,t){this.props=e,this.context=t}function w(e,t){if(null==t)return e.__?w(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?w(e):null}function _(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return _(e)}}function j(e){(!e.__d&&(e.__d=!0)&&c.push(e)&&!E.__r++||s!==i.debounceRendering)&&((s=i.debounceRendering)||u)(E)}function E(){for(var e;E.__r=c.length;)e=c.sort((function(e,t){return e.__v.__b-t.__v.__b})),c=[],e.some((function(e){var t,r,n,o,i,a;e.__d&&(i=(o=(t=e).__v).__e,(a=t.__P)&&(r=[],(n=y({},o)).__v=o.__v+1,C(a,o,n,t.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,r,null==i?w(o):i,o.__h),R(r,o),o.__e!=i&&_(o)))}))}function S(e,t,r,n,o,i,a,c,u,s){var l,f,h,y,v,b,m,x=n&&n.__k||d,_=x.length;for(r.__k=[],l=0;l<t.length;l++)if(null!=(y=r.__k[l]=null==(y=t[l])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?g(null,y,null,null,y):Array.isArray(y)?g(O,{children:y},null,null,null):y.__b>0?g(y.type,y.props,y.key,null,y.__v):y)){if(y.__=r,y.__b=r.__b+1,null===(h=x[l])||h&&y.key==h.key&&y.type===h.type)x[l]=void 0;else for(f=0;f<_;f++){if((h=x[f])&&y.key==h.key&&y.type===h.type){x[f]=void 0;break}h=null}C(e,y,h=h||p,o,i,a,c,u,s),v=y.__e,(f=y.ref)&&h.ref!=f&&(m||(m=[]),h.ref&&m.push(h.ref,null,y),m.push(f,y.__c||v,y)),null!=v?(null==b&&(b=v),"function"==typeof y.type&&null!=y.__k&&y.__k===h.__k?y.__d=u=P(y,u,e):u=k(e,y,h,x,v,u),s||"option"!==r.type?"function"==typeof r.type&&(r.__d=u):e.value=""):u&&h.__e==u&&u.parentNode!=e&&(u=w(h))}for(r.__e=b,l=_;l--;)null!=x[l]&&("function"==typeof r.type&&null!=x[l].__e&&x[l].__e==r.__d&&(r.__d=w(n,l+1)),z(x[l],x[l]));if(m)for(l=0;l<m.length;l++)L(m[l],m[++l],m[++l])}function P(e,t,r){var n,o;for(n=0;n<e.__k.length;n++)(o=e.__k[n])&&(o.__=e,t="function"==typeof o.type?P(o,t,r):k(r,o,o,e.__k,o.__e,t));return t}function A(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){A(e,t)})):t.push(e)),t}function k(e,t,r,n,o,i){var a,c,u;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==r||o!=i||null==o.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(o),a=null;else{for(c=i,u=0;(c=c.nextSibling)&&u<n.length;u+=2)if(c==o)break e;e.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function N(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]=null==r?"":"number"!=typeof r||h.test(t)?r:r+"px"}function D(e,t,r,n,o){var i;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||N(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||N(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=r,r?n||e.addEventListener(t,i?T:M,i):e.removeEventListener(t,i?T:M,i);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null!=r&&(!1!==r||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,r):e.removeAttribute(t))}}function M(e){this.l[e.type+!1](i.event?i.event(e):e)}function T(e){this.l[e.type+!0](i.event?i.event(e):e)}function C(e,t,r,n,o,a,c,u,s){var l,f,p,d,h,v,b,g,m,w,_,j=t.type;if(void 0!==t.constructor)return null;null!=r.__h&&(s=r.__h,u=t.__e=r.__e,t.__h=null,a=[u]),(l=i.__b)&&l(t);try{e:if("function"==typeof j){if(g=t.props,m=(l=j.contextType)&&n[l.__c],w=l?m?m.props.value:l.__:n,r.__c?b=(f=t.__c=r.__c).__=f.__E:("prototype"in j&&j.prototype.render?t.__c=f=new j(g,w):(t.__c=f=new x(g,w),f.constructor=j,f.render=B),m&&m.sub(f),f.props=g,f.state||(f.state={}),f.context=w,f.__n=n,p=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=j.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=y({},f.__s)),y(f.__s,j.getDerivedStateFromProps(g,f.__s))),d=f.props,h=f.state,p)null==j.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==j.getDerivedStateFromProps&&g!==d&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(g,w),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(g,f.__s,w)||t.__v===r.__v){f.props=g,f.state=f.__s,t.__v!==r.__v&&(f.__d=!1),f.__v=t,t.__e=r.__e,t.__k=r.__k,t.__k.forEach((function(e){e&&(e.__=t)})),f.__h.length&&c.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(g,f.__s,w),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(d,h,v)}))}f.context=w,f.props=g,f.state=f.__s,(l=i.__r)&&l(t),f.__d=!1,f.__v=t,f.__P=e,l=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(n=y(y({},n),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(v=f.getSnapshotBeforeUpdate(d,h)),_=null!=l&&l.type===O&&null==l.key?l.props.children:l,S(e,Array.isArray(_)?_:[_],t,r,n,o,a,c,u,s),f.base=t.__e,t.__h=null,f.__h.length&&c.push(f),b&&(f.__E=f.__=null),f.__e=!1}else null==a&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=I(r.__e,t,r,n,o,a,c,s);(l=i.diffed)&&l(t)}catch(e){t.__v=null,(s||null!=a)&&(t.__e=u,t.__h=!!s,a[a.indexOf(u)]=null),i.__e(e,t,r)}}function R(e,t){i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function I(e,t,r,n,i,a,c,u){var s,l,f,d=r.props,h=t.props,y=t.type,b=0;if("svg"===y&&(i=!0),null!=a)for(;b<a.length;b++)if((s=a[b])&&(s===e||(y?s.localName==y:3==s.nodeType))){e=s,a[b]=null;break}if(null==e){if(null===y)return document.createTextNode(h);e=i?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,h.is&&h),a=null,u=!1}if(null===y)d===h||u&&e.data===h||(e.data=h);else{if(a=a&&o.call(e.childNodes),l=(d=r.props||p).dangerouslySetInnerHTML,f=h.dangerouslySetInnerHTML,!u){if(null!=a)for(d={},b=0;b<e.attributes.length;b++)d[e.attributes[b].name]=e.attributes[b].value;(f||l)&&(f&&(l&&f.__html==l.__html||f.__html===e.innerHTML)||(e.innerHTML=f&&f.__html||""))}if(function(e,t,r,n,o){var i;for(i in r)"children"===i||"key"===i||i in t||D(e,i,null,r[i],n);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||r[i]===t[i]||D(e,i,t[i],r[i],n)}(e,h,d,i,u),f)t.__k=[];else if(b=t.props.children,S(e,Array.isArray(b)?b:[b],t,r,n,i&&"foreignObject"!==y,a,c,a?a[0]:r.__k&&w(r,0),u),null!=a)for(b=a.length;b--;)null!=a[b]&&v(a[b]);u||("value"in h&&void 0!==(b=h.value)&&(b!==e.value||"progress"===y&&!b)&&D(e,"value",b,d.value,!1),"checked"in h&&void 0!==(b=h.checked)&&b!==e.checked&&D(e,"checked",b,d.checked,!1))}return e}function L(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){i.__e(e,r)}}function z(e,t,r){var n,o;if(i.unmount&&i.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||L(n,null,t)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){i.__e(e,t)}n.base=n.__P=null}if(n=e.__k)for(o=0;o<n.length;o++)n[o]&&z(n[o],t,"function"!=typeof e.type);r||null==e.__e||v(e.__e),e.__e=e.__d=void 0}function B(e,t,r){return this.constructor(e,r)}function G(e,t,r){var n,a,c;i.__&&i.__(e,t),a=(n="function"==typeof r)?null:r&&r.__k||t.__k,c=[],C(t,e=(!n&&r||t).__k=b(O,null,[e]),a||p,p,void 0!==t.ownerSVGElement,!n&&r?[r]:a?null:t.firstChild?o.call(t.childNodes):null,c,!n&&r?r:a?a.__e:t.firstChild,n),R(c,e)}function F(e,t){G(e,t,F)}function U(e,t,r){var n,i,a,c=y({},e.props);for(a in t)"key"==a?n=t[a]:"ref"==a?i=t[a]:c[a]=t[a];return arguments.length>2&&(c.children=arguments.length>3?o.call(arguments,2):r),g(e.type,c,n||e.key,i||e.ref,null)}o=d.slice,i={__e:function(e,t){for(var r,n,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((n=r.constructor)&&null!=n.getDerivedStateFromError&&(r.setState(n.getDerivedStateFromError(e)),o=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e),o=r.__d),o)return r.__E=r}catch(t){e=t}throw e}},a=0,x.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=y({},this.state),"function"==typeof e&&(e=e(y({},r),this.props)),e&&y(r,e),null!=e&&this.__v&&(t&&this.__h.push(t),j(this))},x.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),j(this))},x.prototype.render=O,c=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,E.__r=0,l=0;var X,H,Y,V=0,W=[],K=i.__b,Z=i.__r,q=i.diffed,Q=i.__c,J=i.unmount;function $(e,t){i.__h&&i.__h(H,e,V||t),V=0;var r=H.__H||(H.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function ee(e){return V=1,te(se,e)}function te(e,t,r){var n=$(X++,2);return n.t=e,n.__c||(n.__=[r?r(t):se(void 0,t),function(e){var t=n.t(n.__[0],e);n.__[0]!==t&&(n.__=[t,n.__[1]],n.__c.setState({}))}],n.__c=H),n.__}function re(e,t){var r=$(X++,4);!i.__s&&ue(r.__H,t)&&(r.__=e,r.__H=t,H.__h.push(r))}function ne(e,t){var r=$(X++,7);return ue(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function oe(){W.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(ae),e.__H.__h.forEach(ce),e.__H.__h=[]}catch(t){e.__H.__h=[],i.__e(t,e.__v)}})),W=[]}i.__b=function(e){H=null,K&&K(e)},i.__r=function(e){Z&&Z(e),X=0;var t=(H=e.__c).__H;t&&(t.__h.forEach(ae),t.__h.forEach(ce),t.__h=[])},i.diffed=function(e){q&&q(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==W.push(t)&&Y===i.requestAnimationFrame||((Y=i.requestAnimationFrame)||function(e){var t,r=function(){clearTimeout(n),ie&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);ie&&(t=requestAnimationFrame(r))})(oe)),H=void 0},i.__c=function(e,t){t.some((function(e){try{e.__h.forEach(ae),e.__h=e.__h.filter((function(e){return!e.__||ce(e)}))}catch(r){t.some((function(e){e.__h&&(e.__h=[])})),t=[],i.__e(r,e.__v)}})),Q&&Q(e,t)},i.unmount=function(e){J&&J(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(ae)}catch(e){i.__e(e,t.__v)}};var ie="function"==typeof requestAnimationFrame;function ae(e){var t=H;"function"==typeof e.__c&&e.__c(),H=t}function ce(e){var t=H;e.__c=e.__(),H=t}function ue(e,t){return!e||e.length!==t.length||t.some((function(t,r){return t!==e[r]}))}function se(e,t){return"function"==typeof t?t(e):t}function le(e,t){for(var r in t)e[r]=t[r];return e}function fe(e,t){for(var r in e)if("__source"!==r&&!(r in t))return!0;for(var n in t)if("__source"!==n&&e[n]!==t[n])return!0;return!1}function pe(e){this.props=e}(pe.prototype=new x).isPureReactComponent=!0,pe.prototype.shouldComponentUpdate=function(e,t){return fe(this.props,e)||fe(this.state,t)};var de=i.__b;i.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),de&&de(e)};var he="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function ye(e){function t(t,r){var n=le({},t);return delete n.ref,e(n,(r=t.ref||r)&&("object"!=typeof r||"current"in r)?r:null)}return t.$$typeof=he,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var ve=function(e,t){return null==e?null:A(A(e).map(t))},be={map:ve,forEach:ve,count:function(e){return e?A(e).length:0},only:function(e){var t=A(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:A},ge=i.__e;i.__e=function(e,t,r){if(e.then)for(var n,o=t;o=o.__;)if((n=o.__c)&&n.__c)return null==t.__e&&(t.__e=r.__e,t.__k=r.__k),n.__c(e,t);ge(e,t,r)};var me=i.unmount;function Oe(){this.__u=0,this.t=null,this.__b=null}function xe(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function we(){this.u=null,this.o=null}i.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),me&&me(e)},(Oe.prototype=new x).__c=function(e,t){var r=t.__c,n=this;null==n.t&&(n.t=[]),n.t.push(r);var o=xe(n.__v),i=!1,a=function(){i||(i=!0,r.__R=null,o?o(c):c())};r.__R=a;var c=function(){if(!--n.__u){if(n.state.__e){var e=n.state.__e;n.__v.__k[0]=function e(t,r,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,r,n)})),t.__c&&t.__c.__P===r&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}(e,e.__c.__P,e.__c.__O)}var t;for(n.setState({__e:n.__b=null});t=n.t.pop();)t.forceUpdate()}},u=!0===t.__h;n.__u++||u||n.setState({__e:n.__b=n.__v.__k[0]}),e.then(a,a)},Oe.prototype.componentWillUnmount=function(){this.t=[]},Oe.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,r,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=le({},t)).__c&&(t.__c.__P===n&&(t.__c.__P=r),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,r,n)}))),t}(this.__b,r,n.__O=n.__P)}this.__b=null}var o=t.__e&&b(O,null,e.fallback);return o&&(o.__h=null),[b(O,null,t.__e?null:e.children),o]};var _e=function(e,t,r){if(++r[1]===r[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(r=e.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.u=r=r[2]}};function je(e){return this.getChildContext=function(){return e.context},e.children}function Ee(e){var t=this,r=e.i;t.componentWillUnmount=function(){G(null,t.l),t.l=null,t.i=null},t.i&&t.i!==r&&t.componentWillUnmount(),e.__v?(t.l||(t.i=r,t.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,r){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),G(b(je,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}(we.prototype=new x).__e=function(e){var t=this,r=xe(t.__v),n=t.o.get(e);return n[0]++,function(o){var i=function(){t.props.revealOrder?(n.push(o),_e(t,e,n)):o()};r?r(i):i()}},we.prototype.render=function(e){this.u=null,this.o=new Map;var t=A(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var r=t.length;r--;)this.o.set(t[r],this.u=[1,0,this.u]);return e.children},we.prototype.componentDidUpdate=we.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,r){_e(e,r,t)}))};var Se="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Pe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ae=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};x.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(x.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var ke=i.event;function Ne(){}function De(){return this.cancelBubble}function Me(){return this.defaultPrevented}i.event=function(e){return ke&&(e=ke(e)),e.persist=Ne,e.isPropagationStopped=De,e.isDefaultPrevented=Me,e.nativeEvent=e};var Te,Ce={configurable:!0,get:function(){return this.class}},Re=i.vnode;i.vnode=function(e){var t=e.type,r=e.props,n=r;if("string"==typeof t){for(var o in n={},r){var i=r[o];"value"===o&&"defaultValue"in r&&null==i||("defaultValue"===o&&"value"in r&&null==r.value?o="value":"download"===o&&!0===i?i="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+t)&&!Ae(r.type)?o="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():Pe.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===i&&(i=void 0),n[o]=i)}"select"==t&&n.multiple&&Array.isArray(n.value)&&(n.value=A(r.children).forEach((function(e){e.props.selected=-1!=n.value.indexOf(e.props.value)}))),"select"==t&&null!=n.defaultValue&&(n.value=A(r.children).forEach((function(e){e.props.selected=n.multiple?-1!=n.defaultValue.indexOf(e.props.value):n.defaultValue==e.props.value}))),e.props=n}t&&r.class!=r.className&&(Ce.enumerable="className"in r,null!=r.className&&(n.class=r.className),Object.defineProperty(n,"className",Ce)),e.$$typeof=Se,Re&&Re(e)};var Ie=i.__r;function Le(e){return!!e&&e.$$typeof===Se}function ze(e){return e&&(e.base||1===e.nodeType&&e)||null}i.__r=function(e){Ie&&Ie(e),Te=e.__c};var Be=function(e,t){return e(t)},Ge={useState:ee,useReducer:te,useEffect:function(e,t){var r=$(X++,3);!i.__s&&ue(r.__H,t)&&(r.__=e,r.__H=t,H.__H.__h.push(r))},useLayoutEffect:re,useRef:function(e){return V=5,ne((function(){return{current:e}}),[])},useImperativeHandle:function(e,t,r){V=6,re((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==r?r:r.concat(e))},useMemo:ne,useCallback:function(e,t){return V=8,ne((function(){return e}),t)},useContext:function(e){var t=H.context[e.__c],r=$(X++,9);return r.c=e,t?(null==r.__&&(r.__=!0,t.sub(H)),t.props.value):e.__},useDebugValue:function(e,t){i.useDebugValue&&i.useDebugValue(t?t(e):e)},version:"17.0.2",Children:be,render:function(e,t,r){return null==t.__k&&(t.textContent=""),G(e,t),"function"==typeof r&&r(),e?e.__c:null},hydrate:function(e,t,r){return F(e,t),"function"==typeof r&&r(),e?e.__c:null},unmountComponentAtNode:function(e){return!!e.__k&&(G(null,e),!0)},createPortal:function(e,t){return b(Ee,{__v:e,i:t})},createElement:b,createContext:function(e,t){var r={__c:t="__cC"+l++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,n;return this.getChildContext||(r=[],(n={})[t]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&r.some(j)},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return r.Provider.__=r.Consumer.contextType=r},createFactory:function(e){return b.bind(null,e)},cloneElement:function(e){return Le(e)?U.apply(null,arguments):e},createRef:m,Fragment:O,isValidElement:Le,findDOMNode:ze,Component:x,PureComponent:pe,memo:function(e,t){function r(e){var r=this.props.ref,n=r==e.ref;return!n&&r&&(r.call?r(null):r.current=null),t?!t(this.props,e)||!n:fe(this.props,e)}function n(t){return this.shouldComponentUpdate=r,b(e,t)}return n.displayName="Memo("+(e.displayName||e.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n},forwardRef:ye,flushSync:function(e,t){return e(t)},unstable_batchedUpdates:Be,StrictMode:O,Suspense:Oe,SuspenseList:we,lazy:function(e){var t,r,n;function o(o){if(t||(t=e()).then((function(e){r=e.default||e}),(function(e){n=e})),n)throw n;if(!r)throw t;return b(r,o)}return o.displayName="Lazy",o.__f=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:{current:{readContext:function(e){return Te.__n[e.__c].props.value}}}}};function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function He(e,t,r){return t&&Xe(e.prototype,t),r&&Xe(e,r),e}function Ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qe(e,t){return e(t={exports:{}},t.exports),t.exports}var Qe,Je=qe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,s=r?Symbol.for("react.context"):60110,l=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case l:case f:case i:case c:case a:return e;default:switch(e=e&&e.$$typeof){case s:case p:case u:return e;default:return t}}case o:return t}}}function b(e){return v(e)===f}t.typeOf=v,t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=s,t.ContextProvider=u,t.Element=n,t.ForwardRef=p,t.Fragment=i,t.Profiler=c,t.Portal=o,t.StrictMode=a,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===f||e===c||e===a||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===p)},t.isAsyncMode=function(e){return b(e)||v(e)===l},t.isConcurrentMode=b,t.isContextConsumer=function(e){return v(e)===s},t.isContextProvider=function(e){return v(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return v(e)===p},t.isFragment=function(e){return v(e)===i},t.isProfiler=function(e){return v(e)===c},t.isPortal=function(e){return v(e)===o},t.isStrictMode=function(e){return v(e)===a}}));(Qe=Je)&&Qe.__esModule&&Object.prototype.hasOwnProperty.call(Qe,"default")&&Qe.default,Je.typeOf,Je.AsyncMode,Je.ConcurrentMode,Je.ContextConsumer,Je.ContextProvider,Je.Element,Je.ForwardRef,Je.Fragment,Je.Profiler,Je.Portal,Je.StrictMode,Je.isValidElementType,Je.isAsyncMode,Je.isConcurrentMode,Je.isContextConsumer,Je.isContextProvider,Je.isElement,Je.isForwardRef,Je.isFragment,Je.isProfiler,Je.isPortal,Je.isStrictMode;var $e=qe((function(e){e.exports=Je})),et={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},tt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},rt={};rt[$e.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var nt=Object.defineProperty,ot=Object.getOwnPropertyNames,it=Object.getOwnPropertySymbols,at=Object.getOwnPropertyDescriptor,ct=Object.getPrototypeOf,ut=Object.prototype,st=function e(t,r,n){if("string"!=typeof r){if(ut){var o=ct(r);o&&o!==ut&&e(t,o,n)}var i=ot(r);it&&(i=i.concat(it(r)));for(var a=rt[t.$$typeof]||et,c=rt[r.$$typeof]||et,u=0;u<i.length;++u){var s=i[u];if(!(tt[s]||n&&n[s]||c&&c[s]||a&&a[s])){var l=at(r,s);try{nt(t,s,l)}catch(e){}}}return t}return t},lt=function(){function e(){Ue(this,e),this.listeners=[]}return He(e,[{key:"on",value:function(e){var t=this;return this.listeners.push(e),function(){var r=t.listeners.indexOf(e);-1!==r&&t.listeners.splice(r,1)}}},{key:"emit",value:function(e){this.listeners.forEach((function(t){return t(e)}))}}]),e}();function ft(e){function t(t,r,n,o,i,a){for(var c=arguments.length,u=new Array(c>6?c-6:0),s=6;s<c;s++)u[s-6]=arguments[s];return Object(f.I)((function(){if(o=o||"<<anonymous>>",a=a||n,null==r[n]){if(t){var c=null===r[n]?"null":"undefined";return new Error("The "+i+" `"+a+"` is marked as required in `"+o+"`, but its value is `"+c+"`.")}return null}return e.apply(void 0,[r,n,o,i,a].concat(u))}))}var r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r}function pt(e){var t=Fe(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function dt(e,t){return ft((function(r,n,o,i,a){return Object(f.I)((function(){if(e&&pt(r[n])===t.toLowerCase())return null;var i;switch(t){case"Array":i=f.w;break;case"Object":i=f.y;break;case"Map":i=f.x;break;default:throw new Error("Unexpected mobxType: ".concat(t))}var c=r[n];if(!i(c)){var u=function(e){var t=pt(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(c),s=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+a+"` of type `"+u+"` supplied to `"+o+"`, expected `mobx.Observable"+t+"`"+s+".")}return null}))}))}function ht(e,t){return ft((function(r,n,o,i,a){for(var c=arguments.length,u=new Array(c>5?c-5:0),s=5;s<c;s++)u[s-5]=arguments[s];return Object(f.I)((function(){if("function"!=typeof t)return new Error("Property `"+a+"` of component `"+o+"` has invalid PropType notation.");var c=dt(e,"Array")(r,n,o);if(c instanceof Error)return c;for(var s=r[n],l=0;l<s.length;l++)if((c=t.apply(void 0,[s,l,o,i,a+"["+l+"]"].concat(u)))instanceof Error)return c;return null}))}))}dt(!1,"Array"),ht.bind(null,!1),dt(!1,"Map"),dt(!1,"Object"),dt(!0,"Array"),ht.bind(null,!0);var yt=dt(!0,"Object"),vt=0,bt={};function gt(e){return bt[e]||(bt[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react ".concat(e," (").concat(vt,")");return vt++,t}(e)),bt[e]}var mt=gt("patchMixins"),Ot=gt("patchedDefinition");function xt(e,t){var r=e[mt]=e[mt]||{},n=r[t]=r[t]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function wt(e,t){for(var r=this,n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];t.locks++;try{var a;return null!=e&&(a=e.apply(this,o)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(r,o)}))}}function _t(e,t){return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];wt.call.apply(wt,[this,e,t].concat(n))}}function jt(e,t){for(var r=xt(e,t),n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];for(var a=0;a<o.length;a++){var c=o[a];r.methods.indexOf(c)<0&&r.methods.push(c)}var u=Object.getOwnPropertyDescriptor(e,t);if(!u||!u[Ot]){var s=e[t],l=Et(e,t,u?u.enumerable:void 0,r,s);Object.defineProperty(e,t,l)}}function Et(e,t,r,n,o){var i,a=_t(o,n);return Ye(i={},Ot,!0),Ye(i,"get",(function(){return a})),Ye(i,"set",(function(o){if(this===e)a=_t(o,n);else{var i=Et(this,t,r,n,o);Object.defineProperty(this,t,i)}})),Ye(i,"configurable",!0),Ye(i,"enumerable",r),i}var St={mobxStores:yt};Object.seal(St);var Pt={contextTypes:{get:function(){return St},set:function(e){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function At(e,t,r){var n="inject-"+(t.displayName||t.name||t.constructor&&t.constructor.name||"Unknown");r&&(n+="-with-"+r);var o=function(r){function n(){var e,t;Ue(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=Ze(this,(e=We(n)).call.apply(e,[this].concat(o)))).storeRef=function(e){t.wrappedInstance=e},t}return Ve(n,r),He(n,[{key:"render",value:function(){var r={};for(var n in this.props)this.props.hasOwnProperty(n)&&(r[n]=this.props[n]);var o=e(this.context.mobxStores||{},r,this.context)||{};for(var i in o)r[i]=o[i];return function(e){return!(e.prototype&&e.prototype.render)}(t)||(r.ref=this.storeRef),b(t,r)}}]),n}(x);return o.displayName=n,st(o,t),o.wrappedComponent=t,Object.defineProperties(o,Pt),o}function kt(e){return function(t,r){return e.forEach((function(e){if(!(e in r)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");r[e]=t[e]}})),r}}function Nt(){var e;if("function"==typeof arguments[0])return e=arguments[0],function(t){var r=At(e,t);return r.isMobxInjector=!1,(r=qt(r)).isMobxInjector=!0,r};for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e=kt(t),function(r){return At(e,r,t.join("-"))}}var Dt=f.a||"$mobx",Mt=gt("isUnmounted"),Tt=!1,Ct=!1,Rt=!1,It="undefined"!=typeof WeakMap?new WeakMap:void 0,Lt=new lt,zt=gt("skipRender"),Bt=gt("isForcingUpdate"),Gt=ye((function(e,t){})).$$typeof;function Ft(e,t,r){Object.hasOwnProperty.call(e,t)?e[t]=r:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:r})}function Ut(e){if(ze)try{return ze(e)}catch(e){return null}return null}function Xt(e){var t=Ut(e);t&&It&&It.set(t,e),Lt.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}var Ht=new lt;function Yt(e,t){if(Vt(e,t))return!0;if("object"!==Fe(e)||null===e||"object"!==Fe(t)||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!hasOwnProperty.call(t,r[o])||!Vt(e[r[o]],t[r[o]]))return!1;return!0}function Vt(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Wt(e){var t=this;if(!0===Ct)return e.call(this);function r(){var e=this;a=!1;var t=void 0,r=void 0;if(c.track((function(){Tt&&(e.__$mobRenderStart=Date.now());try{r=Object(f.d)(!1,i)}catch(e){t=e}Tt&&(e.__$mobRenderEnd=Date.now())})),t)throw Ht.emit(t),t;return r}var n=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",o=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;Ft(this,zt,!1),Ft(this,Bt,!1);var i=e.bind(this),a=!1,c=new f.c("".concat(n,"#").concat(o,".render()"),(function(){if(!a&&(a=!0,"function"==typeof t.componentWillReact&&t.componentWillReact(),!0!==t[Mt])){var e=!0;try{Ft(t,Bt,!0),t[zt]||x.prototype.forceUpdate.call(t),e=!1}finally{Ft(t,Bt,!1),e&&c.dispose()}}}));return c.reactComponent=this,r[Dt]=c,this.render=r,r.call(this)}var Kt={componentWillUnmount:function(){if(!0!==Ct&&(this.render[Dt]&&this.render[Dt].dispose(),this[Mt]=!0,Tt)){var e=Ut(this);e&&It&&It.delete(e),Lt.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){Tt&&Xt(this)},componentDidUpdate:function(){Tt&&Xt(this)},shouldComponentUpdate:function(e,t){return Ct&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!Yt(this.props,e)}};function Zt(e,t){var r=gt("reactProp_".concat(t,"_valueHolder")),n=gt("reactProp_".concat(t,"_atomHolder"));function o(){return this[n]||Ft(this,n,Object(f.m)("reactive "+t)),this[n]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return o.call(this).reportObserved(),this[r]},set:function(e){this[Bt]||Yt(this[r],e)?Ft(this,r,e):(Ft(this,r,e),Ft(this,zt,!0),o.call(this).reportChanged(),Ft(this,zt,!1))}})}function qt(e,t){if("string"==typeof e)throw new Error("Store names should be provided as array");if(Array.isArray(e))return Rt||(Rt=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),t?Nt.apply(null,e)(qt(t)):function(t){return qt(e,t)};var r=e;if(!0===r.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),r.__proto__===pe&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),Gt&&r.$$typeof===Gt){var n=r.render;if("function"!=typeof n)throw new Error("render property of ForwardRef was not a function");return ye((function(){var e=arguments;return Ge.createElement(Qt,null,(function(){return n.apply(void 0,e)}))}))}if(!("function"!=typeof r||r.prototype&&r.prototype.render||r.isReactClass||x.isPrototypeOf(r))){var o,i,a=qt((i=o=function(e){function t(){return Ue(this,t),Ze(this,We(t).apply(this,arguments))}return Ve(t,e),He(t,[{key:"render",value:function(){return r.call(this,this.props,this.context)}}]),t}(x),o.displayName=r.displayName||r.name,o.contextTypes=r.contextTypes,o.propTypes=r.propTypes,o.defaultProps=r.defaultProps,i));return st(a,r),a}if(!r)throw new Error("Please pass a valid component to 'observer'");var c=r.prototype||r;!function(e){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach((function(t){!function(e,t){jt(e,t,Kt[t])}(e,t)})),e.shouldComponentUpdate?e.shouldComponentUpdate!==Kt.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):e.shouldComponentUpdate=Kt.shouldComponentUpdate}(c),r.isMobXReactObserver=!0,Zt(c,"props"),Zt(c,"state");var u=c.render;return c.render=function(){return Wt.call(this,u)},r}var Qt=qt((function(e){var t=e.children,r=e.inject,n=e.render,o=t||n;if(void 0===o)return null;if(!r)return o();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var i=Nt(r)(o);return Ge.createElement(i,null)}));Qt.displayName="Observer";var Jt=function(e,t,r,n,o){var i="children"===t?"render":"children";return"function"==typeof e[t]&&"function"==typeof e[i]?new Error("Invalid prop,do not use children and render in the same time in`"+r):"function"!=typeof e[t]&&"function"!=typeof e[i]?new Error("Invalid prop `"+o+"` of type `"+Fe(e[t])+"` supplied to `"+r+"`, expected `function`."):void 0};function $t(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function er(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}.bind(this))}function tr(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}Qt.propTypes={render:Jt,children:Jt},$t.__suppressDeprecationWarning=!0,er.__suppressDeprecationWarning=!0,tr.__suppressDeprecationWarning=!0;var rr={children:!0,key:!0,ref:!0},nr=function(e){function t(e,r){var n;return Ue(this,t),(n=Ze(this,We(t).call(this,e,r))).state={},or(e,n.state),n}return Ve(t,e),He(t,[{key:"render",value:function(){return be.only(this.props.children)}},{key:"getChildContext",value:function(){var e={};return or(this.context.mobxStores,e),or(this.props,e),{mobxStores:e}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e)return null;if(!t)return e;if(Object.keys(e).filter(ir).length!==Object.keys(t).filter(ir).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var r in e)ir(r)&&t[r]!==e[r]&&console.warn("MobX Provider: Provided store '"+r+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return e}}]),t}(x);function or(e,t){if(e)for(var r in e)ir(r)&&(t[r]=e[r])}function ir(e){return!rr[e]&&"suppressChangedStoreWarning"!==e}if(nr.contextTypes={mobxStores:yt},nr.childContextTypes={mobxStores:yt.isRequired},function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,n=null,o=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?n="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(n="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==r||null!==n||null!==o){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=$t,t.componentWillReceiveProps=er),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=tr;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;c.call(this,e,t,n)}}}(nr),gt("disposeOnUnmount"),!x)throw new Error("mobx-react requires React to be available");if(!f.F)throw new Error("mobx-react requires mobx to be available");if(Object(f.l)({reactionScheduler:Be}),"object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":Fe(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var ar={spy:f.F,extras:{getDebugName:f.r}},cr={renderReporter:Lt,componentByNodeRegistry:It,componentByNodeRegistery:It,trackComponents:function(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");Tt||(Tt=!0)}};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(cr,ar)}r(2),r(75),r(3),r(5),r(4),r(6),r(23),r(34),r(9),r(1),r(15),r(10),r(16),r(7),r(8),r(18),r(24),r(156),r(161),r(78),r(129),r(130);var ur=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o},sr=function(){this.__data__=[],this.size=0},lr=function(e,t){return e===t||e!=e&&t!=t},fr=function(e,t){for(var r=e.length;r--;)if(lr(e[r][0],t))return r;return-1},pr=Array.prototype.splice,dr=function(e){var t=this.__data__,r=fr(t,e);return!(r<0)&&(r==t.length-1?t.pop():pr.call(t,r,1),--this.size,!0)},hr=function(e){var t=this.__data__,r=fr(t,e);return r<0?void 0:t[r][1]},yr=function(e){return fr(this.__data__,e)>-1},vr=function(e,t){var r=this.__data__,n=fr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function br(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}br.prototype.clear=sr,br.prototype.delete=dr,br.prototype.get=hr,br.prototype.has=yr,br.prototype.set=vr;var gr,mr=br,Or=function(){this.__data__=new mr,this.size=0},xr=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},wr=function(e){return this.__data__.get(e)},_r=function(e){return this.__data__.has(e)},jr=r(20),Er=jr.a.Symbol,Sr=Object.prototype,Pr=Sr.hasOwnProperty,Ar=Sr.toString,kr=Er?Er.toStringTag:void 0,Nr=function(e){var t=Pr.call(e,kr),r=e[kr];try{e[kr]=void 0;var n=!0}catch(e){}var o=Ar.call(e);return n&&(t?e[kr]=r:delete e[kr]),o},Dr=Object.prototype.toString,Mr=function(e){return Dr.call(e)},Tr=Er?Er.toStringTag:void 0,Cr=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Tr&&Tr in Object(e)?Nr(e):Mr(e)},Rr=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Ir=function(e){if(!Rr(e))return!1;var t=Cr(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Lr=jr.a["__core-js_shared__"],zr=(gr=/[^.]+$/.exec(Lr&&Lr.keys&&Lr.keys.IE_PROTO||""))?"Symbol(src)_1."+gr:"",Br=function(e){return!!zr&&zr in e},Gr=Function.prototype.toString,Fr=function(e){if(null!=e){try{return Gr.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Ur=/^\[object .+?Constructor\]$/,Xr=Function.prototype,Hr=Object.prototype,Yr=Xr.toString,Vr=Hr.hasOwnProperty,Wr=RegExp("^"+Yr.call(Vr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kr=function(e){return!(!Rr(e)||Br(e))&&(Ir(e)?Wr:Ur).test(Fr(e))},Zr=function(e,t){return null==e?void 0:e[t]},qr=function(e,t){var r=Zr(e,t);return Kr(r)?r:void 0},Qr=qr(jr.a,"Map"),Jr=qr(Object,"create"),$r=function(){this.__data__=Jr?Jr(null):{},this.size=0},en=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},tn=Object.prototype.hasOwnProperty,rn=function(e){var t=this.__data__;if(Jr){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return tn.call(t,e)?t[e]:void 0},nn=Object.prototype.hasOwnProperty,on=function(e){var t=this.__data__;return Jr?void 0!==t[e]:nn.call(t,e)},an=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Jr&&void 0===t?"__lodash_hash_undefined__":t,this};function cn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}cn.prototype.clear=$r,cn.prototype.delete=en,cn.prototype.get=rn,cn.prototype.has=on,cn.prototype.set=an;var un=cn,sn=function(){this.size=0,this.__data__={hash:new un,map:new(Qr||mr),string:new un}},ln=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},fn=function(e,t){var r=e.__data__;return ln(t)?r["string"==typeof t?"string":"hash"]:r.map},pn=function(e){var t=fn(this,e).delete(e);return this.size-=t?1:0,t},dn=function(e){return fn(this,e).get(e)},hn=function(e){return fn(this,e).has(e)},yn=function(e,t){var r=fn(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function vn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vn.prototype.clear=sn,vn.prototype.delete=pn,vn.prototype.get=dn,vn.prototype.has=hn,vn.prototype.set=yn;var bn=vn,gn=function(e,t){var r=this.__data__;if(r instanceof mr){var n=r.__data__;if(!Qr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new bn(n)}return r.set(e,t),this.size=r.size,this};function mn(e){var t=this.__data__=new mr(e);this.size=t.size}mn.prototype.clear=Or,mn.prototype.delete=xr,mn.prototype.get=wr,mn.prototype.has=_r,mn.prototype.set=gn;var On=mn,xn=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},wn=function(e){return this.__data__.has(e)};function _n(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new bn;++t<r;)this.add(e[t])}_n.prototype.add=_n.prototype.push=xn,_n.prototype.has=wn;var jn=_n,En=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},Sn=function(e,t){return e.has(t)},Pn=function(e,t,r,n,o,i){var a=1&r,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var s=i.get(e),l=i.get(t);if(s&&l)return s==t&&l==e;var f=-1,p=!0,d=2&r?new jn:void 0;for(i.set(e,t),i.set(t,e);++f<c;){var h=e[f],y=t[f];if(n)var v=a?n(y,h,f,t,e,i):n(h,y,f,e,t,i);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!En(t,(function(e,t){if(!Sn(d,t)&&(h===e||o(h,e,r,n,i)))return d.push(t)}))){p=!1;break}}else if(h!==y&&!o(h,y,r,n,i)){p=!1;break}}return i.delete(e),i.delete(t),p},An=jr.a.Uint8Array,kn=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r},Nn=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},Dn=Er?Er.prototype:void 0,Mn=Dn?Dn.valueOf:void 0,Tn=function(e,t,r,n,o,i,a){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new An(e),new An(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return lr(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=kn;case"[object Set]":var u=1&n;if(c||(c=Nn),e.size!=t.size&&!u)return!1;var s=a.get(e);if(s)return s==t;n|=2,a.set(e,t);var l=Pn(c(e),c(t),n,o,i,a);return a.delete(e),l;case"[object Symbol]":if(Mn)return Mn.call(e)==Mn.call(t)}return!1},Cn=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e},Rn=Array.isArray,In=function(e,t,r){var n=t(e);return Rn(e)?n:Cn(n,r(e))},Ln=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i},zn=function(){return[]},Bn=Object.prototype.propertyIsEnumerable,Gn=Object.getOwnPropertySymbols,Fn=Gn?function(e){return null==e?[]:(e=Object(e),Ln(Gn(e),(function(t){return Bn.call(e,t)})))}:zn,Un=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},Xn=function(e){return null!=e&&"object"==typeof e},Hn=function(e){return Xn(e)&&"[object Arguments]"==Cr(e)},Yn=Object.prototype,Vn=Yn.hasOwnProperty,Wn=Yn.propertyIsEnumerable,Kn=Hn(function(){return arguments}())?Hn:function(e){return Xn(e)&&Vn.call(e,"callee")&&!Wn.call(e,"callee")},Zn=r(47),qn=/^(?:0|[1-9]\d*)$/,Qn=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&qn.test(e))&&e>-1&&e%1==0&&e<t},Jn=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},$n={};$n["[object Float32Array]"]=$n["[object Float64Array]"]=$n["[object Int8Array]"]=$n["[object Int16Array]"]=$n["[object Int32Array]"]=$n["[object Uint8Array]"]=$n["[object Uint8ClampedArray]"]=$n["[object Uint16Array]"]=$n["[object Uint32Array]"]=!0,$n["[object Arguments]"]=$n["[object Array]"]=$n["[object ArrayBuffer]"]=$n["[object Boolean]"]=$n["[object DataView]"]=$n["[object Date]"]=$n["[object Error]"]=$n["[object Function]"]=$n["[object Map]"]=$n["[object Number]"]=$n["[object Object]"]=$n["[object RegExp]"]=$n["[object Set]"]=$n["[object String]"]=$n["[object WeakMap]"]=!1;var eo=function(e){return Xn(e)&&Jn(e.length)&&!!$n[Cr(e)]},to=function(e){return function(t){return e(t)}},ro=r(41),no=ro.a&&ro.a.isTypedArray,oo=no?to(no):eo,io=Object.prototype.hasOwnProperty,ao=function(e,t){var r=Rn(e),n=!r&&Kn(e),o=!r&&!n&&Object(Zn.a)(e),i=!r&&!n&&!o&&oo(e),a=r||n||o||i,c=a?Un(e.length,String):[],u=c.length;for(var s in e)!t&&!io.call(e,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Qn(s,u))||c.push(s);return c},co=Object.prototype,uo=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||co)},so=function(e,t){return function(r){return e(t(r))}},lo=so(Object.keys,Object),fo=Object.prototype.hasOwnProperty,po=function(e){if(!uo(e))return lo(e);var t=[];for(var r in Object(e))fo.call(e,r)&&"constructor"!=r&&t.push(r);return t},ho=function(e){return null!=e&&Jn(e.length)&&!Ir(e)},yo=function(e){return ho(e)?ao(e):po(e)},vo=function(e){return In(e,yo,Fn)},bo=Object.prototype.hasOwnProperty,go=function(e,t,r,n,o,i){var a=1&r,c=vo(e),u=c.length;if(u!=vo(t).length&&!a)return!1;for(var s=u;s--;){var l=c[s];if(!(a?l in t:bo.call(t,l)))return!1}var f=i.get(e),p=i.get(t);if(f&&p)return f==t&&p==e;var d=!0;i.set(e,t),i.set(t,e);for(var h=a;++s<u;){var y=e[l=c[s]],v=t[l];if(n)var b=a?n(v,y,l,t,e,i):n(y,v,l,e,t,i);if(!(void 0===b?y===v||o(y,v,r,n,i):b)){d=!1;break}h||(h="constructor"==l)}if(d&&!h){var g=e.constructor,m=t.constructor;g==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m||(d=!1)}return i.delete(e),i.delete(t),d},mo=qr(jr.a,"DataView"),Oo=qr(jr.a,"Promise"),xo=qr(jr.a,"Set"),wo=qr(jr.a,"WeakMap"),_o=Fr(mo),jo=Fr(Qr),Eo=Fr(Oo),So=Fr(xo),Po=Fr(wo),Ao=Cr;(mo&&"[object DataView]"!=Ao(new mo(new ArrayBuffer(1)))||Qr&&"[object Map]"!=Ao(new Qr)||Oo&&"[object Promise]"!=Ao(Oo.resolve())||xo&&"[object Set]"!=Ao(new xo)||wo&&"[object WeakMap]"!=Ao(new wo))&&(Ao=function(e){var t=Cr(e),r="[object Object]"==t?e.constructor:void 0,n=r?Fr(r):"";if(n)switch(n){case _o:return"[object DataView]";case jo:return"[object Map]";case Eo:return"[object Promise]";case So:return"[object Set]";case Po:return"[object WeakMap]"}return t});var ko=Ao,No=Object.prototype.hasOwnProperty,Do=function(e,t,r,n,o,i){var a=Rn(e),c=Rn(t),u=a?"[object Array]":ko(e),s=c?"[object Array]":ko(t),l="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),f="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),p=u==s;if(p&&Object(Zn.a)(e)){if(!Object(Zn.a)(t))return!1;a=!0,l=!1}if(p&&!l)return i||(i=new On),a||oo(e)?Pn(e,t,r,n,o,i):Tn(e,t,u,r,n,o,i);if(!(1&r)){var d=l&&No.call(e,"__wrapped__"),h=f&&No.call(t,"__wrapped__");if(d||h){var y=d?e.value():e,v=h?t.value():t;return i||(i=new On),o(y,v,r,n,i)}}return!!p&&(i||(i=new On),go(e,t,r,n,o,i))},Mo=function e(t,r,n,o,i){return t===r||(null==t||null==r||!Xn(t)&&!Xn(r)?t!=t&&r!=r:Do(t,r,n,o,e,i))},To=function(e,t,r,n){var o=r.length,i=o,a=!n;if(null==e)return!i;for(e=Object(e);o--;){var c=r[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){var u=(c=r[o])[0],s=e[u],l=c[1];if(a&&c[2]){if(void 0===s&&!(u in e))return!1}else{var f=new On;if(n)var p=n(s,l,u,e,t,f);if(!(void 0===p?Mo(l,s,3,n,f):p))return!1}}return!0},Co=function(e){return e==e&&!Rr(e)},Ro=function(e){for(var t=yo(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,Co(o)]}return t},Io=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}},Lo=function(e){var t=Ro(e);return 1==t.length&&t[0][2]?Io(t[0][0],t[0][1]):function(r){return r===e||To(r,e,t)}},zo=function(e){return"symbol"==typeof e||Xn(e)&&"[object Symbol]"==Cr(e)},Bo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Go=/^\w*$/,Fo=function(e,t){if(Rn(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!zo(e))||Go.test(e)||!Bo.test(e)||null!=t&&e in Object(t)};function Uo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(Uo.Cache||bn),r}Uo.Cache=bn;var Xo,Ho,Yo,Vo,Wo,Ko,Zo,qo,Qo,Jo,$o,ei,ti,ri,ni,oi=Uo,ii=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ai=/\\(\\)?/g,ci=function(e){var t=oi(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ii,(function(e,r,n,o){t.push(n?o.replace(ai,"$1"):r||e)})),t})),ui=Er?Er.prototype:void 0,si=ui?ui.toString:void 0,li=function e(t){if("string"==typeof t)return t;if(Rn(t))return ur(t,e)+"";if(zo(t))return si?si.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r},fi=function(e){return null==e?"":li(e)},pi=function(e,t){return Rn(e)?e:Fo(e,t)?[e]:ci(fi(e))},di=function(e){if("string"==typeof e||zo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},hi=function(e,t){for(var r=0,n=(t=pi(t,e)).length;null!=e&&r<n;)e=e[di(t[r++])];return r&&r==n?e:void 0},yi=function(e,t,r){var n=null==e?void 0:hi(e,t);return void 0===n?r:n},vi=function(e,t){return null!=e&&t in Object(e)},bi=function(e,t,r){for(var n=-1,o=(t=pi(t,e)).length,i=!1;++n<o;){var a=di(t[n]);if(!(i=null!=e&&r(e,a)))break;e=e[a]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&Jn(o)&&Qn(a,o)&&(Rn(e)||Kn(e))},gi=function(e,t){return null!=e&&bi(e,t,vi)},mi=function(e,t){return Fo(e)&&Co(t)?Io(di(e),t):function(r){var n=yi(r,e);return void 0===n&&n===t?gi(r,e):Mo(t,n,3)}},Oi=function(e){return e},xi=function(e){return function(t){return null==t?void 0:t[e]}},wi=function(e){return function(t){return hi(t,e)}},_i=function(e){return Fo(e)?xi(di(e)):wi(e)},ji=function(e){return"function"==typeof e?e:null==e?Oi:"object"==typeof e?Rn(e)?mi(e[0],e[1]):Lo(e):_i(e)},Ei=function(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),c=a.length;c--;){var u=a[e?c:++o];if(!1===r(i[u],u,i))break}return t}}(),Si=function(e,t){return function(r,n){if(null==r)return r;if(!ho(r))return e(r,n);for(var o=r.length,i=t?o:-1,a=Object(r);(t?i--:++i<o)&&!1!==n(a[i],i,a););return r}}((function(e,t){return e&&Ei(e,t,yo)})),Pi=function(e,t){var r=-1,n=ho(e)?Array(e.length):[];return Si(e,(function(e,o,i){n[++r]=t(e,o,i)})),n},Ai=function(e,t){return(Rn(e)?ur:Pi)(e,ji(t,3))},ki=function(){try{var e=qr(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ni=function(e,t,r){"__proto__"==t&&ki?ki(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},Di=Object.prototype.hasOwnProperty,Mi=function(e,t,r){var n=e[t];Di.call(e,t)&&lr(n,r)&&(void 0!==r||t in e)||Ni(e,t,r)},Ti=function(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var c=t[i],u=n?n(r[c],e[c],c,r,e):void 0;void 0===u&&(u=e[c]),o?Ni(r,c,u):Mi(r,c,u)}return r},Ci=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},Ri=Math.max,Ii=function(e,t,r){return t=Ri(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=Ri(n.length-t,0),a=Array(i);++o<i;)a[o]=n[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=n[o];return c[t]=r(a),Ci(e,this,c)}},Li=function(e){return function(){return e}},zi=ki?function(e,t){return ki(e,"toString",{configurable:!0,enumerable:!1,value:Li(t),writable:!0})}:Oi,Bi=Date.now,Gi=function(e){var t=0,r=0;return function(){var n=Bi(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(zi),Fi=function(e,t){return Gi(Ii(e,t,Oi),e+"")},Ui=function(e,t,r){if(!Rr(r))return!1;var n=typeof t;return!!("number"==n?ho(r)&&Qn(t,r.length):"string"==n&&t in r)&&lr(r[t],e)},Xi=function(e){return Fi((function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&Ui(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++n<o;){var c=r[n];c&&e(t,c,n,i)}return t}))},Hi=Object.prototype.hasOwnProperty,Yi=Xi((function(e,t){if(uo(t)||ho(t))Ti(t,yo(t),e);else for(var r in t)Hi.call(t,r)&&Mi(e,r,t[r])})),Vi=function(e,t,r,n){if(!Rr(e))return e;for(var o=-1,i=(t=pi(t,e)).length,a=i-1,c=e;null!=c&&++o<i;){var u=di(t[o]),s=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=a){var l=c[u];void 0===(s=n?n(l,u,c):void 0)&&(s=Rr(l)?l:Qn(t[o+1])?[]:{})}Mi(c,u,s),c=c[u]}return e},Wi=function(e,t,r){for(var n=-1,o=t.length,i={};++n<o;){var a=t[n],c=hi(e,a);r(c,a)&&Vi(i,pi(a,e),c)}return i},Ki=function(e,t){return Wi(e,t,(function(t,r){return gi(e,r)}))},Zi=Er?Er.isConcatSpreadable:void 0,qi=function(e){return Rn(e)||Kn(e)||!!(Zi&&e&&e[Zi])},Qi=function e(t,r,n,o,i){var a=-1,c=t.length;for(n||(n=qi),i||(i=[]);++a<c;){var u=t[a];r>0&&n(u)?r>1?e(u,r-1,n,o,i):Cn(i,u):o||(i[i.length]=u)}return i},Ji=function(e){return null!=e&&e.length?Qi(e,1):[]},$i=function(e){return Gi(Ii(e,void 0,Ji),e+"")}((function(e,t){return null==e?{}:Ki(e,t)}));function ea(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ta(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ra(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function na(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var oa,ia,aa,ca,ua,sa,la,fa,pa={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustNodePosition:!1,hideAnchors:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1,metaKeyMultipleSelected:!1},da=["stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustNodePosition","hideAnchors","hoverOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","metaKeyMultipleSelected","extraConf"],ha=(Ho=na((Xo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ea(this,"stopZoomGraph",Ho,this),ea(this,"stopScrollGraph",Yo,this),ea(this,"stopMoveGraph",Vo,this),ea(this,"adjustEdge",Wo,this),ea(this,"adjustNodePosition",Ko,this),ea(this,"hideAnchors",Zo,this),ea(this,"hoverOutline",qo,this),ea(this,"nodeSelectedOutline",Qo,this),ea(this,"edgeSelectedOutline",Jo,this),ea(this,"nodeTextEdit",$o,this),ea(this,"edgeTextEdit",ei,this),ea(this,"nodeTextDraggable",ti,this),ea(this,"edgeTextDraggable",ri,this),ea(this,"metaKeyMultipleSelected",ni,this),ra(this,"extraConf",{}),ra(this,"defaultConfig",{}),Yi(this,this.getConfigDetail(t))}var t,r,n;return t=e,(r=[{key:"updateEditConfig",value:function(e){var t=this.getConfigDetail(e);Yi(this,t)}},{key:"getConfigDetail",value:function(e){var t=e.isSilentMode,r=e.textEdit,n={};if(!1===t&&Yi(n,this.defaultConfig),!0===t){var o=$i(pa,da);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,metaKeyMultipleSelected:this.metaKeyMultipleSelected},Yi(n,o)}!1===r&&Yi(n,{nodeTextEdit:!1,edgeTextEdit:!1});var i=$i(e,da);return Yi(n,i)}},{key:"getConfig",value:function(){return $i(this,da)}}])&&ta(t.prototype,r),n&&ta(t,n),e}()).prototype,"stopZoomGraph",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yo=na(Xo.prototype,"stopScrollGraph",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vo=na(Xo.prototype,"stopMoveGraph",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wo=na(Xo.prototype,"adjustEdge",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ko=na(Xo.prototype,"adjustNodePosition",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zo=na(Xo.prototype,"hideAnchors",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qo=na(Xo.prototype,"hoverOutline",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qo=na(Xo.prototype,"nodeSelectedOutline",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jo=na(Xo.prototype,"edgeSelectedOutline",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$o=na(Xo.prototype,"nodeTextEdit",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ei=na(Xo.prototype,"edgeTextEdit",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ti=na(Xo.prototype,"nodeTextDraggable",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ri=na(Xo.prototype,"edgeTextDraggable",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ni=na(Xo.prototype,"metaKeyMultipleSelected",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),na(Xo.prototype,"updateEditConfig",[f.i],Object.getOwnPropertyDescriptor(Xo.prototype,"updateEditConfig"),Xo.prototype),Xo);function ya(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return va(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?va(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function va(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ba(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ga(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ma(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oa(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var xa,wa,_a,ja,Ea,Sa,Pa=(ia=Oa((oa=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ma(this,"MINI_SCALE_SIZE",.2),ma(this,"MAX_SCALE_SIZE",16),ba(this,"SCALE_X",ia,this),ba(this,"SKEW_Y",aa,this),ba(this,"SKEW_X",ca,this),ba(this,"SCALE_Y",ua,this),ba(this,"TRANSLATE_X",sa,this),ba(this,"TRANSLATE_Y",la,this),ba(this,"ZOOM_SIZE",fa,this)}var t,r,n;return t=e,(r=[{key:"setZoomMiniSize",value:function(e){this.MINI_SCALE_SIZE=e}},{key:"setZoomMaxSize",value:function(e){this.MAX_SCALE_SIZE=e}},{key:"HtmlPointToCanvasPoint",value:function(e){var t=ya(e,2),r=t[0],n=t[1];return[(r-this.TRANSLATE_X)/this.SCALE_X,(n-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(e){var t=ya(e,2),r=t[0],n=t[1];return[r*this.SCALE_X+this.TRANSLATE_X,n*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(e,t,r){var n=ya(e,2),o=n[0],i=n[1];return[o+t/this.SCALE_X,i+r/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(e,t){return[e/this.SCALE_X,t/this.SCALE_Y]}},{key:"zoom",value:function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.ZOOM_SIZE:-this.ZOOM_SIZE;return!(t<0&&this.SCALE_X<=this.MINI_SCALE_SIZE||t>0&&this.SCALE_X>=this.MAX_SCALE_SIZE||(this.SCALE_X+=t,this.SCALE_Y+=t,e&&(this.TRANSLATE_X-=t*e[0],this.TRANSLATE_Y-=t*e[1]),0))}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1}},{key:"translate",value:function(e,t){this.TRANSLATE_X+=e,this.TRANSLATE_Y+=t}},{key:"focusOn",value:function(e,t,r,n){var o=ya(this.CanvasPointToHtmlPoint([e,t]),2),i=r/2-o[0],a=n/2-o[1];this.TRANSLATE_X+=i,this.TRANSLATE_Y+=a}}])&&ga(t.prototype,r),n&&ga(t,n),e}()).prototype,"SCALE_X",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),aa=Oa(oa.prototype,"SKEW_Y",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ca=Oa(oa.prototype,"SKEW_X",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ua=Oa(oa.prototype,"SCALE_Y",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),sa=Oa(oa.prototype,"TRANSLATE_X",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),la=Oa(oa.prototype,"TRANSLATE_Y",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fa=Oa(oa.prototype,"ZOOM_SIZE",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.04}}),Oa(oa.prototype,"zoom",[f.i],Object.getOwnPropertyDescriptor(oa.prototype,"zoom"),oa.prototype),Oa(oa.prototype,"resetZoom",[f.i],Object.getOwnPropertyDescriptor(oa.prototype,"resetZoom"),oa.prototype),Oa(oa.prototype,"translate",[f.i],Object.getOwnPropertyDescriptor(oa.prototype,"translate"),oa.prototype),Oa(oa.prototype,"focusOn",[f.i],Object.getOwnPropertyDescriptor(oa.prototype,"focusOn"),oa.prototype),oa);!function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(xa||(xa={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(wa||(wa={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(_a||(_a={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(ja||(ja={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update"}(Ea||(Ea={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(Sa||(Sa={}));var Aa=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},ka=function(e,t){return e&&Ti(t,yo(t),e)},Na=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},Da=Object.prototype.hasOwnProperty,Ma=function(e){if(!Rr(e))return Na(e);var t=uo(e),r=[];for(var n in e)("constructor"!=n||!t&&Da.call(e,n))&&r.push(n);return r},Ta=function(e){return ho(e)?ao(e,!0):Ma(e)},Ca=function(e,t){return e&&Ti(t,Ta(t),e)},Ra=r(136),Ia=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},La=function(e,t){return Ti(e,Fn(e),t)},za=so(Object.getPrototypeOf,Object),Ba=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Cn(t,Fn(e)),e=za(e);return t}:zn,Ga=function(e,t){return Ti(e,Ba(e),t)},Fa=function(e){return In(e,Ta,Ba)},Ua=Object.prototype.hasOwnProperty,Xa=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Ua.call(e,"index")&&(r.index=e.index,r.input=e.input),r},Ha=function(e){var t=new e.constructor(e.byteLength);return new An(t).set(new An(e)),t},Ya=function(e,t){var r=t?Ha(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},Va=/\w*$/,Wa=function(e){var t=new e.constructor(e.source,Va.exec(e));return t.lastIndex=e.lastIndex,t},Ka=Er?Er.prototype:void 0,Za=Ka?Ka.valueOf:void 0,qa=function(e){return Za?Object(Za.call(e)):{}},Qa=function(e,t){var r=t?Ha(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},Ja=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return Ha(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return Ya(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Qa(e,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return Wa(e);case"[object Set]":return new n;case"[object Symbol]":return qa(e)}},$a=Object.create,ec=function(){function e(){}return function(t){if(!Rr(t))return{};if($a)return $a(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),tc=function(e){return"function"!=typeof e.constructor||uo(e)?{}:ec(za(e))},rc=function(e){return Xn(e)&&"[object Map]"==ko(e)},nc=ro.a&&ro.a.isMap,oc=nc?to(nc):rc,ic=function(e){return Xn(e)&&"[object Set]"==ko(e)},ac=ro.a&&ro.a.isSet,cc=ac?to(ac):ic,uc={};uc["[object Arguments]"]=uc["[object Array]"]=uc["[object ArrayBuffer]"]=uc["[object DataView]"]=uc["[object Boolean]"]=uc["[object Date]"]=uc["[object Float32Array]"]=uc["[object Float64Array]"]=uc["[object Int8Array]"]=uc["[object Int16Array]"]=uc["[object Int32Array]"]=uc["[object Map]"]=uc["[object Number]"]=uc["[object Object]"]=uc["[object RegExp]"]=uc["[object Set]"]=uc["[object String]"]=uc["[object Symbol]"]=uc["[object Uint8Array]"]=uc["[object Uint8ClampedArray]"]=uc["[object Uint16Array]"]=uc["[object Uint32Array]"]=!0,uc["[object Error]"]=uc["[object Function]"]=uc["[object WeakMap]"]=!1;var sc=function e(t,r,n,o,i,a){var c,u=1&r,s=2&r,l=4&r;if(n&&(c=i?n(t,o,i,a):n(t)),void 0!==c)return c;if(!Rr(t))return t;var f=Rn(t);if(f){if(c=Xa(t),!u)return Ia(t,c)}else{var p=ko(t),d="[object Function]"==p||"[object GeneratorFunction]"==p;if(Object(Zn.a)(t))return Object(Ra.a)(t,u);if("[object Object]"==p||"[object Arguments]"==p||d&&!i){if(c=s||d?{}:tc(t),!u)return s?Ga(t,Ca(c,t)):La(t,ka(c,t))}else{if(!uc[p])return i?t:{};c=Ja(t,p,u)}}a||(a=new On);var h=a.get(t);if(h)return h;a.set(t,c),cc(t)?t.forEach((function(o){c.add(e(o,r,n,o,t,a))})):oc(t)&&t.forEach((function(o,i){c.set(i,e(o,r,n,i,t,a))}));var y=f?void 0:(l?s?Fa:vo:s?Ta:yo)(t);return Aa(y||t,(function(o,i){y&&(o=t[i=o]),Mi(c,i,e(o,r,n,i,t,a))})),c},lc=function(e){return sc(e,5)};function fc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fc(Object(r),!0).forEach((function(t){dc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hc={fill:"#FFFFFF",stroke:"#000000",strokeWidth:2,fillOpacity:1,strokeOpacity:1,opacity:1,outlineColor:"#000000",outlineStrokeDashArray:"3,3",hoverOutlineColor:"#000000",hoverOutlineStrokeDashArray:"3,3"},yc=pc(pc({},hc),{},{width:100,height:80,radius:0}),vc=pc(pc({},hc),{},{r:50}),bc=pc(pc({},hc),{},{rx:55,ry:45}),gc=pc(pc({},hc),{},{rx:50,ry:50}),mc=pc({},hc),Oc=pc(pc({},hc),{},{stroke:"#000000",strokeWidth:1,r:4}),xc={stroke:"#000000",strokeWidth:2,hoverStroke:"#000000",selectedStroke:"#000000",strokeDashArray:"1,0",outlineColor:"#000000",outlineStrokeDashArray:"3,3"},wc=pc({},xc),_c=pc(pc({},xc),{},{offset:30}),jc=pc(pc({},xc),{},{offset:100,adjustLineColor:"#4169E1",adjustAnchorStroke:"#4169E1",adjustAnchorFill:"#1E90FF",adjustAnchorFillOpacity:.5}),Ec={color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:""},Sc={rect:yc,circle:vc,diamond:gc,ellipse:bc,polygon:mc,anchor:Oc,text:Ec,nodeText:pc(pc({},Ec),{},{autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"}),edgeText:{color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:"",background:{fill:"transparent",height:20,stroke:"transparent",radius:0},hoverBackground:null,autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"},line:wc,polyline:_c,bezier:jc,arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},anchorHover:{fill:"#1E90FF",fillOpacity:.5,stroke:"#4169E1",strokeWidth:1,r:10},snapline:{stroke:"#1E90FF",strokeWidth:1}};function Pc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ac(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pc(Object(r),!0).forEach((function(t){kc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Nc=function(e){var t=lc(Sc);return e&&Object.keys(e).forEach((function(r){t[r]=Ac(Ac({},t[r]),e[r])})),t};function Dc(e,t){return t*Math.round(e/t)||e}function Mc(e,t){return e%t}function Tc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Rc,Ic=function(e,t,r){var n=Tc(e,2),o=n[0],i=n[1],a=Tc(t,2),c=a[0],u=a[1],s=Tc(r,2),l=s[0],f=s[1];return o>c&&o<l&&i>u&&i<f},Lc=(r(33),r(46),r(80),r(60),r(133),r(134),r(61),r(11),r(12),r(13),r(40),new Uint8Array(16));function zc(){if(!Rc&&!(Rc="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Rc(Lc)}for(var Bc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Gc=function(e){return"string"==typeof e&&Bc.test(e)},Fc=[],Uc=0;Uc<256;++Uc)Fc.push((Uc+256).toString(16).substr(1));var Xc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(Fc[e[t+0]]+Fc[e[t+1]]+Fc[e[t+2]]+Fc[e[t+3]]+"-"+Fc[e[t+4]]+Fc[e[t+5]]+"-"+Fc[e[t+6]]+Fc[e[t+7]]+"-"+Fc[e[t+8]]+Fc[e[t+9]]+"-"+Fc[e[t+10]]+Fc[e[t+11]]+Fc[e[t+12]]+Fc[e[t+13]]+Fc[e[t+14]]+Fc[e[t+15]]).toLowerCase();if(!Gc(r))throw TypeError("Stringified UUID is invalid");return r},Hc=function(e,t,r){var n=(e=e||{}).random||(e.rng||zc)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return Xc(n)},Yc=function(){return Hc()},Vc=(r(101),r(175),function(e,t,r){var n=e.x,o=e.y;return(n-t.x)*(n-r.x)<=0&&(o-t.y)*(o-r.y)<=0});function Wc(e){return(Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Kc,Zc,qc,Qc,Jc,$c,eu,tu,ru,nu,ou,iu,au,cu,uu,su,lu,fu,pu,du,hu,yu,vu,bu,gu=function(e){return e.anchors},mu=function(e,t){for(var r,n=t.length-1;n>=0;n--)if(_u(e,t[n])){var o=Ou(e,t[n]);if(o){r={node:t[n],anchorIndex:o.index,anchor:o.anchor};break}}return r},Ou=function(e,t){for(var r,n=gu(t),o=Number.MAX_SAFE_INTEGER,i=0;i<n.length;i++){var a=xu(e.x,e.y,n[i].x,n[i].y);a<o&&(o=a,r={index:i,anchor:{x:n[i].x,y:n[i].y,id:n[i].id}})}return r},xu=function(e,t,r,n){return Math.hypot(e-r,t-n)},wu=function(e,t){var r=!1,n=ju(t);return e.x>=n.minX-0&&e.x<=n.maxX+0&&e.y>=n.minY-0&&e.y<=n.maxY+0&&(r=!0),r},_u=function(e,t){var r=!1,n=ju(t);return e.x>=n.minX-5&&e.x<=n.maxX+5&&e.y>=n.minY-5&&e.y<=n.maxY+5&&(r=!0),r},ju=function(e){var t=e.x,r=e.y,n=e.width,o=e.height;return{minX:t-n/2,minY:r-o/2,maxX:t+n/2,maxY:r+o/2,x:t,y:r,width:n,height:o,centerX:t,centerY:r}},Eu=function(e,t,r){var n,o=function(e){var t=e,r=t.x,n=t.y,o=t.width,i=t.height,a=t.radius;return[{x:r-o/2+a,y:n-i/2+a,r:a},{x:r+o/2-a,y:n-i/2+a,r:a},{x:r-o/2+a,y:n+i/2-a,r:a},{x:r+o/2-a,y:n+i/2-a,r:a}]}(r),i=Number.MAX_SAFE_INTEGER;return o.forEach((function(t){var r=xu(e.x,e.y,t.x,t.y);r<i&&(i=r,n=t)})),Su(e,t,n)},Su=function(e,t,r){var n,o=r,i=o.x,a=o.y,c=o.r;if(t===Sa.HORIZONTAL){var u=i-Math.sqrt(c*c-(e.y-a)*(e.y-a)),s=i+Math.sqrt(c*c-(e.y-a)*(e.y-a));n={x:Math.abs(u-e.x)<Math.abs(s-e.x)?u:s,y:e.y}}else if(t===Sa.VERTICAL){var l=a-Math.sqrt(c*c-(e.x-i)*(e.x-i)),f=a+Math.sqrt(c*c-(e.x-i)*(e.x-i)),p=Math.abs(l-e.y)<Math.abs(f-e.y)?l:f;n={x:e.x,y:p}}return n},Pu=function(e,t){var r=t,n=!1,o=r.x-r.width/2+r.radius,i=r.x+r.width/2-r.radius,a=r.y-r.height/2+r.radius,c=r.y+r.height/2-r.radius,u=r.x,s=r.y,l=r.width,f=r.height;return e.y===s+f/2||e.y===s-f/2?n=e.x>o&&e.x<i:e.x!==u+l/2&&e.x!==u-l/2||(n=e.y>a&&e.y<c),n},Au=function(e,t,r){var n,o=r,i=o.x,a=o.y,c=o.rx,u=o.ry;if(t===Sa.HORIZONTAL){var s=i-Math.sqrt(c*c-(e.y-a)*(e.y-a)*c*c/(u*u)),l=i+Math.sqrt(c*c-(e.y-a)*(e.y-a)*c*c/(u*u));n={x:Math.abs(s-e.x)<Math.abs(l-e.x)?s:l,y:e.y}}else if(t===Sa.VERTICAL){var f=a-Math.sqrt(u*u-(e.x-i)*(e.x-i)*u*u/(c*c)),p=a+Math.sqrt(u*u-(e.x-i)*(e.x-i)*u*u/(c*c)),d=Math.abs(f-e.y)<Math.abs(p-e.y)?f:p;n={x:e.x,y:d}}return n},ku=function(e,t,r){for(var n,o=r.pointsPosition,i=Number.MAX_SAFE_INTEGER,a=[],c=0;c<o.length;c++)a.push({start:o[c],end:o[(c+1)%o.length]});return a.forEach((function(r){var o=r.start,a=r.end,c=o,u=a;o.x>a.x&&(c=a,u=o);var s,l=(u.y-c.y)/(u.x-c.x),f=(c.x*u.y-u.x*c.y)/(c.x-u.x);if(l>Number.MAX_SAFE_INTEGER||f>Number.MAX_SAFE_INTEGER?s={x:e.x,y:e.y}:t===Sa.HORIZONTAL?s={x:(e.y-f)/l,y:e.y}:t===Sa.VERTICAL&&(s={x:e.x,y:l*e.x+f}),Vc(s,o,a)){var p=xu(s.x,s.y,e.x,e.y);p<i&&(i=p,n=s)}})),n},Nu=function(e,t,r,n){var o=e.x,i=e.y;return t.x>e.x?o=e.x+r/2:t.x<e.x&&(o=e.x-r/2),t.y>e.y?i=e.y+n/2:t.y<e.y&&(i=e.y-n/2),{x:o,y:i}},Du=function(e){var t=e.rows,r=e.style,n=e.rowsLength,o=e.className,i=document.createElement("div");i.style.fontSize=r.fontSize,i.style.width=r.width,i.className=o,i.style.lineHeight=r.lineHeight,i.style.padding=r.padding,r.fontFamily&&(i.style.fontFamily=r.fontFamily),n>1?t.forEach((function(e){var t=document.createElement("div");t.textContent=e,i.appendChild(t)})):i.textContent=t,document.body.appendChild(i);var a=i.clientHeight;return document.body.removeChild(i),a},Mu=function(e){var t=e.rows,r=e.rowsLength,n=e.fontSize,o=0;return t&&t.forEach((function(e){var t=ul(e);o=t>o?t:o})),{width:Math.ceil(o/2)*n+n/4,height:r*(n+2)+n/4}},Tu=function(e){return"object"!==Wc(e)?{isAllPass:!!e,msg:e?"":"\u4e0d\u5141\u8bb8\u8fde\u63a5"}:e},Cu=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}};function Ru(e){return(Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Iu(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Lu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zu(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function Bu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fu=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bu(Object(r),!0).forEach((function(t){Gu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({sourceNodeId:"",sourceAnchorId:"",targetNodeId:"",targetAnchorId:"",startPoint:null,endPoint:null,zIndex:0,isSelected:!1,isHovered:!1,text:{value:"",x:0,y:0,draggable:!1,editable:!0},points:"",pointsList:[],strokeOpacity:1},Sc.line),Uu=(Zc=zu((Kc=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Gu(this,"id",Yc()),Gu(this,"BaseType",ja.EDGE),Iu(this,"state",Zc,this),Gu(this,"modelType",_a.EDGE),Gu(this,"additionStateData",void 0),Gu(this,"graphModel",void 0),Gu(this,"menu",void 0),Gu(this,"sourceAnchorId",Fu.sourceAnchorId),Gu(this,"targetAnchorId",Fu.targetAnchorId),Gu(this,"customTextPosition",!1),Iu(this,"text",qc,this),Iu(this,"type",Qc,this),Iu(this,"properties",Jc,this),Iu(this,"sourceNodeId",$c,this),Iu(this,"targetNodeId",eu,this),Iu(this,"startPoint",tu,this),Iu(this,"endPoint",ru,this),Iu(this,"strokeWidth",nu,this),Iu(this,"stroke",ou,this),Iu(this,"strokeDashArray",iu,this),Iu(this,"outlineColor",au,this),Iu(this,"outlineStrokeDashArray",cu,this),Iu(this,"strokeOpacity",uu,this),Iu(this,"zIndex",su,this),Iu(this,"isSelected",lu,this),Iu(this,"isHovered",fu,this),Iu(this,"isHitable",pu,this),Iu(this,"hoverStroke",du,this),Iu(this,"selectedStroke",hu,this),Iu(this,"points",yu,this),Iu(this,"pointsList",vu,this),Iu(this,"draggable",bu,this),this.graphModel=r,this.setStyleFromTheme(n,r),this.initEdgeData(t),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(t)}var t,r,n;return t=e,(r=[{key:"initEdgeData",value:function(e){if(e.properties||(e.properties={}),!e.id){var t=this.graphModel.idGenerator,r=t&&t();r&&(e.id=r);var n=this.createId();n&&(e.id=n)}Yi(this,pl(e))}},{key:"createId",value:function(){return null}},{key:"setAttributes",value:function(){}},{key:"sourceNode",get:function(){var e,t;return null===(e=this.graphModel)||void 0===e||null===(t=e.nodesMap[this.sourceNodeId])||void 0===t?void 0:t.model}},{key:"targetNode",get:function(){var e,t;return null===(e=this.graphModel)||void 0===e||null===(t=e.nodesMap[this.targetNodeId])||void 0===t?void 0:t.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"move",value:function(){}},{key:"getBeginAnchor",value:function(e,t){var r,n;return gu(e).forEach((function(e){var o=dl(e,t);n?o<n&&(n=o,r=e):(n=o,r=e)})),r}},{key:"getEndAnchor",value:function(e){var t,r,n=this;return gu(e).forEach((function(e){var o=dl(e,n.startPoint);r?o<r&&(r=o,t=e):(r=o,t=e)})),t}},{key:"getProperties",value:function(){return Object(f.G)(this.properties)}},{key:"getData",value:function(){var e=this.text,t=e.x,r=e.y,n=e.value,o={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(f.G)(this.properties)};return n&&(o.text={x:t,y:r,value:n}),o}},{key:"setProperty",value:function(e,t){this.properties[e]=Cu(t)}},{key:"setProperties",value:function(e){this.properties=Object.assign(this.properties,e)}},{key:"updateData",value:function(e){var t=Cu($i(e,"type","sourceNodeId","targetNodeId","startPoint","endPoint","text","properties")),r=this.text,n=r.x,o=r.y,i=r.draggable,a=r.editable;if(t.text&&"string"==typeof t.text){var c={value:t.text,draggable:i,editable:a},u=this.textPosition;t.text=n||o?Object.assign({},c,{x:n,y:o}):Object.assign({},c,u)}else if("object"===Ru(t.text)){var s=Object.assign({},this.text,t.text);t.text=$i(s,"x","y","value","draggable","editable")}Yi(this,t)}},{key:"formatText",value:function(e){var t=this.textPosition,r=t.x,n=t.y;e.text&&"string"!=typeof e.text?"[object Object]"===Object.prototype.toString.call(e.text)&&(this.text={x:e.text.x||r,y:e.text.y||n,value:e.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:e.text||"",x:r,y:n,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var e=this.textPosition,t=e.x,r=e.y;this.text.x=t,this.text.y=r}},{key:"moveText",value:function(e,t){if(this.text){var r=this.text,n=r.x,o=r.y,i=r.value,a=r.draggable,c=r.editable;this.text={value:i,draggable:a,x:n+e,y:o+t,editable:c}}}},{key:"setText",value:function(e){e&&(this.text=Yi(this.text,e))}},{key:"updateText",value:function(e){var t=this.text,r=t.x,n=t.y,o=t.draggable,i=t.editable;this.text={x:r,y:n,draggable:o,editable:i,value:e}}},{key:"setAnchors",value:function(){if(!this.startPoint){var e=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint=e}if(!this.endPoint){var t=this.getEndAnchor(this.targetNode);this.endPoint=t}}},{key:"setSelected",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=e}},{key:"setHovered",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=e}},{key:"setHitable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=e}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"updateStroke",value:function(e){this.stroke=e}},{key:"updateStrokeWidth",value:function(e){this.strokeWidth=e}},{key:"updateStartPoint",value:function(e){this.startPoint=e}},{key:"updateEndPoint",value:function(e){this.endPoint=e}},{key:"setStyleFromTheme",value:function(e,t){var r=t.theme;r[e]&&Yi(this,r[e])}},{key:"setZIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fu.zIndex;this.zIndex=e}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(e){Yi(this,e)}}])&&Lu(t.prototype,r),n&&Lu(t,n),e}()).prototype,"state",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),qc=zu(Kc.prototype,"text",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fu.text}}),Qc=zu(Kc.prototype,"type",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Jc=zu(Kc.prototype,"properties",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),$c=zu(Kc.prototype,"sourceNodeId",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fu.sourceNodeId}}),eu=zu(Kc.prototype,"targetNodeId",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fu.targetNodeId}}),tu=zu(Kc.prototype,"startPoint",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fu.startPoint}}),ru=zu(Kc.prototype,"endPoint",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fu.endPoint}}),nu=zu(Kc.prototype,"strokeWidth",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fu.strokeWidth}}),ou=zu(Kc.prototype,"stroke",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fu.stroke}}),iu=zu(Kc.prototype,"strokeDashArray",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fu.strokeDashArray}}),au=zu(Kc.prototype,"outlineColor",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fu.outlineColor}}),cu=zu(Kc.prototype,"outlineStrokeDashArray",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fu.outlineStrokeDashArray}}),uu=zu(Kc.prototype,"strokeOpacity",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fu.strokeOpacity}}),su=zu(Kc.prototype,"zIndex",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fu.zIndex}}),lu=zu(Kc.prototype,"isSelected",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fu.isSelected}}),fu=zu(Kc.prototype,"isHovered",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fu.isHovered}}),pu=zu(Kc.prototype,"isHitable",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),du=zu(Kc.prototype,"hoverStroke",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fu.hoverStroke}}),hu=zu(Kc.prototype,"selectedStroke",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fu.selectedStroke}}),yu=zu(Kc.prototype,"points",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fu.points}}),vu=zu(Kc.prototype,"pointsList",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fu.pointsList}}),bu=zu(Kc.prototype,"draggable",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zu(Kc.prototype,"sourceNode",[f.k],Object.getOwnPropertyDescriptor(Kc.prototype,"sourceNode"),Kc.prototype),zu(Kc.prototype,"targetNode",[f.k],Object.getOwnPropertyDescriptor(Kc.prototype,"targetNode"),Kc.prototype),zu(Kc.prototype,"textPosition",[f.k],Object.getOwnPropertyDescriptor(Kc.prototype,"textPosition"),Kc.prototype),zu(Kc.prototype,"setProperty",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"setProperty"),Kc.prototype),zu(Kc.prototype,"setProperties",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"setProperties"),Kc.prototype),zu(Kc.prototype,"updateData",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"updateData"),Kc.prototype),zu(Kc.prototype,"formatText",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"formatText"),Kc.prototype),zu(Kc.prototype,"resetTextPosition",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"resetTextPosition"),Kc.prototype),zu(Kc.prototype,"moveText",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"moveText"),Kc.prototype),zu(Kc.prototype,"setText",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"setText"),Kc.prototype),zu(Kc.prototype,"updateText",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"updateText"),Kc.prototype),zu(Kc.prototype,"setAnchors",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"setAnchors"),Kc.prototype),zu(Kc.prototype,"setSelected",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"setSelected"),Kc.prototype),zu(Kc.prototype,"setHovered",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"setHovered"),Kc.prototype),zu(Kc.prototype,"setHitable",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"setHitable"),Kc.prototype),zu(Kc.prototype,"setElementState",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"setElementState"),Kc.prototype),zu(Kc.prototype,"updateStroke",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"updateStroke"),Kc.prototype),zu(Kc.prototype,"updateStrokeWidth",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"updateStrokeWidth"),Kc.prototype),zu(Kc.prototype,"updateStartPoint",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"updateStartPoint"),Kc.prototype),zu(Kc.prototype,"updateEndPoint",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"updateEndPoint"),Kc.prototype),zu(Kc.prototype,"setStyleFromTheme",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"setStyleFromTheme"),Kc.prototype),zu(Kc.prototype,"setZIndex",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"setZIndex"),Kc.prototype),zu(Kc.prototype,"initPoints",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"initPoints"),Kc.prototype),zu(Kc.prototype,"updateAttributes",[f.i],Object.getOwnPropertyDescriptor(Kc.prototype,"updateAttributes"),Kc.prototype),Kc),Xu=Uu;function Hu(e){return(Hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vu(e,t){return(Vu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=qu(e);if(t){var o=qu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ku(this,r)}}function Ku(e,t){if(t&&("object"===Hu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zu(e)}function Zu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qu(e){return(qu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qu,Ju,$u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vu(e,t)}(i,e);var t,r,n,o=Wu(i);function i(e,t){var r,n,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=Zu(r=o.call(this,e,t,"line")),a="modelType",c=_a.LINE_EDGE,a in n?Object.defineProperty(n,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[a]=c,r}return t=i,(r=[{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&Yu(t.prototype,r),n&&Yu(t,n),i}(Xu);function es(e){return(es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ts(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ns(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function os(e,t,r){return(os="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ss(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function is(e,t){return(is=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function as(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ss(e);if(t){var o=ss(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return cs(this,r)}}function cs(e,t){if(t&&("object"===es(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return us(e)}function us(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ss(e){return(ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ls(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fs(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}r(35),r(81);var ps=(Ju=fs((Qu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&is(e,t)}(i,e);var t,r,n,o=as(i);function i(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ls(us(r=o.call(this,e,t,"polyline")),"modelType",_a.POLYLINE_EDGE),ls(us(r),"offset",Sc.polyline.offset),ls(us(r),"draginngPointList",void 0),function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(us(r),"dbClickPosition",Ju,us(r)),r}return t=i,(r=[{key:"getTextPosition",value:function(){var e,t=null===(e=this.text)||void 0===e?void 0:e.value;if(this.dbClickPosition&&!t){var r=this.dbClickPosition;return{x:r.x,y:r.y}}var n=il(this.points),o=ts(el(n),2),i=o[0],a=o[1];return{x:(i.x+a.x)/2,y:(i.y+a.y)/2}}},{key:"getAfterAnchor",value:function(e,t,r){var n,o;return r.forEach((function(r){var i;e===Sa.HORIZONTAL?i=Math.abs(t.y-r.y):e===Sa.VERTICAL&&(i=Math.abs(t.x-r.x)),(!o||o>i)&&(o=i,n=r)})),n}},{key:"getCorssPoint",value:function(e,t,r){var n;return e===Sa.HORIZONTAL?n={x:r.x,y:t.y}:e===Sa.VERTICAL&&(n={x:t.x,y:r.y}),n}},{key:"removeCrossPoints",value:function(e,t,r){var n=r.map((function(e){return e}));if(1===e){var o=n[e],i=n[t],a=n[e-1];if(tl(a,o,this.sourceNode)){if(rl(o,i,this.sourceNode)){var c=nl(o,i,this.sourceNode);c&&(n[e]=c,n.splice(e-1,1),e--,t--)}}else this.sourceNode.anchors.forEach((function(t){(t.x===a.x&&t.x===o.x||t.y===a.y&&t.y===o.y)&&xu(t.x,t.y,o.x,o.y)<xu(a.x,a.y,o.x,o.y)&&(n[e-1]=t)}))}if(t===r.length-2){var u=n[e],s=n[t],l=n[t+1];if(tl(s,l,this.targetNode)){if(rl(u,s,this.targetNode)){var f=nl(u,s,this.targetNode);f&&(n[t]=f,n.splice(t+1,1))}}else this.targetNode.anchors.forEach((function(e){(e.x===l.x&&e.x===s.x||e.y===l.y&&e.y===s.y)&&xu(e.x,e.y,s.x,s.y)<xu(l.x,l.y,s.x,s.y)&&(n[t+1]=e)}))}return n}},{key:"getDragingPoints",value:function(e,t,r,n,o){var i=o.map((function(e){return e})),a=this.getAfterAnchor(e,r,n),c=this.getCorssPoint(e,r,a);return"start"===t?(i.unshift(c),i.unshift(a)):(i.push(c),i.push(a)),i}},{key:"updateCrossPoints",value:function(e){var t=e.map((function(e){return e})),r=e[0],n=e[1],o=e[t.length-2],i=e[t.length-1],a=this.sourceNode,c=this.targetNode,u=a.modelType,s=c.modelType,l=ol(r,n),f=t[0];switch(u){case _a.RECT_NODE:0!==a.radius&&(Pu(r,a)||(f=Eu(r,l,a)));break;case _a.CIRCLE_NODE:f=Su(r,l,a);break;case _a.ELLIPSE_NODE:f=Au(r,l,a);break;case _a.DIAMOND_NODE:case _a.POLYGON_NODE:f=ku(r,l,a)}t[0]=f;var p=ol(o,i),d=t[t.length-1];switch(s){case _a.RECT_NODE:0!==c.radius&&(Pu(i,c)||(d=Eu(i,p,c)));break;case _a.CIRCLE_NODE:d=Su(i,p,c);break;case _a.ELLIPSE_NODE:d=Au(i,p,c);break;case _a.DIAMOND_NODE:case _a.POLYGON_NODE:d=ku(i,p,c)}return t[t.length-1]=d,t}},{key:"getData",value:function(){var e=os(ss(i.prototype),"getData",this).call(this),t=this.pointsList.map((function(e){return{x:e.x,y:e.y}}));return Object.assign({},e,{pointsList:t})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var e=$s({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=e,this.points=e.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" ")}},{key:"updateStartPoint",value:function(e){this.startPoint=e,this.updatePoints()}},{key:"updateEndPoint",value:function(e){this.endPoint=e,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map((function(e){return e}))}},{key:"dragAppend",value:function(e,t){var r=e.start,n=e.end,o=e.startIndex,i=e.endIndex,a=e.direction,c=this.pointsList;if(a===Sa.HORIZONTAL){c[o]={x:r.x,y:r.y+t.y},c[i]={x:n.x,y:n.y+t.y};var u=this.pointsList.map((function(e){return e}));if(0!==o&&i!==this.pointsList.length-1&&(u=this.removeCrossPoints(o,i,u)),0===o){var s={x:r.x,y:r.y+t.y};if(!wu(s,this.sourceNode)){var l=this.sourceNode.anchors;u=this.getDragingPoints(a,"start",s,l,u)}}if(i===this.pointsList.length-1){var f={x:n.x,y:n.y+t.y};if(!wu(f,this.targetNode)){var p=this.targetNode.anchors;u=this.getDragingPoints(a,"end",f,p,u)}}u=Js(u),this.updatePointsAfterDrage(u),this.draginngPointList=u}else if(a===Sa.VERTICAL){c[o]={x:r.x+t.x,y:r.y},c[i]={x:n.x+t.x,y:n.y};var d=this.pointsList.map((function(e){return e}));if(0!==o&&i!==this.pointsList.length-1&&(d=this.removeCrossPoints(o,i,d)),0===o){var h={x:r.x+t.x,y:r.y};if(!wu(h,this.sourceNode)){var y=this.sourceNode.anchors;d=this.getDragingPoints(a,"start",h,y,d)}}if(i===this.pointsList.length-1){var v={x:n.x+t.x,y:n.y};if(!wu(v,this.targetNode)){var b=this.targetNode.anchors;d=this.getDragingPoints(a,"end",v,b,d)}}d=Js(d),this.updatePointsAfterDrage(d),this.draginngPointList=d}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},c[o]),end:Object.assign({},c[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var e=il(this.points);this.pointsList=e.map((function(e){return e})),this.draginngPointList=[];var t=e[0];this.startPoint=Object.assign({},t);var r=e[e.length-1];this.endPoint=Object.assign({},r)}}},{key:"updatePointsAfterDrage",value:function(e){var t=this.updateCrossPoints(e);this.points=t.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" ")}}])&&ns(t.prototype,r),n&&ns(t,n),i}(Xu)).prototype,"dbClickPosition",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fs(Qu.prototype,"initPoints",[f.i],Object.getOwnPropertyDescriptor(Qu.prototype,"initPoints"),Qu.prototype),fs(Qu.prototype,"updatePoints",[f.i],Object.getOwnPropertyDescriptor(Qu.prototype,"updatePoints"),Qu.prototype),fs(Qu.prototype,"updateStartPoint",[f.i],Object.getOwnPropertyDescriptor(Qu.prototype,"updateStartPoint"),Qu.prototype),fs(Qu.prototype,"updateEndPoint",[f.i],Object.getOwnPropertyDescriptor(Qu.prototype,"updateEndPoint"),Qu.prototype),fs(Qu.prototype,"dragAppendStart",[f.i],Object.getOwnPropertyDescriptor(Qu.prototype,"dragAppendStart"),Qu.prototype),fs(Qu.prototype,"dragAppend",[f.i],Object.getOwnPropertyDescriptor(Qu.prototype,"dragAppend"),Qu.prototype),fs(Qu.prototype,"dragAppendEnd",[f.i],Object.getOwnPropertyDescriptor(Qu.prototype,"dragAppendEnd"),Qu.prototype),fs(Qu.prototype,"updatePointsAfterDrage",[f.i],Object.getOwnPropertyDescriptor(Qu.prototype,"updatePointsAfterDrage"),Qu.prototype),Qu),ds=function(e){var t=e.start,r=e.end,n=e.offset,o=e.verticalLength,i=e.type,a={leftX:0,leftY:0,rightX:0,rightY:0},c=Math.atan((r.y-t.y)/(r.x-t.x)),u=Math.atan(n/o),s=Math.sqrt(o*o+n*n);return"start"===i?r.x>=t.x?(a.leftX=t.x+s*Math.sin(c+u),a.leftY=t.y-s*Math.cos(c+u),a.rightX=t.x-s*Math.sin(c-u),a.rightY=t.y+s*Math.cos(c-u)):(a.leftX=t.x-s*Math.sin(c+u),a.leftY=t.y+s*Math.cos(c+u),a.rightX=t.x+s*Math.sin(c-u),a.rightY=t.y-s*Math.cos(c-u)):"end"===i&&(r.x>=t.x?(a.leftX=r.x+s*Math.sin(c-u),a.leftY=r.y-s*Math.cos(c-u),a.rightX=r.x-s*Math.sin(c+u),a.rightY=r.y+s*Math.cos(c+u)):(a.leftX=r.x-s*Math.sin(c-u),a.leftY=r.y+s*Math.cos(c-u),a.rightX=r.x+s*Math.sin(c+u),a.rightY=r.y-s*Math.cos(c+u))),a};function hs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hs(Object(r),!0).forEach((function(t){vs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bs(e){return function(e){if(Array.isArray(e))return xs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Os(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gs(e){return(gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ms(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||Os(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Os(e,t){if(e){if("string"==typeof e)return xs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xs(e,t):void 0}}function xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ws,_s,js,Es,Ss,Ps,As,ks,Ns,Ds,Ms,Ts,Cs,Rs,Is,Ls,zs,Bs=function(e){var t=[],r={};return e.forEach((function(e){var t="".concat(e.x,"-").concat(e.y);e.id=t,r[t]=e})),Object.keys(r).forEach((function(e){t.push(r[e])})),t},Gs=function(e,t){return 0===e.width&&0===e.height?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},Fs=function(e,t){return function(e,t){var r=Math.abs(e.x-t.centerX),n=Math.abs(e.y-t.centerY);return r/t.width>n/t.height?Sa.HORIZONTAL:Sa.VERTICAL}(t,e)===Sa.HORIZONTAL?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},Us=function(e,t){var r=Math.min(e.minX,t.minX),n=Math.min(e.minY,t.minY),o=Math.max(e.maxX,t.maxX),i=Math.max(e.maxY,t.maxY);return{centerX:(r+o)/2,centerY:(n+i)/2,minX:r,minY:n,maxX:o,maxY:i,height:i-n,width:o-r}},Xs=function(){var e=arguments.length>1?arguments[1]:void 0,t=[],r=[];(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(e){t.push(e.x),r.push(e.y)}));var n=Math.min.apply(Math,t),o=Math.max.apply(Math,t),i=Math.min.apply(Math,r),a=Math.max.apply(Math,r),c=o-n,u=a-i;return e&&(c+=e,u+=e),{centerX:(n+o)/2,centerY:(i+a)/2,maxX:o,maxY:a,minX:n,minY:i,x:(n+o)/2,y:(i+a)/2,height:u,width:c}},Hs=function(e){var t=e.minX,r=e.minY,n=e.maxX,o=e.maxY;return[{x:t,y:r},{x:n,y:r},{x:n,y:o},{x:t,y:o}]},Ys=function(e,t){var r=e.x,n=e.y;return r<t.minX||r>t.maxX||n<t.minY||n>t.maxY},Vs=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Ws=function(e,t,r,n,o){return Vs(e,t)+Vs(e,r)+function(e,t){var r=0;return t.forEach((function(t){t&&(e.x===t.x&&(r+=-2),e.y===t.y&&(r+=-2))})),r}(e,[t,r,n,o])},Ks=function(e,t,r,n){var o=t.x-e.x,i=t.y-e.y,a=n.x-r.x,c=n.y-r.y,u=(-i*(e.x-r.x)+o*(e.y-r.y))/(-a*i+o*c),s=(a*(e.y-r.y)-c*(e.x-r.x))/(-a*i+o*c);return u>=0&&u<=1&&s>=0&&s<=1},Zs=function(e,t,r){if(0===r.width&&0===r.height)return!1;var n=ms(Hs(r),4),o=n[0],i=n[1],a=n[2],c=n[3];return Ks(e,t,o,i)||Ks(e,t,o,c)||Ks(e,t,i,a)||Ks(e,t,a,c)},qs=function(e,t,r,n,o,i,a){var c=[],u=[t],s={},l={},f={};l[t.id]=0,f[t.id]=Ws(t,r,t);var p={};e.forEach((function(e){p[e.id]=e}));for(var d=function(){var d,h,y,v=void 0,b=1/0;if(u.forEach((function(e){f[e.id]<b&&(b=f[e.id],v=e)})),v===r){var g=[];return function e(t,r,n,o,i){i||(i=0),t.unshift(r[o]),n[o]&&n[o]!==o&&i<=100&&e(t,r,n,n[o],i+1)}(g,p,s,r.id),{v:g}}h=v,(y=(d=u).indexOf(h))>-1&&d.splice(y,1),c.push(v),function(e,t,r,n){var o=[];return e.forEach((function(e){e!==t&&(e.x!==t.x&&e.y!==t.y||Zs(e,t,r)||Zs(e,t,n)||o.push(e))})),Bs(o)}(e,v,n,o).forEach((function(e){if(-1===c.indexOf(e)){-1===u.indexOf(e)&&u.push(e);var n=f[v.id]+Vs(v,e);l[e.id]&&n>=l[e.id]||(s[e.id]=v.id,l[e.id]=n,f[e.id]=l[e.id]+Ws(e,r,t,i,a))}}))};u.length;){var h=d();if("object"===gs(h))return h.v}return[t,r]},Qs=function(e){return ju(e)},Js=function(e){for(var t=e,r=1;r<t.length-1;){var n=t[r-1],o=t[r],i=t[r+1];n.x===o.x&&o.x===i.x||n.y===o.y&&o.y===i.y?t.splice(r,1):r++}return t},$s=function(e,t,r,n,o){var i,a,c=Qs(r),u=Qs(n),s=Gs(c,o),l=Gs(u,o),f=Fs(s,e),p=Fs(l,t);if(i=s,a=l,2*Math.abs(i.centerX-a.centerX)<i.width+a.width&&2*Math.abs(i.centerY-a.centerY)<i.height+a.height){var d=al(e,t,f,p);return[e,f].concat(bs(d),[p,t])}var h=Xs([f,p]),y=Us(s,h),v=Us(l,h),b=[];b=(b=b.concat(Hs(y))).concat(Hs(v));var g={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[h,y,v].forEach((function(e){b=b.concat(function(e,t){return function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]}(e,t.x).concat(function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]}(e,t.y))}(e,g).filter((function(e){return Ys(e,s)&&Ys(e,l)})))})),[{x:f.x,y:p.y},{x:p.x,y:f.y}].forEach((function(e){Ys(e,s)&&Ys(e,l)&&b.push(e)})),b.unshift(f),b.push(p),b=Bs(b);var m=qs(b,f,p,c,u,e,t);return m.unshift(e),m.push(t),m.length>2&&(m=Js(m)),Bs(m)},el=function(e){var t;if(1===e.length)t=[e[0],e[0]];else if(e.length>=2){for(var r=e[0],n=e[1],o=xu(r.x,r.y,n.x,n.y),i=1;i<e.length-1;i++){var a=e[i],c=e[i+1],u=xu(a.x,a.y,c.x,c.y);u>o&&(o=u,r=a,n=c)}t=[r,n]}return t},tl=function(e,t,r){var n=wu(e,r),o=wu(t,r);return n&&o},rl=function(e,t,r){var n=wu(e,r),o=wu(t,r);return!(n&&o)&&(n||o)},nl=function(e,t,r){for(var n,o,i=ju(r),a=Hs(i),c=0;c<a.length;c++)Ks(e,t,a[c],a[(c+1)%a.length])&&(o=[a[c],a[(c+1)%a.length]]);return o&&(n=function(e,t,r,n){var o=(t.y-e.y)*(n.x-r.x)-(e.x-t.x)*(r.y-n.y);if(0===o)return!1;var i=((t.x-e.x)*(n.x-r.x)*(r.y-e.y)+(t.y-e.y)*(n.x-r.x)*e.x-(n.y-r.y)*(t.x-e.x)*r.x)/o,a=-((t.y-e.y)*(n.y-r.y)*(r.x-e.x)+(t.x-e.x)*(n.y-r.y)*e.y-(n.x-r.x)*(t.y-e.y)*r.y)/o;return(i-e.x)*(i-t.x)<=0&&(a-e.y)*(a-t.y)<=0&&(i-r.x)*(i-n.x)<=0&&(a-r.y)*(a-n.y)<=0&&{x:i,y:a}}(e,t,o[0],o[1])),n},ol=function(e,t){var r;return e.x===t.x?r=Sa.VERTICAL:e.y===t.y&&(r=Sa.HORIZONTAL),r},il=function(e){var t=e.split(" "),r=[];return t&&t.forEach((function(e){var t=ms(e.split(","),2),n=t[0],o=t[1];r.push({x:Number(n),y:Number(o)})})),r},al=function(e,t,r,n){var o=[];if(ol(e,r)===ol(t,n))e.y===r.y?(o.push({x:r.x,y:(r.y+n.y)/2}),o.push({x:n.x,y:(r.y+n.y)/2})):(o.push({x:(r.x+n.x)/2,y:r.y}),o.push({x:(r.x+n.x)/2,y:n.y}));else{var i={x:r.x,y:n.y},a=Vc(i,e,r),c=Vc(i,t,n);if(a||c)i={x:n.x,y:r.y};else{var u=cl(i,e,r),s=cl(i,t,n);u&&s&&(i={x:n.x,y:r.y})}o.push(i)}return o},cl=function(e,t,r){return e.x===t.x&&e.x===r.x||e.y===t.y&&e.y===r.y},ul=function(e){if(!e)return 0;for(var t=0,r=0;r<e.length;r++){var n=e.charCodeAt(r);e.match(/[A-Z]/)?t+=1.5:t+=n>=1&&n<=126||n>=65376&&n<=65439?1:2}return t},sl=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[ll(t[0]),ll(t[1]),ll(t[2]),ll(t[3])]},ll=function(e){var t=ms(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},fl=function(e,t){for(var r,n=e.x,o=e.y,i=il(t),a=Number.MAX_SAFE_INTEGER,c=[],u=0;u<i.length;u++)c.push({start:i[u],end:i[(u+1)%i.length]});if(c.forEach((function(e){var t=e.start,i=e.end;if(t.x===i.x){var c={x:t.x,y:o};if(Vc(c,t,i)){var u=Math.abs(t.x-n);u<a&&(a=u,r=c)}}else if(t.y===i.y){var s={x:n,y:t.y};if(Vc(s,t,i)){var l=Math.abs(t.y-o);l<a&&(a=l,r=s)}}})),!r){var s=c[0],l=s.start,f=s.end;r={x:l.x+(f.x-l.x)/2,y:l.y+(f.y-l.y)/2}}return r},pl=function(e){return $i(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},dl=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};function hl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hl(Object(r),!0).forEach((function(t){Ol(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gl(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ml(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ol(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xl(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var wl=(_s=xl((ws=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ol(this,"BaseType",ja.GRAPH),Ol(this,"modelType",_a.GRAPH),Ol(this,"rootEl",void 0),Ol(this,"theme",void 0),Ol(this,"eventCenter",void 0),Ol(this,"modelMap",new Map),Ol(this,"width",void 0),Ol(this,"height",void 0),Ol(this,"topElement",void 0),Ol(this,"selectElement",void 0),Ol(this,"idGenerator",void 0),Ol(this,"nodeMoveRules",[]),gl(this,"edgeType",_s,this),gl(this,"nodes",js,this),gl(this,"activeElement",Es,this),gl(this,"activeElementState",Ss,this),gl(this,"state",Ps,this),gl(this,"additionStateData",As,this),gl(this,"edges",ks,this),gl(this,"isSlient",Ns,this),gl(this,"plugins",Ds,this),gl(this,"tools",Ms,this),gl(this,"background",Ts,this),gl(this,"transformMatrix",Cs,this),gl(this,"editConfig",Rs,this),gl(this,"gridSize",Is,this),gl(this,"partial",Ls,this),gl(this,"fakerNode",zs,this);var r=t.container,n=t.background,o=void 0===n?{}:n,i=t.grid,a=(i=void 0===i?{}:i).size,c=void 0===a?1:a,u=t.isSilentMode,s=void 0!==u&&u,l=t.eventCenter,f=t.idGenerator;this.background=o,this.isSlient=s,this.gridSize=c,this.rootEl=r,this.editConfig=new ha(t),this.eventCenter=l,this.theme=Nc(t.style),this.edgeType=t.edgeType||"polyline",this.width=t.width,this.height=t.height,this.partial=t.partial,this.idGenerator=f}var t,r,n;return t=e,(r=[{key:"nodesMap",get:function(){return this.nodes.reduce((function(e,t,r){return e[t.id]={index:r,model:t},e}),{})}},{key:"edgesMap",get:function(){return this.edges.reduce((function(e,t,r){return e[t.id]={index:r,model:t},e}),{})}},{key:"sortElements",get:function(){var e=[];this.nodes.forEach((function(t){return e.push(t)})),this.edges.forEach((function(t){return e.push(t)})),e=e.sort((function(e,t){return e.zIndex-t.zIndex}));for(var t=[],r=-1,n=[-200,-200],o=[this.width+200,this.height+200],i=0;i<e.length;i++){var a=e[i];this.partial&&!this.isElementInArea(a,n,o,!1)||(999===a.zIndex&&(r=t.length),t.push(a))}if(-1!==r){var c=t[t.length-1];t[t.length-1]=t[r],t[r]=c}return t}},{key:"textEditElement",get:function(){var e=this.nodes.find((function(e){return e.state===xa.TEXT_EDIT})),t=this.edges.find((function(e){return e.state===xa.TEXT_EDIT}));return e||t}},{key:"selectElements",get:function(){var e=new Map;return this.nodes.forEach((function(t){t.isSelected&&e.set(t.id,t)})),this.edges.forEach((function(t){t.isSelected&&e.set(t.id,t)})),e}},{key:"getAreaElement",value:function(e,t){var r=[],n=[];this.nodes.forEach((function(e){return n.push(e)})),this.edges.forEach((function(e){return n.push(e)}));for(var o=0;o<n.length;o++){var i=n[o];this.isElementInArea(i,e,t)&&r.push(i)}return r}},{key:"getModel",value:function(e){return this.modelMap.get(e)}},{key:"getNodeModel",value:function(e){var t;return this.fakerNode&&e===this.fakerNode.id?this.fakerNode:null===(t=this.nodesMap[e])||void 0===t?void 0:t.model}},{key:"getPointByClient",value:function(e){var t=e.x,r=e.y,n=this.rootEl.getBoundingClientRect(),o={x:t-n.left,y:r-n.top},i=vl(this.transformMatrix.HtmlPointToCanvasPoint([o.x,o.y]),2);return{domOverlayPosition:o,canvasOverlayPosition:{x:i[0],y:i[1]}}}},{key:"isElementInArea",value:function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.BaseType===ja.NODE){for(var o=ju(e=e),i=o.minX,a=o.minY,c=o.maxX,u=o.maxY,s=[{x:i,y:a},{x:c,y:a},{x:c,y:u},{x:i,y:u}],l=!0,f=0;f<s.length;f++){var p=s[f],d=p.x,h=p.y,y=vl(this.transformMatrix.CanvasPointToHtmlPoint([d,h]),2);if(d=y[0],h=y[1],!Ic([d,h],t,r)){l=!1;break}}return l}if(e.BaseType===ja.EDGE){var v=e=e,b=v.startPoint,g=v.endPoint,m=this.transformMatrix.CanvasPointToHtmlPoint([b.x,b.y]),O=this.transformMatrix.CanvasPointToHtmlPoint([g.x,g.y]),x=Ic(m,t,r),w=Ic(O,t,r);return n?x&&w:x||w}return!1}},{key:"graphDataToModel",value:function(e){var t=this;this.nodes=Ai(e.nodes,(function(e){var r=t.getModel(e.type);if(!r)throw new Error("\u627e\u4e0d\u5230".concat(e.type,"\u5bf9\u5e94\u7684\u8282\u70b9\u3002"));var n=e.x,o=e.y;return n&&o&&(e.x=Dc(n,t.gridSize),e.y=Dc(o,t.gridSize),"[object Object]"===Object.prototype.toString.call(e.text)&&(e.text.x-=Mc(n,t.gridSize),e.text.y-=Mc(o,t.gridSize))),new r(e,t)})),this.edges=Ai(e.edges,(function(e){var r=t.getModel(e.type);if(!r)throw new Error("\u627e\u4e0d\u5230".concat(e.type,"\u5bf9\u5e94\u7684\u8fb9\u3002"));return new r(e,t)}))}},{key:"modelToGraphData",value:function(){var e=this.edges.map((function(e){return e.getData()}));return{nodes:this.nodes.map((function(e){return e.getData()})),edges:e}}},{key:"getEdgeModel",value:function(e){var t;return null===(t=this.edgesMap[e])||void 0===t?void 0:t.model}},{key:"getElement",value:function(e){return this.getNodeModel(e)||this.getEdgeModel(e)}},{key:"getNodeEdges",value:function(e){for(var t=[],r=0;r<this.edges.length;r++){var n=this.edges[r],o=this.edges[r].sourceNodeId===e,i=this.edges[r].targetNodeId===e;(o||i)&&t.push(n)}return t}},{key:"getSelectElements",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.selectElements,r={nodes:[],edges:[]};return t.forEach((function(n){if(n.BaseType===ja.NODE&&r.nodes.push(n.getData()),n.BaseType===ja.EDGE){var o=n.getData(),i=t.get(o.sourceNodeId)&&t.get(o.targetNodeId);(e||i)&&r.edges.push(o)}})),r}},{key:"updateAttributes",value:function(e,t){this.getElement(e).updateAttributes(t)}},{key:"setFakerNode",value:function(e){this.fakerNode=e}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(e,t){return this.modelMap.set(e,t)}},{key:"updateEdgeByIndex",value:function(e,t){this.edges[e]=yl(yl({},this.edges[e]),t)}},{key:"toFront",value:function(e){var t,r,n,o=(null===(t=this.nodesMap[e])||void 0===t?void 0:t.model)||(null===(r=this.edgesMap[e])||void 0===r?void 0:r.model);o&&(null===(n=this.topElement)||void 0===n||n.setZIndex(),this.topElement=o,o.setZIndex(999))}},{key:"deleteNode",value:function(e){var t=this.nodesMap[e].model.getData();this.removeEdgeBySource(e),this.removeEdgeByTarget(e),this.nodes.splice(this.nodesMap[e].index,1),this.eventCenter.emit(Ea.NODE_DELETE,{data:t})}},{key:"addNode",value:function(e){var t=Cu(e);t.id&&this.nodesMap[e.id]&&delete t.id;var r=this.getModel(t.type);if(!r)throw new Error("\u627e\u4e0d\u5230".concat(t.type,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));var n=new r(t,this);this.nodes.push(n);var o=n.getData();return this.eventCenter.emit(Ea.NODE_ADD,{data:o}),n}},{key:"cloneNode",value:function(e){var t=this.getNodeModel(e),r=t.getData();r.x+=30,r.y+=30,delete r.id,r.text&&(r.text.x+=30,r.text.y+=30);var n=this.addNode(r);return n.setSelected(!0),t.setSelected(!1),n.getData()}},{key:"moveNode",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.nodesMap[e];o?(o.model.move(t,r,n),this.moveEdge(e,t,r)):console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(e,"\u7684\u8282\u70b9"))}},{key:"moveNode2Coordinate",value:function(e,t,r){var n=this.nodesMap[e];if(n){var o=n.model,i=t-o.x,a=r-o.y;this.moveNode(e,i,a)}else console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(e,"\u7684\u8282\u70b9"))}},{key:"setTextEditable",value:function(e){this.setElementStateById(e,xa.TEXT_EDIT)}},{key:"createEdge",value:function(e){var t=Cu(e),r=t.type;r||(r=this.edgeType),t.id&&this.edgesMap[t.id]&&delete t.id;var n=this.getModel(r);if(!n)throw new Error("\u627e\u4e0d\u5230".concat(r,"\u5bf9\u5e94\u7684\u8fde\u7ebf\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8fde\u7ebf\u3002"));var o=new n(yl(yl({},t),{},{type:r}),this),i=o.getData();return this.edges.push(o),this.eventCenter.emit(Ea.EDGE_ADD,{data:i}),o}},{key:"moveEdge",value:function(e,t,r){for(var n=0;n<this.edges.length;n++){var o,i=this.edges[n],a=i.textPosition,c=a.x,u=a.y,s=this.edges[n].sourceNodeId===e,l=this.edges[n].targetNodeId===e;if(s&&i.updateStartPoint({x:i.startPoint.x+t,y:i.startPoint.y+r}),l&&i.updateEndPoint({x:i.endPoint.x+t,y:i.endPoint.y+r}),s||l)if(!0===i.customTextPosition)i.resetTextPosition();else if(i.modelType===_a.POLYLINE_EDGE&&null!==(o=i.text)&&void 0!==o&&o.value){var f=i.text,p=fl(f,i.points);i.moveText(p.x-f.x,p.y-f.y)}else{var d=i.textPosition,h=d.x,y=d.y;i.moveText(h-c,y-u)}}}},{key:"removeEdge",value:function(e,t){for(var r=0;r<this.edges.length;r++)if(this.edges[r].sourceNodeId===e&&this.edges[r].targetNodeId===t){var n=this.edges[r].getData();this.edges.splice(r,1),r--,this.eventCenter.emit(Ea.EDGE_DELETE,{data:n})}}},{key:"removeEdgeById",value:function(e){var t=this.edgesMap[e].index;if(this.edgesMap[e]){var r=this.edgesMap[e].model.getData();this.edges.splice(t,1),this.eventCenter.emit(Ea.EDGE_DELETE,{data:r})}else console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(e,"\u7684\u8fb9"))}},{key:"removeEdgeBySource",value:function(e){for(var t=0;t<this.edges.length;t++)if(this.edges[t].sourceNodeId===e){var r=this.edges[t].getData();this.edges.splice(t,1),t--,this.eventCenter.emit(Ea.EDGE_DELETE,{data:r})}}},{key:"removeEdgeByTarget",value:function(e){for(var t=0;t<this.edges.length;t++)if(this.edges[t].targetNodeId===e){var r=this.edges[t].getData();this.edges.splice(t,1),t--,this.eventCenter.emit(Ea.EDGE_DELETE,{data:r})}}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"setElementStateById",value:function(e,t,r){this.resetElementState(),this.nodes.forEach((function(n){n.id===e?n.setElementState(t,r):n.setElementState(xa.DEFAULT)})),this.edges.forEach((function(n){n.id===e?n.setElementState(t,r):n.setElementState(xa.DEFAULT)}))}},{key:"setElementTextById",value:function(e,t){this.nodes.forEach((function(r){r.id===e&&r.updateText(t)})),this.edges.forEach((function(r){r.id===e&&r.updateText(t)}))}},{key:"resetElementState",value:function(){}},{key:"selectNodeById",value:function(e){var t,r,n;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(null===(n=this.selectElement)||void 0===n||n.setSelected(!1),this.clearSelectElements()),this.selectElement=null===(t=this.nodesMap[e])||void 0===t?void 0:t.model,null===(r=this.selectElement)||void 0===r||r.setSelected(!0),this.selectElements.set(e,this.selectElement)}},{key:"selectEdgeById",value:function(e){var t,r,n;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(null===(n=this.selectElement)||void 0===n||n.setSelected(!1),this.clearSelectElements()),this.selectElement=null===(t=this.edgesMap[e])||void 0===t?void 0:t.model,null===(r=this.selectElement)||void 0===r||r.setSelected(!0)}},{key:"selectElementById",value:function(e){var t,r;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(null===(r=this.selectElement)||void 0===r||r.setSelected(!1),this.clearSelectElements()),this.selectElement=this.getElement(e),null===(t=this.selectElement)||void 0===t||t.setSelected(!0),this.selectElements.set(e,this.selectElement)}},{key:"clearSelectElements",value:function(){var e;this.selectElements.forEach((function(e){null==e||e.setSelected(!1)})),this.selectElements.clear(),null===(e=this.topElement)||void 0===e||e.setZIndex()}},{key:"moveElements",value:function(e,t,r){var n=this;e.nodes.forEach((function(e){return n.moveNode(e.id,t,r)}))}},{key:"moveNodes",value:function(e,t,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.forEach((function(e){return n.moveNode(e,t,r,o)}))}},{key:"addNodeMoveRules",value:function(e){this.nodeMoveRules.includes(e)||this.nodeMoveRules.push(e)}},{key:"changeEdgeType",value:function(e){this.edgeType=e}},{key:"changeNodeType",value:function(e,t){var r=this.getNodeModel(e);if(r){var n=r.getData();n.type=t;var o=this.getModel(t);if(!o)throw new Error("\u627e\u4e0d\u5230".concat(t,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));var i=new o(n,this);this.nodes.splice(this.nodesMap[e].index,1,i),this.getNodeEdges(e).forEach((function(t){if(t.sourceNodeId===e){var r=Nu(i,t.startPoint,i.width,i.height);t.updateStartPoint(r)}if(t.targetNodeId===e){var n=Nu(i,t.endPoint,i.width,i.height);t.updateEndPoint(n)}}))}else console.warn("\u627e\u4e0d\u5230id\u4e3a".concat(e,"\u7684\u8282\u70b9"))}},{key:"setTheme",value:function(e){this.theme=Nc(yl(yl({},this.theme),e))}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}}])&&ml(t.prototype,r),n&&ml(t,n),e}()).prototype,"edgeType",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),js=xl(ws.prototype,"nodes",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Es=xl(ws.prototype,"activeElement",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ss=xl(ws.prototype,"activeElementState",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ps=xl(ws.prototype,"state",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),As=xl(ws.prototype,"additionStateData",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ks=xl(ws.prototype,"edges",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ns=xl(ws.prototype,"isSlient",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ds=xl(ws.prototype,"plugins",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ms=xl(ws.prototype,"tools",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ts=xl(ws.prototype,"background",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cs=xl(ws.prototype,"transformMatrix",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Pa}}),Rs=xl(ws.prototype,"editConfig",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Is=xl(ws.prototype,"gridSize",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ls=xl(ws.prototype,"partial",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zs=xl(ws.prototype,"fakerNode",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xl(ws.prototype,"nodesMap",[f.k],Object.getOwnPropertyDescriptor(ws.prototype,"nodesMap"),ws.prototype),xl(ws.prototype,"edgesMap",[f.k],Object.getOwnPropertyDescriptor(ws.prototype,"edgesMap"),ws.prototype),xl(ws.prototype,"sortElements",[f.k],Object.getOwnPropertyDescriptor(ws.prototype,"sortElements"),ws.prototype),xl(ws.prototype,"textEditElement",[f.k],Object.getOwnPropertyDescriptor(ws.prototype,"textEditElement"),ws.prototype),xl(ws.prototype,"selectElements",[f.k],Object.getOwnPropertyDescriptor(ws.prototype,"selectElements"),ws.prototype),xl(ws.prototype,"setFakerNode",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"setFakerNode"),ws.prototype),xl(ws.prototype,"removeFakerNode",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"removeFakerNode"),ws.prototype),xl(ws.prototype,"setModel",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"setModel"),ws.prototype),xl(ws.prototype,"updateEdgeByIndex",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"updateEdgeByIndex"),ws.prototype),xl(ws.prototype,"toFront",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"toFront"),ws.prototype),xl(ws.prototype,"deleteNode",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"deleteNode"),ws.prototype),xl(ws.prototype,"addNode",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"addNode"),ws.prototype),xl(ws.prototype,"cloneNode",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"cloneNode"),ws.prototype),xl(ws.prototype,"moveNode",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"moveNode"),ws.prototype),xl(ws.prototype,"moveNode2Coordinate",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"moveNode2Coordinate"),ws.prototype),xl(ws.prototype,"setTextEditable",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"setTextEditable"),ws.prototype),xl(ws.prototype,"createEdge",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"createEdge"),ws.prototype),xl(ws.prototype,"moveEdge",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"moveEdge"),ws.prototype),xl(ws.prototype,"removeEdge",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"removeEdge"),ws.prototype),xl(ws.prototype,"removeEdgeById",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"removeEdgeById"),ws.prototype),xl(ws.prototype,"removeEdgeBySource",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"removeEdgeBySource"),ws.prototype),xl(ws.prototype,"removeEdgeByTarget",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"removeEdgeByTarget"),ws.prototype),xl(ws.prototype,"setElementState",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"setElementState"),ws.prototype),xl(ws.prototype,"setElementStateById",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"setElementStateById"),ws.prototype),xl(ws.prototype,"setElementTextById",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"setElementTextById"),ws.prototype),xl(ws.prototype,"resetElementState",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"resetElementState"),ws.prototype),xl(ws.prototype,"selectNodeById",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"selectNodeById"),ws.prototype),xl(ws.prototype,"selectEdgeById",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"selectEdgeById"),ws.prototype),xl(ws.prototype,"selectElementById",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"selectElementById"),ws.prototype),xl(ws.prototype,"clearSelectElements",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"clearSelectElements"),ws.prototype),xl(ws.prototype,"moveElements",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"moveElements"),ws.prototype),xl(ws.prototype,"moveNodes",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"moveNodes"),ws.prototype),xl(ws.prototype,"changeEdgeType",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"changeEdgeType"),ws.prototype),xl(ws.prototype,"changeNodeType",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"changeNodeType"),ws.prototype),xl(ws.prototype,"setTheme",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"setTheme"),ws.prototype),xl(ws.prototype,"clearData",[f.i],Object.getOwnPropertyDescriptor(ws.prototype,"clearData"),ws.prototype),ws),_l=wl,jl=function(){};function El(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Sl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pl=window.document;function Al(e){var t=e.onDragStart,r=void 0===t?jl:t,n=e.onDraging,o=void 0===n?jl:n,i=e.onDragEnd,a=void 0===i?jl:i,c=e.step,u=void 0===c?1:c,s=e.isStopPropagation,l=void 0===s||s,f=!1,p=0,d=0,h=0,y=0;function v(e){if(l&&e.stopPropagation(),f&&(h+=e.clientX-p,y+=e.clientY-d,p=e.clientX,d=e.clientY,Math.abs(h)>u||Math.abs(y)>u)){var t=h%u,r=y%u,n=h-t,i=y-r;h=t,y=r,o({deltaX:n,deltaY:i,event:e})}}function b(e){return l&&e.stopPropagation(),f=!1,Pl.removeEventListener("mousemove",v,!1),Pl.removeEventListener("mouseup",b,!1),a({event:e})}return function(e){if(0===e.button)return l&&e.stopPropagation(),f=!0,p=e.clientX,d=e.clientY,Pl.addEventListener("mousemove",v,!1),Pl.addEventListener("mouseup",b,!1),r({event:e})}}var kl=function(){function e(t){var r=this,n=t.onDragStart,o=void 0===n?jl:n,i=t.onDraging,a=void 0===i?jl:i,c=t.onDragEnd,u=void 0===c?jl:c,s=t.eventType,l=void 0===s?"":s,f=t.eventCenter,p=void 0===f?null:f,d=t.step,h=void 0===d?1:d,y=t.isStopPropagation,v=void 0===y||y,b=t.model,g=void 0===b?null:b;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Sl(this,"onDragStart",void 0),Sl(this,"onDraging",void 0),Sl(this,"onDragEnd",void 0),Sl(this,"step",void 0),Sl(this,"isStopPropagation",void 0),Sl(this,"isDraging",!1),Sl(this,"startX",0),Sl(this,"startY",0),Sl(this,"sumDeltaX",0),Sl(this,"sumDeltaY",0),Sl(this,"eventType",void 0),Sl(this,"eventCenter",void 0),Sl(this,"model",void 0),Sl(this,"startTime",void 0),Sl(this,"isGrag",void 0),Sl(this,"handleMouseDown",(function(e){var t,n,o;if(0===e.button){r.isStopPropagation&&e.stopPropagation(),r.isDraging=!0,r.startX=e.clientX,r.startY=e.clientY,Pl.addEventListener("mousemove",r.handleMouseMove,!1),Pl.addEventListener("mouseup",r.handleMouseUp,!1),r.onDragStart({event:e});var i=null===(t=r.model)||void 0===t?void 0:t.getData();null===(n=r.eventCenter)||void 0===n||n.emit(Ea["".concat(r.eventType,"_MOUSEDOWN")],{e:e,data:i}),null===(o=r.eventCenter)||void 0===o||o.emit(Ea["".concat(r.eventType,"_DRAGSTART")],{e:e,data:i}),r.startTime=(new Date).getTime()}})),Sl(this,"handleMouseMove",(function(e){if(r.isStopPropagation&&e.stopPropagation(),r.isDraging&&(r.sumDeltaX+=e.clientX-r.startX,r.sumDeltaY+=e.clientY-r.startY,r.startX=e.clientX,r.startY=e.clientY,Math.abs(r.sumDeltaX)>r.step||Math.abs(r.sumDeltaY)>r.step)){var t,n,o,i=r.sumDeltaX%r.step,a=r.sumDeltaY%r.step,c=r.sumDeltaX-i,u=r.sumDeltaY-a;r.sumDeltaX=i,r.sumDeltaY=a,r.onDraging({deltaX:c,deltaY:u,event:e});var s=null===(t=r.model)||void 0===t?void 0:t.getData();null===(n=r.eventCenter)||void 0===n||n.emit(Ea["".concat(r.eventType,"_MOUSEMOVE")],{e:e,data:s}),null===(o=r.eventCenter)||void 0===o||o.emit(Ea["".concat(r.eventType,"_DRAG")],{e:e,data:s}),r.isGrag=!0}})),Sl(this,"handleMouseUp",(function(e){var t,n;r.isStopPropagation&&e.stopPropagation(),r.isDraging=!1,Pl.removeEventListener("mousemove",r.handleMouseMove,!1),Pl.removeEventListener("mouseup",r.handleMouseUp,!1),r.onDragEnd({event:e});var o,i=null===(t=r.model)||void 0===t?void 0:t.getData();null===(n=r.eventCenter)||void 0===n||n.emit(Ea["".concat(r.eventType,"_MOUSEUP")],{e:e,data:i}),r.isGrag&&(null===(o=r.eventCenter)||void 0===o||o.emit(Ea["".concat(r.eventType,"_DROP")],{e:e,data:i}),r.isGrag=!1)})),this.onDragStart=o,this.onDraging=a,this.onDragEnd=u,this.step=h,this.isStopPropagation=v,this.eventType=l,this.eventCenter=p,this.model=g}var t,r,n;return t=e,(r=[{key:"setStep",value:function(e){this.step=e}}])&&El(t.prototype,r),n&&El(t,n),e}();function Nl(e){return(Nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dl(){return(Dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ml(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Cl(e,t){return(Cl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ll(e);if(t){var o=Ll(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Il(this,r)}}function Il(e,t){if(t&&("object"===Nl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ll(e){return(Ll=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zl(e){return(zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bl(){return(Bl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Gl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fl(e,t){return(Fl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ul(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Yl(e);if(t){var o=Yl(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Xl(this,r)}}function Xl(e,t){if(t&&("object"===zl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hl(e)}function Hl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yl(e){return(Yl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Wl,Kl,Zl=wO((Wl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fl(e,t)}(i,e);var t,r,n,o=Ul(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Vl(Hl(t=o.call(this)),"stepDrag",void 0),Vl(Hl(t),"stepScrollX",0),Vl(Hl(t),"stepScrollY",0),Vl(Hl(t),"onDraging",(function(e){var r=e.deltaX,n=e.deltaY;t.setState({isDraging:!0});var o=t.props.graphModel,i=o.transformMatrix;o.editConfig.stopMoveGraph||(i.TRANSLATE_X+=r,i.TRANSLATE_Y+=n)})),Vl(Hl(t),"onDragEnd",(function(){t.setState({isDraging:!1})})),Vl(Hl(t),"zoomHandler",(function(e){var r=t.props,n=r.graphModel,o=n.editConfig,i=n.transformMatrix,a=n.gridSize,c=r.graphModel,u=e.deltaX,s=e.deltaY;if(o.stopScrollGraph||!0===e.ctrlKey){if(!o.stopZoomGraph){e.preventDefault();var l=c.getPointByClient({x:e.clientX,y:e.clientY}).canvasOverlayPosition,f=l.x,p=l.y;i.zoom(e.deltaY<0,[f,p])}}else{if(e.preventDefault(),t.stepScrollX+=u,t.stepScrollY+=s,Math.abs(t.stepScrollX)>=a){var d=t.stepScrollX%a,h=t.stepScrollX-d;i.TRANSLATE_X-=h*i.SCALE_X,t.stepScrollX=d}if(Math.abs(t.stepScrollY)>=a){var y=t.stepScrollY%a,v=t.stepScrollY-y;i.TRANSLATE_Y-=v*i.SCALE_Y,t.stepScrollY=y}}})),Vl(Hl(t),"clickHandler",(function(e){if("canvas-overlay"===e.target.getAttribute("name")){var r=t.props,n=r.graphModel,o=r.eventCenter,i=n.textEditElement;n.selectElements.size>0&&n.clearSelectElements(),i&&i.setElementState(xa.DEFAULT),o.emit(Ea.BLANK_CLICK,{e:e})}})),Vl(Hl(t),"handleContextMenu",(function(e){if("canvas-overlay"===e.target.getAttribute("name")){e.preventDefault();var r=t.props,n=r.graphModel,o=r.eventCenter,i=n.getPointByClient({x:e.clientX,y:e.clientY});n.setElementState(xa.SHOW_MENU,i.domOverlayPosition),o.emit(Ea.BLANK_CONTEXTMENU,{e:e,position:i})}})),Vl(Hl(t),"mouseDownHandler",(function(e){var r=t.props,n=r.eventCenter,o=r.graphModel,i=o.editConfig,a=o.transformMatrix.SCALE_X,c=o.gridSize;i.stopMoveGraph?n.emit(Ea.BLANK_MOUSEDOWN,{e:e}):(t.stepDrag.setStep(c*a),t.stepDrag.handleMouseDown(e)),t.clickHandler(e)}));var r=e.graphModel.gridSize,n=e.eventCenter;return t.stepDrag=new kl({onDraging:t.onDraging,onDragEnd:t.onDragEnd,step:r,eventType:"BLANK",eventCenter:n,model:null}),t.state={isDraging:!1},t}return t=i,(r=[{key:"InjectedProps",get:function(){return this.props}},{key:"render",value:function(){var e=this.InjectedProps.transformStyle.transform,t=this.props,r=t.children,n=t.dnd,o=this.state.isDraging;return b("svg",Bl({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:o?"lf-dragging":"lf-drag-able"},n.eventMap()),b("g",{transform:e},r))}}])&&Gl(t.prototype,r),n&&Gl(t,n),i}(x),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cl(e,t)}(i,e);var t,r,n,o=Rl(i);function i(){return Ml(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"getMatrixString",value:function(){var e=this.props.graphModel.transformMatrix,t=[e.SCALE_X,e.SKEW_Y,e.SKEW_X,e.SCALE_Y,e.TRANSLATE_X,e.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")"),transformOrigin:"left top"}}},{key:"render",value:function(){return b(Wl,Dl({},this.props,{transformStyle:this.getMatrixString()}))}}])&&Tl(t.prototype,r),n&&Tl(t,n),i}(x)));function ql(e){return(ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ql(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $l(e,t){return($l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ef(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=nf(e);if(t){var o=nf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return tf(this,r)}}function tf(e,t){if(t&&("object"===ql(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rf(e)}function rf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nf(e){return(nf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function of(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var af=wO(Kl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$l(e,t)}(i,e);var t,r,n,o=ef(i);function i(){var e;Ql(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return of(rf(e=o.call.apply(o,[this].concat(r))),"setToolOverlayRef",(function(t){var r=e.props.tool.getInstance();r.components.forEach((function(e){return e(r,t)})),r.components=[]})),e}return t=i,(r=[{key:"getTools",value:function(){var e=this.props,t=e.tool,r=e.graphModel,n=t.getTools().map((function(e){return b(e,{graphModel:r,logicFlow:t.instance})}));return t.components=n,n}},{key:"render",value:function(){return b("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&Jl(t.prototype,r),n&&Jl(t,n),i}(x))||Kl;function cf(e){return(cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lf(e,t){return(lf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ff(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=df(e);if(t){var o=df(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return pf(this,r)}}function pf(e,t){if(t&&("object"===cf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function df(e){return(df=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r(177);var hf,yf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lf(e,t)}(i,e);var t,r,n,o=ff(i);function i(){return uf(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"getAttributes",value:function(){var e=this.props.background,t=e.image,r=void 0===t?"":t,n=e.color,o=void 0===n?"":n,i=e.repeat,a=void 0===i?"no-repeat":i,c=e.position,u=void 0===c?"center":c,s=e.size,l=void 0===s?"auto auto":s,f=e.opacity,p=void 0===f?1:f;return o?{color:o,opacity:p,image:"none"}:r?{image:"url(".concat(r,")"),repeat:a,position:u,size:l,opacity:p}:{}}},{key:"getShape",value:function(){var e=this.getAttributes(),t=e.image,r=e.color,n=e.repeat,o=e.size;return b("div",{className:"lf-background"},b("div",{style:{backgroundImage:t,backgroundColor:r,backgroundRepeat:n,backgroundPosition:e.position,backgroundSize:o,opacity:e.opacity},className:"lf-background-area"}))}},{key:"render",value:function(){return this.getShape()}}])&&sf(t.prototype,r),n&&sf(t,n),i}(x);function vf(e){return(vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mf(e,t){return(mf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Of(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_f(e);if(t){var o=_f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return xf(this,r)}}function xf(e,t){if(t&&("object"===vf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wf(e)}function wf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _f(e){return(_f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ef=wO(hf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mf(e,t)}(i,e);var t,r,n,o=Of(i);function i(){var e;bf(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return jf(wf(e=o.call.apply(o,[this].concat(r))),"id",Yc()),e}return t=i,(r=[{key:"renderDot",value:function(){var e=this.props,t=e.config,r=t.color,n=t.thickness,o=void 0===n?2:n,i=e.size,a=e.visible,c=Math.min(Math.max(2,o),i/2),u=1;return a||(u=0),b("rect",{width:c,height:c,rx:c/2,ry:c/2,fill:r,opacity:u})}},{key:"renderMesh",value:function(){var e=this.props,t=e.config,r=t.color,n=t.thickness,o=void 0===n?1:n,i=e.size,a=e.visible,c=Math.min(Math.max(1,o),i/2),u=1;return a||(u=0),b("path",{d:"M ".concat(i," 0 H0 M0 0 V0 ").concat(i),stroke:r,strokeWidth:c,opacity:u})}},{key:"render",value:function(){var e=this.props,t=e.type,r=e.size,n=e.graphModel.transformMatrix,o=[n.SCALE_X,n.SKEW_Y,n.SKEW_X,n.SCALE_Y,n.TRANSLATE_X,n.TRANSLATE_Y].join(","),i="matrix(".concat(o,")");return b("div",{className:"lf-grid"},b("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},b("defs",null,b("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:i,x:"0",y:"0",width:r,height:r,style:{transition:"all 0.1s ease"}},"dot"===t&&this.renderDot(),"mesh"===t&&this.renderMesh())),b("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&gf(t.prototype,r),n&&gf(t,n),i}(x))||hf;function Sf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ef.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}};var Af,kf=function(e){return b("line",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sf(Object(r),!0).forEach((function(t){Pf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({x1:10,y1:10,x2:20,y2:20,stroke:"black"},e))};function Nf(e){return(Nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Df(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tf(e,t){return(Tf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=If(e);if(t){var o=If(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Rf(this,r)}}function Rf(e,t){if(t&&("object"===Nf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function If(e){return(If=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lf,zf=wO(Af=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tf(e,t)}(i,e);var t,r,n,o=Cf(i);function i(){return Df(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"render",value:function(){var e=this.props.snaplineModel,t=e.position,r=e.isShowHorizontal,n=e.isShowVertical,o=e.stroke,i=e.strokeWidth,a=t.x,c=void 0===a?0:a,u=t.y,s=void 0===u?0:u,l={x1:c,y1:-1e5,x2:c,y2:1e5,stroke:n?o:"none",strokeWidth:i};return b("g",{className:"lf-snapline"},b(kf,{x1:-1e5,y1:s,x2:1e5,y2:s,stroke:r?o:"none",strokeWidth:i}),b(kf,l))}}])&&Mf(t.prototype,r),n&&Mf(t,n),i}(x))||Af;function Bf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bf(Object(r),!0).forEach((function(t){Ff(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ff(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uf(e){var t=e.x,r=e.y,n=e.width,o=e.height,i=e.radius,a=e.className,c=t-n/2,u=r-o/2;return b("rect",Gf(Gf({width:10,height:10,cx:0,cy:0,rx:i||0,ry:i||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape ".concat(a)},e),{},{x:c,y:u}))}function Xf(e){return(Xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vf(e,t){return(Vf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Zf(e);if(t){var o=Zf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Kf(this,r)}}function Kf(e,t){if(t&&("object"===Xf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Zf(e){return(Zf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Uf.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var qf,Qf=wO(Lf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vf(e,t)}(i,e);var t,r,n,o=Wf(i);function i(){return Hf(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"getNodeOutline",value:function(){var e=this.props.graphModel,t=e.selectElements,r=e.editConfig,n=r.hoverOutline,o=r.nodeSelectedOutline,i=[];return t.forEach((function(e){if(e.BaseType===ja.NODE){var t=e.isHovered,r=e.isSelected,a=e.x,c=e.y,u=e.width,s=e.height,l=e.outlineColor,f=e.hoverOutlineColor,p=e.outlineStrokeDashArray,d=e.hoverOutlineStrokeDashArray;if(o||n&&t){var h=r?l:f,y=r?p:d;i.push(b(Uf,{className:"lf-outline-node",x:a,y:c,width:u+10,height:s+10,radius:0,fill:"none",stroke:h,strokeDasharray:y}))}}})),i}},{key:"getEdgeOutline",value:function(){for(var e=this.props.graphModel,t=e.edges,r=e.editConfig.edgeSelectedOutline,n=[],o=0;o<t.length;o++){var i=t[o];i.isSelected&&r&&(i.modelType===_a.LINE_EDGE?n.push(this.getLineOutline(i)):i.modelType===_a.POLYLINE_EDGE?n.push(this.getPolylineOutline(i)):i.modelType===_a.BEZIER_EDGE&&n.push(this.getBezierOutline(i)))}return n}},{key:"getLineOutline",value:function(e){var t=e.startPoint,r=e.endPoint,n=(t.x+r.x)/2,o=(t.y+r.y)/2,i=Math.abs(t.x-r.x)+10,a=Math.abs(t.y-r.y)+10,c=this.props.graphModel.theme.line;return b(Uf,{className:"lf-outline-edge",x:n,y:o,width:i,height:a,radius:0,fill:"none",stroke:c.outlineColor,strokeDasharray:c.outlineStrokeDashArray})}},{key:"getPolylineOutline",value:function(e){var t=e.points,r=il(t),n=Xs(r,8),o=n.x,i=n.y,a=n.width,c=n.height,u=this.props.graphModel.theme.polyline;return b(Uf,{className:"lf-outline",x:o,y:i,width:a,height:c,radius:0,fill:"none",stroke:u.outlineColor,strokeDasharray:u.outlineStrokeDashArray})}},{key:"getBezierOutline",value:function(e){var t=e.path,r=sl(t),n=Xs(r,8),o=n.x,i=n.y,a=n.width,c=n.height,u=this.props.graphModel.theme.bezier;return b(Uf,{className:"lf-outline",x:o,y:i,width:a,height:c,radius:0,fill:"none",stroke:u.outlineColor,strokeDasharray:u.outlineStrokeDashArray})}},{key:"render",value:function(){return b("g",{className:"lf-outline"},this.getNodeOutline(),this.getEdgeOutline())}}])&&Yf(t.prototype,r),n&&Yf(t,n),i}(x))||Lf;function Jf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ep(e){var t=e.x,r=void 0===t?0:t,n=e.y,o=void 0===n?0:n,i=e.r;return b("circle",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jf(Object(r),!0).forEach((function(t){$f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({cx:r,cy:o,r:void 0===i?4:i,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape"},e))}function tp(e){return(tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return np(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?np(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function np(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function op(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ip(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ap(e,t,r){return t&&ip(e.prototype,t),r&&ip(e,r),e}function cp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&up(e,t)}function up(e,t){return(up=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=pp(e);if(t){var o=pp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return lp(this,r)}}function lp(e,t){if(t&&("object"===tp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fp(e)}function fp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pp(e){return(pp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hp,yp=function(e){cp(r,e);var t=sp(r);function r(e){var n;op(this,r),dp(fp(n=t.call(this)),"dragHandler",void 0),dp(fp(n),"onDraging",(function(e){var t=e.deltaX,r=e.deltaY,o=n.props,i=o.graphModel,a=o.bezierModel,c=o.type,u=i.transformMatrix,s=n.state,l=s.endX,f=s.endY,p=rp(u.moveCanvasPointByHtml([l,f],t,r),2),d=p[0],h=p[1];n.setState({endX:d,endY:h}),a.updateAdjustAnchor({x:d,y:h},c)})),dp(fp(n),"onDragEnd",(function(){var e=n.state,t=e.endX,r=e.endY,o=n.props,i=o.bezierModel,a=o.type;i.updateAdjustAnchor({x:t,y:r},a)})),n.dragHandler=Al({onDraging:n.onDraging,onDragEnd:n.onDragEnd});var o=e.position;return n.state={endX:o.x,endY:o.y},n}return ap(r,[{key:"render",value:function(){var e,t,r,n=this.props.position,o=n.x,i=n.y,a=null===(e=this.props)||void 0===e||null===(t=e.graphModel)||void 0===t||null===(r=t.theme)||void 0===r?void 0:r.bezier;return b(ep,{className:"lf-bezier-adjust-anchor",x:o,y:i,r:4,stroke:a.adjustAnchorStroke,fill:a.adjustAnchorFill,fillOpacity:a.adjustAnchorFillOpacity,onMouseDown:this.dragHandler})}}]),r}(x),vp=wO(qf=function(e){cp(r,e);var t=sp(r);function r(){return op(this,r),t.apply(this,arguments)}return ap(r,[{key:"getBezierAdjust",value:function(e,t){var r=e.path,n=rp(sl(r),4),o=n[0],i=n[1],a=n[2],c=n[3],u=t.theme.bezier.adjustLineColor,s=[];return s.push(b(kf,{x1:o.x,y1:o.y,x2:i.x,y2:i.y,stroke:u})),s.push(b(yp,{position:i,bezierModel:e,graphModel:t,type:"sNext"})),s.push(b(kf,{x1:c.x,y1:c.y,x2:a.x,y2:a.y,stroke:u})),s.push(b(yp,{position:a,bezierModel:e,graphModel:t,type:"ePre"})),s}},{key:"selectedBezierEdge",value:function(){for(var e=this.props.graphModel,t=e.edges,r=[],n=0;n<t.length;n++){var o=t[n];o.isSelected&&o.modelType===_a.BEZIER_EDGE&&o.draggable&&r.push(this.getBezierAdjust(o,e))}return r}},{key:"render",value:function(){return b("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),r}(x))||qf;function bp(e){return(bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gp(){return(gp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function mp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Op(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xp(e,t){return(xp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=jp(e);if(t){var o=jp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _p(this,r)}}function _p(e,t){if(t&&("object"===bp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function jp(e){return(jp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ep=wO(hp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xp(e,t)}(i,e);var t,r,n,o=wp(i);function i(){return mp(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"getComponent",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"canvas-overlay";return b((0,this.props.getView)(e.type),{key:e.id,model:e,graphModel:t,overlay:n,eventCenter:r})}},{key:"render",value:function(){var e=this,t=this.props,r=t.graphModel,n=t.tool,o=t.options,i=t.eventCenter,a=t.dnd,c=t.snaplineModel,u={};o.width&&(u.width="".concat(o.width,"px")),o.height&&(u.height="".concat(o.height,"px"));var s=r.fakerNode,l=r.editConfig.adjustEdge;return b("div",{className:"lf-graph",style:u},b(Zl,{graphModel:r,eventCenter:i,dnd:a},b("g",{className:"lf-base"},Ai(r.sortElements,(function(t){return e.getComponent(t,r,i)}))),s?this.getComponent(s,r,i):"",b(Qf,{graphModel:r}),l?b(vp,{graphModel:r}):"",o.isSilentMode||!1===o.snapline?"":b(zf,{snaplineModel:c})),b(af,{graphModel:r,tool:n}),o.background&&b(yf,{background:o.background}),o.grid&&b(Ef,gp({},o.grid,{graphModel:r})))}}])&&Op(t.prototype,r),n&&Op(t,n),i}(x))||hp;function Sp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sp(Object(r),!0).forEach((function(t){kp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ap(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Np=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),kp(this,"nodeConfig",void 0),kp(this,"lf",void 0),kp(this,"options",void 0),kp(this,"fakerNode",void 0),kp(this,"stopDrag",(function(){r.nodeConfig=null,window.document.removeEventListener("mouseup",r.stopDrag)})),kp(this,"dragEnter",(function(e){r.nodeConfig&&!r.fakerNode&&(r.fakerNode=r.lf.createFakerNode(Pp(Pp({},r.nodeConfig),r.clientToLocalPoint({x:e.clientX,y:e.clientY}))))})),kp(this,"onDragOver",(function(e){if(e.preventDefault(),r.fakerNode){var t=r.clientToLocalPoint({x:e.clientX,y:e.clientY}),n=t.x,o=t.y;r.fakerNode.moveTo(n,o);var i=r.fakerNode.getData();r.lf.setNodeSnapLine(i),r.lf.eventCenter.emit(Ea.NODE_DND_DRAG,{data:i})}return!1})),kp(this,"onDragLeave",(function(){r.fakerNode&&(r.lf.removeNodeSnapLine(),r.lf.graphModel.removeFakerNode(),r.fakerNode=null)})),kp(this,"onDrop",(function(e){if(r.lf.graphModel&&e&&r.nodeConfig){var t=r.lf.addNode(Pp(Pp({},r.nodeConfig),r.clientToLocalPoint({x:e.clientX,y:e.clientY})));e.preventDefault(),e.stopPropagation(),r.nodeConfig=null,r.lf.removeNodeSnapLine(),r.lf.graphModel.removeFakerNode(),r.fakerNode=null;var n=t.getData();r.lf.eventCenter.emit(Ea.NODE_DND_ADD,{data:n})}}));var n=t.options,o=t.lf;this.lf=o,this.options=n}var t,r,n;return t=e,(r=[{key:"clientToLocalPoint",value:function(e){var t=e.x,r=e.y,n=yi(this.lf.options,["grid","size"]),o=this.lf.graphModel.getPointByClient({x:t,y:r}).canvasOverlayPosition,i=o.x,a=o.y;return{x:Dc(i,n),y:Dc(a,n)}}},{key:"startDrag",value:function(e){this.nodeConfig=e,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Ap(t.prototype,r),n&&Ap(t,n),e}();function Dp(e){var t=e.container,r=e.grid;if(!t)throw new Error("\u8bf7\u68c0\u67e5 container \u53c2\u6570\u662f\u5426\u6709\u6548");return r&&(e.grid=Yi({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},r)),Yi({},Cp,e)}var Mp,Tp,Cp={background:!1,grid:!1,textEdit:!0};function Rp(e){return(Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ip(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zp(Object(r),!0).forEach((function(t){Wp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fp(e,t,r){return(Fp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vp(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Up(e,t){return(Up=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Vp(e);if(t){var o=Vp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Hp(this,r)}}function Hp(e,t){if(t&&("object"===Rp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yp(e)}function Yp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vp(e){return(Vp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kp(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Zp,qp,Qp,Jp,$p,ed,td,rd,nd,od,id,ad,cd,ud,sd,ld,fd,pd,dd,hd,yd,vd,bd,gd,md,Od=(Tp=Kp((Mp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Up(e,t)}(i,e);var t,r,n,o=Xp(i);function i(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Wp(Yp(r=o.call(this,e,t,"bezier")),"modelType",_a.BEZIER_EDGE),Wp(Yp(r),"offset",Sc.bezier.offset),function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(Yp(r),"path",Tp,Yp(r)),r}return t=i,(r=[{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var e=0,t=0;return this.pointsList.forEach((function(r){var n=r.x,o=r.y;e+=n,t+=o})),{x:e/this.pointsList.length,y:t/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var e=Fp(Vp(i.prototype),"getData",this).call(this),t=this.pointsList.map((function(e){return{x:e.x,y:e.y}}));return Bp(Bp({},e),{},{pointsList:t})}},{key:"getControls",value:function(){return function(e){var t=e.start,r=e.end,n=e.sourceNode,o=e.targetNode,i=e.offset,a=ju(n),c=ju(o),u=Gs(a,i),s=Gs(c,i);return{sNext:Fs(u,t),ePre:Fs(s,r)}}({start:this.startPoint,end:this.endPoint,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(e){var t=Ip(e,4),r=t[0],n=t[1],o=t[2],i=t[3];return"M ".concat(r.x," ").concat(r.y,"\n    C ").concat(n.x," ").concat(n.y,",\n    ").concat(o.x," ").concat(o.y,",\n    ").concat(i.x," ").concat(i.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var e={x:this.startPoint.x,y:this.startPoint.y},t={x:this.endPoint.x,y:this.endPoint.y},r=this.getControls(),n=r.sNext,o=r.ePre;this.pointsList=[e,n,o,t],this.path=this.getPath(this.pointsList)}},{key:"updatePath",value:function(){var e={x:this.startPoint.x,y:this.startPoint.y},t={x:this.endPoint.x,y:this.endPoint.y},r=Ip(this.pointsList,3),n=r[1],o=r[2];this.pointsList=[e,n,o,t],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(e){this.startPoint=e,this.updatePath()}},{key:"updateEndPoint",value:function(e){this.endPoint=e,this.updatePath()}},{key:"updateAdjustAnchor",value:function(e,t){"sNext"===t?this.pointsList[1]=e:"ePre"===t&&(this.pointsList[2]=e),this.path=this.getPath(this.pointsList)}}])&&Gp(t.prototype,r),n&&Gp(t,n),i}(Xu)).prototype,"path",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Kp(Mp.prototype,"initPoints",[f.i],Object.getOwnPropertyDescriptor(Mp.prototype,"initPoints"),Mp.prototype),Kp(Mp.prototype,"updatePoints",[f.i],Object.getOwnPropertyDescriptor(Mp.prototype,"updatePoints"),Mp.prototype),Kp(Mp.prototype,"updatePath",[f.i],Object.getOwnPropertyDescriptor(Mp.prototype,"updatePath"),Mp.prototype),Kp(Mp.prototype,"updateStartPoint",[f.i],Object.getOwnPropertyDescriptor(Mp.prototype,"updateStartPoint"),Mp.prototype),Kp(Mp.prototype,"updateEndPoint",[f.i],Object.getOwnPropertyDescriptor(Mp.prototype,"updateEndPoint"),Mp.prototype),Kp(Mp.prototype,"updateAdjustAnchor",[f.i],Object.getOwnPropertyDescriptor(Mp.prototype,"updateAdjustAnchor"),Mp.prototype),Mp);function xd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xd(Object(r),!0).forEach((function(t){Ad(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _d(e){return(_d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jd(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Ed(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ed(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Ed(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sd(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Pd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ad(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kd(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}r(38);var Nd,Dd,Md=Yi({x:0,y:0,zIndex:1,text:{value:"",x:0,y:0,draggable:!1,editable:!0}},Sc.rect,Sc.circle),Td=(qp=kd((Zp=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ad(this,"id",Yc()),Ad(this,"BaseType",ja.NODE),Ad(this,"modelType",_a.NODE),Ad(this,"additionStateData",void 0),Ad(this,"targetRules",[]),Ad(this,"sourceRules",[]),Ad(this,"moveRules",[]),Ad(this,"hasSetTargetRules",!1),Ad(this,"hasSetSourceRules",!1),Sd(this,"properties",qp,this),Sd(this,"type",Qp,this),Sd(this,"x",Jp,this),Sd(this,"y",$p,this),Sd(this,"_width",ed,this),Ad(this,"graphModel",void 0),Sd(this,"_height",td,this),Sd(this,"fill",rd,this),Sd(this,"fillOpacity",nd,this),Sd(this,"strokeWidth",od,this),Sd(this,"stroke",id,this),Sd(this,"strokeOpacity",ad,this),Sd(this,"opacity",cd,this),Sd(this,"outlineColor",ud,this),Sd(this,"hoverOutlineColor",sd,this),Sd(this,"outlineStrokeDashArray",ld,this),Sd(this,"hoverOutlineStrokeDashArray",fd,this),Sd(this,"isSelected",pd,this),Sd(this,"isHovered",dd,this),Sd(this,"isHitable",hd,this),Sd(this,"zIndex",yd,this),Sd(this,"anchorsOffset",vd,this),Sd(this,"state",bd,this),Sd(this,"text",gd,this),Sd(this,"draggable",md,this),this.graphModel=r,this.setStyleFromTheme(n,r),this.initNodeData(t),this.setAttributes()}var t,r,n;return t=e,(r=[{key:"width",get:function(){return this._width},set:function(e){this._width=e}},{key:"height",get:function(){return this._height},set:function(e){this._height=e}},{key:"initNodeData",value:function(e){if(e.properties||(e.properties={}),!e.id){var t=this.graphModel.idGenerator,r=t&&t();r&&(e.id=r);var n=this.createId();n&&(e.id=n)}this.formatText(e),Yi(this,function(e){return $i(e,["id","type","x","y","text","properties"])}(e))}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(e){e.text||(e.text={value:"",x:e.x,y:e.y,draggable:!1,editable:!0}),e.text&&"string"==typeof e.text?e.text={value:e.text,x:e.x,y:e.y,draggable:!1,editable:!0}:e.text&&void 0===e.text.editable&&(e.text.editable=!0)}},{key:"setAttributes",value:function(){}},{key:"getData",value:function(){var e=this.text,t=e.x,r=e.y,n=e.value,o=this.properties;Object(f.v)(o)&&(o=Object(f.G)(o));var i={id:this.id,type:this.type,x:this.x,y:this.y,properties:o};return n&&(i.text={x:t,y:r,value:n}),i}},{key:"getProperties",value:function(){return Object(f.G)(this.properties)}},{key:"isAllowConnectedAsSource",value:function(e){var t=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var r,n=!0,o=0;o<t.length;o++){var i=t[o];if(!i.validate.call(this,this,e)){n=!1,r=i.message;break}}return{isAllPass:n,msg:r}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(e){var t=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var r,n=!0,o=0;o<t.length;o++){var i=t[o];if(!i.validate.call(this,e,this)){n=!1,r=i.message;break}}return{isAllPass:n,msg:r}}},{key:"isAllowMoveNode",value:function(e,t){var r,n=jd(this.moveRules);try{for(n.s();!(r=n.n()).done;)if(!(0,r.value)(this,e,t))return!1}catch(e){n.e(e)}finally{n.f()}var o,i=jd(this.graphModel.nodeMoveRules);try{for(i.s();!(o=i.n()).done;)if(!(0,o.value)(this,e,t))return!1}catch(e){i.e(e)}finally{i.f()}return!0}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var e=this.anchorsOffset,t=this.x,r=this.y,n=this.id;return e.map((function(e,o){return e.length?{id:"".concat(n,"_").concat(o),x:t+e[0],y:r+e[1]}:{x:t+e.x,y:r+e.y,id:e.id||"".concat(n,"_").concat(o)}}))}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var e=this.anchorsOffset;return e&&e.length>0?this.getAnchorsByOffset():[]}},{key:"addNodeMoveRules",value:function(e){this.moveRules.includes(e)||this.moveRules.push(e)}},{key:"move",value:function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.isAllowMoveNode(e,t)){var r=this.x+e,n=this.y+t;this.x=r,this.y=n,this.text&&this.moveText(e,t)}}},{key:"moveTo",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e-this.x,o=t-this.y;(r||this.isAllowMoveNode(n,o))&&(this.text&&this.text&&this.moveText(n,o),this.x=e,this.y=t)}},{key:"moveText",value:function(e,t){var r=this.text,n=r.x,o=r.y,i=r.value,a=r.draggable,c=r.editable;this.text={value:i,editable:c,draggable:a,x:n+e,y:o+t}}},{key:"updateText",value:function(e){this.text.value=e}},{key:"setSelected",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=e}},{key:"setHovered",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=e}},{key:"setHitable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=e}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"updateStroke",value:function(e){this.stroke=e}},{key:"updateData",value:function(e){var t=Cu($i(e,"type","x","y","text","properties")),r=this.text,n=r.x,o=r.y,i=r.draggable,a=r.editable;if(t.text&&"string"==typeof t.text)t.text={x:n,y:o,value:t.text,draggable:i,editable:a};else if("object"===_d(t.text)){var c=wd(wd({},this.text),t.text);t.text=$i(c,"x","y","value","draggable","editable")}Yi(this,t)}},{key:"setProperty",value:function(e,t){this.properties=wd(wd({},this.properties),{},Ad({},e,Cu(t))),this.setAttributes()}},{key:"setProperties",value:function(e){this.properties=wd(wd({},this.properties),Cu(e)),this.setAttributes()}},{key:"setStyleFromTheme",value:function(e,t){var r=t.theme;r[e]&&Yi(this,r[e])}},{key:"setZIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Md.zIndex;this.zIndex=e}},{key:"updateAttributes",value:function(e){Yi(this,e)}}])&&Pd(t.prototype,r),n&&Pd(t,n),e}()).prototype,"properties",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Qp=kd(Zp.prototype,"type",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Jp=kd(Zp.prototype,"x",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Md.x}}),$p=kd(Zp.prototype,"y",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Md.y}}),ed=kd(Zp.prototype,"_width",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Md.width}}),td=kd(Zp.prototype,"_height",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Md.height}}),rd=kd(Zp.prototype,"fill",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Md.fill}}),nd=kd(Zp.prototype,"fillOpacity",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Md.fillOpacity}}),od=kd(Zp.prototype,"strokeWidth",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Md.strokeWidth}}),id=kd(Zp.prototype,"stroke",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Md.stroke}}),ad=kd(Zp.prototype,"strokeOpacity",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Md.strokeOpacity}}),cd=kd(Zp.prototype,"opacity",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Md.opacity}}),ud=kd(Zp.prototype,"outlineColor",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Md.outlineColor}}),sd=kd(Zp.prototype,"hoverOutlineColor",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Md.hoverOutlineColor}}),ld=kd(Zp.prototype,"outlineStrokeDashArray",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Md.outlineStrokeDashArray}}),fd=kd(Zp.prototype,"hoverOutlineStrokeDashArray",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Md.hoverOutlineStrokeDashArray}}),pd=kd(Zp.prototype,"isSelected",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dd=kd(Zp.prototype,"isHovered",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hd=kd(Zp.prototype,"isHitable",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),yd=kd(Zp.prototype,"zIndex",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Md.zIndex}}),vd=kd(Zp.prototype,"anchorsOffset",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bd=kd(Zp.prototype,"state",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),gd=kd(Zp.prototype,"text",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Md.text}}),md=kd(Zp.prototype,"draggable",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),kd(Zp.prototype,"addNodeMoveRules",[f.i],Object.getOwnPropertyDescriptor(Zp.prototype,"addNodeMoveRules"),Zp.prototype),kd(Zp.prototype,"move",[f.i],Object.getOwnPropertyDescriptor(Zp.prototype,"move"),Zp.prototype),kd(Zp.prototype,"moveTo",[f.i],Object.getOwnPropertyDescriptor(Zp.prototype,"moveTo"),Zp.prototype),kd(Zp.prototype,"moveText",[f.i],Object.getOwnPropertyDescriptor(Zp.prototype,"moveText"),Zp.prototype),kd(Zp.prototype,"updateText",[f.i],Object.getOwnPropertyDescriptor(Zp.prototype,"updateText"),Zp.prototype),kd(Zp.prototype,"setSelected",[f.i],Object.getOwnPropertyDescriptor(Zp.prototype,"setSelected"),Zp.prototype),kd(Zp.prototype,"setHovered",[f.i],Object.getOwnPropertyDescriptor(Zp.prototype,"setHovered"),Zp.prototype),kd(Zp.prototype,"setHitable",[f.i],Object.getOwnPropertyDescriptor(Zp.prototype,"setHitable"),Zp.prototype),kd(Zp.prototype,"setElementState",[f.i],Object.getOwnPropertyDescriptor(Zp.prototype,"setElementState"),Zp.prototype),kd(Zp.prototype,"updateStroke",[f.i],Object.getOwnPropertyDescriptor(Zp.prototype,"updateStroke"),Zp.prototype),kd(Zp.prototype,"updateData",[f.i],Object.getOwnPropertyDescriptor(Zp.prototype,"updateData"),Zp.prototype),kd(Zp.prototype,"setProperty",[f.i],Object.getOwnPropertyDescriptor(Zp.prototype,"setProperty"),Zp.prototype),kd(Zp.prototype,"setProperties",[f.i],Object.getOwnPropertyDescriptor(Zp.prototype,"setProperties"),Zp.prototype),kd(Zp.prototype,"setStyleFromTheme",[f.i],Object.getOwnPropertyDescriptor(Zp.prototype,"setStyleFromTheme"),Zp.prototype),kd(Zp.prototype,"setZIndex",[f.i],Object.getOwnPropertyDescriptor(Zp.prototype,"setZIndex"),Zp.prototype),kd(Zp.prototype,"updateAttributes",[f.i],Object.getOwnPropertyDescriptor(Zp.prototype,"updateAttributes"),Zp.prototype),Zp);function Cd(e){return(Cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Id(e,t){return(Id=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ld(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Gd(e);if(t){var o=Gd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return zd(this,r)}}function zd(e,t){if(t&&("object"===Cd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bd(e)}function Bd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gd(e){return(Gd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fd(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Ud,Xd,Hd,Yd=(Dd=Fd((Nd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Id(e,t)}(i,e);var t,r,n,o=Ld(i);function i(e,t){var r,n,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=Bd(r=o.call(this,e,t,"circle")),a="modelType",c=_a.CIRCLE_NODE,a in n?Object.defineProperty(n,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[a]=c,function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(Bd(r),"r",Dd,Bd(r)),r}return t=i,(r=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"anchors",get:function(){var e=this.anchorsOffset,t=this.x,r=this.y,n=this.r;return e&&e.length>0?this.getAnchorsByOffset():[{x:t,y:r-n,id:"".concat(this.id,"_0")},{x:t+n,y:r,id:"".concat(this.id,"_1")},{x:t,y:r+n,id:"".concat(this.id,"_2")},{x:t-n,y:r,id:"".concat(this.id,"_3")}]}}])&&Rd(t.prototype,r),n&&Rd(t,n),i}(Td)).prototype,"r",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sc.circle.r}}),Fd(Nd.prototype,"width",[f.k],Object.getOwnPropertyDescriptor(Nd.prototype,"width"),Nd.prototype),Fd(Nd.prototype,"height",[f.k],Object.getOwnPropertyDescriptor(Nd.prototype,"height"),Nd.prototype),Fd(Nd.prototype,"anchors",[f.k],Object.getOwnPropertyDescriptor(Nd.prototype,"anchors"),Nd.prototype),Nd);function Vd(e){return(Vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Kd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zd(Object(r),!0).forEach((function(t){ih(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qd(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Jd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $d(e,t,r){return($d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oh(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function eh(e,t){return(eh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function th(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=oh(e);if(t){var o=oh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return rh(this,r)}}function rh(e,t){if(t&&("object"===Vd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nh(e)}function nh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oh(e){return(oh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ih(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ah(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}r(102);var ch,uh,sh,lh=(Xd=ah((Ud=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eh(e,t)}(i,e);var t,r,n,o=th(i);function i(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ih(nh(r=o.call(this,e,t,"diamond")),"modelType",_a.DIAMOND_NODE),Qd(nh(r),"rx",Xd,nh(r)),Qd(nh(r),"ry",Hd,nh(r)),r}return t=i,(r=[{key:"getData",value:function(){var e=this.rx,t=this.ry;return qd(qd({},$d(oh(i.prototype),"getData",this).call(this)),{},{rx:e,ry:t})}},{key:"points",get:function(){var e=this.x,t=this.y,r=this.rx,n=this.ry;return[[e,t-n],[e+r,t],[e,t+n],[e-r,t]]}},{key:"pointsPosition",get:function(){return this.points.map((function(e){return{x:e[0],y:e[1]}}))}},{key:"width",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(r){var n=Wd(r,1)[0];n<e&&(e=n),n>t&&(t=n)})),t-e}},{key:"height",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(r){var n=Wd(r,2)[1];n<e&&(e=n),n>t&&(t=n)})),t-e}},{key:"anchors",get:function(){var e=this,t=this.anchorsOffset,r=this.points;return t&&t.length>0?this.getAnchorsByOffset():r.map((function(t,r){var n=Wd(t,2);return{x:n[0],y:n[1],id:"".concat(e.id,"_").concat(r)}}))}}])&&Jd(t.prototype,r),n&&Jd(t,n),i}(Td)).prototype,"rx",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hd=ah(Ud.prototype,"ry",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ah(Ud.prototype,"points",[f.k],Object.getOwnPropertyDescriptor(Ud.prototype,"points"),Ud.prototype),ah(Ud.prototype,"pointsPosition",[f.k],Object.getOwnPropertyDescriptor(Ud.prototype,"pointsPosition"),Ud.prototype),ah(Ud.prototype,"width",[f.k],Object.getOwnPropertyDescriptor(Ud.prototype,"width"),Ud.prototype),ah(Ud.prototype,"height",[f.k],Object.getOwnPropertyDescriptor(Ud.prototype,"height"),Ud.prototype),ah(Ud.prototype,"anchors",[f.k],Object.getOwnPropertyDescriptor(Ud.prototype,"anchors"),Ud.prototype),Ud);function fh(e){return(fh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ph(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function dh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hh(e,t){return(hh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=gh(e);if(t){var o=gh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return vh(this,r)}}function vh(e,t){if(t&&("object"===fh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bh(e)}function bh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gh(e){return(gh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mh(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Oh,xh,wh=(uh=mh((ch=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hh(e,t)}(i,e);var t,r,n,o=yh(i);function i(e,t){var r,n,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=bh(r=o.call(this,e,t,"ellipse")),a="modelType",c=_a.ELLIPSE_NODE,a in n?Object.defineProperty(n,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[a]=c,ph(bh(r),"rx",uh,bh(r)),ph(bh(r),"ry",sh,bh(r)),r}return t=i,(r=[{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"anchors",get:function(){var e=this.anchorsOffset,t=this.x,r=this.y,n=this.rx,o=this.ry;return e&&e.length>0?this.getAnchorsByOffset():[{x:t,y:r-o,id:"".concat(this.id,"_0")},{x:t+n,y:r,id:"".concat(this.id,"_1")},{x:t,y:r+o,id:"".concat(this.id,"_2")},{x:t-n,y:r,id:"".concat(this.id,"_3")}]}}])&&dh(t.prototype,r),n&&dh(t,n),i}(Td)).prototype,"rx",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sc.ellipse.rx}}),sh=mh(ch.prototype,"ry",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sc.ellipse.ry}}),mh(ch.prototype,"width",[f.k],Object.getOwnPropertyDescriptor(ch.prototype,"width"),ch.prototype),mh(ch.prototype,"height",[f.k],Object.getOwnPropertyDescriptor(ch.prototype,"height"),ch.prototype),mh(ch.prototype,"anchors",[f.k],Object.getOwnPropertyDescriptor(ch.prototype,"anchors"),ch.prototype),ch);function _h(e){return(_h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Eh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Eh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ph(e,t){return(Ph=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ah(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Dh(e);if(t){var o=Dh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return kh(this,r)}}function kh(e,t){if(t&&("object"===_h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nh(e)}function Nh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dh(e){return(Dh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mh(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Th,Ch,Rh=(xh=Mh((Oh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ph(e,t)}(i,e);var t,r,n,o=Ah(i);function i(e,t){var r,n,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=Nh(r=o.call(this,e,t,"polygon")),a="modelType",c=_a.POLYGON_NODE,a in n?Object.defineProperty(n,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[a]=c,function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(Nh(r),"points",xh,Nh(r)),r}return t=i,(r=[{key:"pointsPosition",get:function(){var e=this.x,t=this.y,r=this.width,n=this.height;return this.points.map((function(o){return{x:o[0]+e-r/2,y:o[1]+t-n/2}}))}},{key:"width",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(r){var n=jh(r,1)[0];n<e&&(e=n),n>t&&(t=n)})),t-e}},{key:"height",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(r){var n=jh(r,2)[1];n<e&&(e=n),n>t&&(t=n)})),t-e}},{key:"anchors",get:function(){var e=this,t=this.anchorsOffset,r=this.x,n=this.y,o=this.width,i=this.height,a=this.points;return t&&t.length>0?this.getAnchorsByOffset():a.map((function(t,a){var c=jh(t,2),u=c[0],s=c[1];return{x:r+u-o/2,y:n+s-i/2,id:"".concat(e.id,"_").concat(a)}}))}}])&&Sh(t.prototype,r),n&&Sh(t,n),i}(Td)).prototype,"points",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Mh(Oh.prototype,"pointsPosition",[f.k],Object.getOwnPropertyDescriptor(Oh.prototype,"pointsPosition"),Oh.prototype),Mh(Oh.prototype,"width",[f.k],Object.getOwnPropertyDescriptor(Oh.prototype,"width"),Oh.prototype),Mh(Oh.prototype,"height",[f.k],Object.getOwnPropertyDescriptor(Oh.prototype,"height"),Oh.prototype),Mh(Oh.prototype,"anchors",[f.k],Object.getOwnPropertyDescriptor(Oh.prototype,"anchors"),Oh.prototype),Oh);function Ih(e){return(Ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zh(e,t){return(zh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Uh(e);if(t){var o=Uh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Gh(this,r)}}function Gh(e,t){if(t&&("object"===Ih(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fh(e)}function Fh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uh(e){return(Uh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xh(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Hh,Yh,Vh,Wh,Kh=(Ch=Xh((Th=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zh(e,t)}(i,e);var t,r,n,o=Bh(i);function i(e,t){var r,n,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=Fh(r=o.call(this,e,t,"rect")),a="modelType",c=_a.RECT_NODE,a in n?Object.defineProperty(n,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[a]=c,function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(Fh(r),"radius",Ch,Fh(r)),r}return t=i,(r=[{key:"anchors",get:function(){var e=this.anchorsOffset,t=this.x,r=this.y,n=this.width,o=this.height;return e&&e.length>0?this.getAnchorsByOffset():[{x:t,y:r-o/2,id:"".concat(this.id,"_0")},{x:t+n/2,y:r,id:"".concat(this.id,"_1")},{x:t,y:r+o/2,id:"".concat(this.id,"_2")},{x:t-n/2,y:r,id:"".concat(this.id,"_3")}]}}])&&Lh(t.prototype,r),n&&Lh(t,n),i}(Td)).prototype,"radius",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sc.rect.radius}}),Xh(Th.prototype,"anchors",[f.k],Object.getOwnPropertyDescriptor(Th.prototype,"anchors"),Th.prototype),Th);function Zh(e){return(Zh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qh(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Qh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jh(e,t){return(Jh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ry(e);if(t){var o=ry(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ey(this,r)}}function ey(e,t){if(t&&("object"===Zh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ty(e)}function ty(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ry(e){return(ry=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ny(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var oy,iy=(Yh=ny((Hh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jh(e,t)}(i,e);var t,r,n,o=$h(i);function i(e,t){var r,n,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=ty(r=o.call(this,e,t,"text")),a="modelType",c=_a.TEXT_NODE,a in n?Object.defineProperty(n,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[a]=c,qh(ty(r),"fontSize",Yh,ty(r)),qh(ty(r),"fontFamily",Vh,ty(r)),qh(ty(r),"fontWeight",Wh,ty(r)),r}return t=i,(r=[{key:"width",get:function(){var e=String(this.text.value).split(/[\r\n]/g),t=Mu({rows:e,fontSize:this.fontSize,rowsLength:e.length}).width;return t>100?t:100}},{key:"height",get:function(){var e=String(this.text.value).split(/[\r\n]/g),t=Mu({rows:e,fontSize:this.fontSize,rowsLength:e.length}).height;return t>20?t:20}}])&&Qh(t.prototype,r),n&&Qh(t,n),i}(Td)).prototype,"fontSize",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sc.text.fontSize}}),Vh=ny(Hh.prototype,"fontFamily",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sc.text.fontFamily}}),Wh=ny(Hh.prototype,"fontWeight",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sc.text.fontWeight}}),ny(Hh.prototype,"width",[f.k],Object.getOwnPropertyDescriptor(Hh.prototype,"width"),Hh.prototype),ny(Hh.prototype,"height",[f.k],Object.getOwnPropertyDescriptor(Hh.prototype,"height"),Hh.prototype),Hh);function ay(e){return(ay="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uy(e,t){return(uy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=py(e);if(t){var o=py(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ly(this,r)}}function ly(e,t){if(t&&("object"===ay(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fy(e)}function fy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function py(e){return(py=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dy,hy,yy,vy,by=(function(e,t,r,n,o){var i={};Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((oy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uy(e,t)}(i,e);var t,r,n,o=sy(i);function i(e,t){var r,n,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=fy(r=o.call(this,e,t,"html")),a="modelType",c=_a.HTML_NODE,a in n?Object.defineProperty(n,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[a]=c,r}return t=i,(r=[{key:"anchors",get:function(){var e=this.anchorsOffset,t=this.x,r=this.y,n=this.width,o=this.height;return e&&e.length>0?this.getAnchorsByOffset():[{x:t,y:r-o/2,id:"".concat(this.id,"_0")},{x:t+n/2,y:r,id:"".concat(this.id,"_1")},{x:t,y:r+o/2,id:"".concat(this.id,"_2")},{x:t-n/2,y:r,id:"".concat(this.id,"_3")}]}}])&&cy(t.prototype,r),n&&cy(t,n),i}(Td)).prototype,"anchors",[f.k],Object.getOwnPropertyDescriptor(oy.prototype,"anchors"),oy.prototype),oy);function gy(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function my(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Oy(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var xy=Sc.snapline,wy=(hy=Oy((dy=function(){function e(t){var r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=void 0,(n="graphModel")in(r=this)?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,gy(this,"isShowHorizontal",hy,this),gy(this,"isShowVertical",yy,this),gy(this,"position",vy,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=t}var t,r,n;return t=e,(r=[{key:"stroke",get:function(){return this.graphModel.theme.snapline.stroke||xy.stroke}},{key:"strokeWidth",get:function(){return this.graphModel.theme.snapline.strokeWidth||xy.strokeWidth}},{key:"getCenterSnapLine",value:function(e,t){for(var r=e.x,n=e.y,o=!1,i=!1,a=0;a<t.length;a++){var c=t[a];if(c.id!==e.id&&(r===c.x&&(o=!0),n===c.y&&(i=!0),o&&i))break}return{isShowVertical:o,isShowHorizontal:i,position:{x:r,y:n}}}},{key:"getHorizontalSnapline",value:function(e,t){var r,n,o=!1,i=e.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)n=ju(a);else{var c=this.graphModel.getNodeModel(i);n=ju(c)}}for(var u=0;u<t.length;u++){var s=t[u];if(s.id!==e.id){var l=ju(s);if(l.minY===n.minY||l.maxY===n.minY){o=!0,r=n.minY;break}if(l.minY===n.maxY||l.maxY===n.maxY){o=!0,r=n.maxY;break}}}return Yi({isShowHorizontal:o,position:{y:r}})}},{key:"getVerticalSnapline",value:function(e,t){var r,n,o=!1,i=e.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)n=ju(a);else{var c=this.graphModel.getNodeModel(i);n=ju(c)}}for(var u=0;u<t.length;u++){var s=t[u];if(s.id!==e.id){var l=ju(s);if(l.minX===n.minX||l.maxX===n.minX){o=!0,r=n.minX;break}if(l.minX===n.maxX||l.maxX===n.maxX){o=!0,r=n.maxX;break}}}return Yi({isShowVertical:o,position:{x:r}})}},{key:"getSnapLinePosition",value:function(e,t){var r=this.getCenterSnapLine(e,t),n=r.isShowHorizontal,o=r.isShowVertical;if(!n){var i=this.getHorizontalSnapline(e,t);i.isShowHorizontal&&(r.isShowHorizontal=i.isShowHorizontal,r.position.y=i.position.y)}if(!o){var a=this.getVerticalSnapline(e,t);a.isShowVertical&&(r.isShowVertical=a.isShowVertical,r.position.x=a.position.x)}return r}},{key:"setSnaplineInfo",value:function(e){var t=e.isShowHorizontal,r=e.isShowVertical,n=e.position;this.position=n,this.isShowHorizontal=t,this.isShowVertical=r}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(e){var t=this.graphModel.nodes,r=this.getSnapLinePosition(e,t);this.setSnaplineInfo(r)}}])&&my(t.prototype,r),n&&my(t,n),e}()).prototype,"isShowHorizontal",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yy=Oy(dy.prototype,"isShowVertical",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vy=Oy(dy.prototype,"position",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oy(dy.prototype,"stroke",[f.k],Object.getOwnPropertyDescriptor(dy.prototype,"stroke"),dy.prototype),Oy(dy.prototype,"strokeWidth",[f.k],Object.getOwnPropertyDescriptor(dy.prototype,"strokeWidth"),dy.prototype),Oy(dy.prototype,"clearSnapline",[f.i],Object.getOwnPropertyDescriptor(dy.prototype,"clearSnapline"),dy.prototype),Oy(dy.prototype,"setNodeSnapLine",[f.i],Object.getOwnPropertyDescriptor(dy.prototype,"setNodeSnapLine"),dy.prototype),dy);function _y(e){return(_y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jy(){return(jy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ey(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Py(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ay(e,t){return(Ay=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ky(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=My(e);if(t){var o=My(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ny(this,r)}}function Ny(e,t){if(t&&("object"===_y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dy(e)}function Dy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function My(e){return(My=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Cy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ay(e,t)}(i,e);var t,r,n,o=ky(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ty(Dy(e=o.call(this)),"preTargetNode",void 0),Ty(Dy(e),"dragHandler",void 0),Ty(Dy(e),"sourceRuleResults",void 0),Ty(Dy(e),"targetRuleResults",void 0),Ty(Dy(e),"onDragStart",(function(){var t=e.props,r=t.x,n=t.y,o=t.nodeModel,i=t.graphModel;i.selectNodeById(o.id),i.toFront(o.id),e.setState({startX:r,startY:n,endX:r,endY:n})})),Ty(Dy(e),"onDraging",(function(t){var r=t.deltaX,n=t.deltaY,o=e.state,i=o.endX,a=o.endY,c=e.props,u=c.graphModel,s=c.nodeModel,l=u.transformMatrix,f=u.nodes,p=Ey(l.moveCanvasPointByHtml([i,a],r,n),2),d=p[0],h=p[1];e.setState({endX:d,endY:h,draging:!0});var y=mu({x:i,y:a},f);if(y){var v=y.node;if(e.preTargetNode=v,!e.targetRuleResults.has(v.id)){var b=s.isAllowConnectedAsSource(v),g=v.isAllowConnectedAsTarget(s);e.sourceRuleResults.set(v.id,Tu(b)),e.targetRuleResults.set(v.id,Tu(g))}var m=e.sourceRuleResults.get(v.id).isAllPass,O=e.targetRuleResults.get(v.id).isAllPass;m&&O?v.setElementState(xa.ALLOW_CONNECT):v.setElementState(xa.NOT_ALLOW_CONNECT)}else e.preTargetNode&&e.preTargetNode.state!==xa.DEFAULT&&e.preTargetNode.setElementState(xa.DEFAULT)})),Ty(Dy(e),"onDragEnd",(function(){e.checkEnd(),e.setState({startX:0,startY:0,endX:0,endY:0,draging:!1})})),Ty(Dy(e),"checkEnd",(function(){var t=e.props,r=t.graphModel,n=t.nodeModel,o=t.x,i=t.y,a=t.eventCenter,c=t.id,u=r.nodes,s=r.edgeType,l=e.state,f=l.endX,p=l.endY,d=l.draging,h=mu({x:f,y:p},u);if(e.preTargetNode&&e.preTargetNode.state!==xa.DEFAULT&&e.preTargetNode.setElementState(xa.DEFAULT),d&&h&&h.node){var y=h.node,v=e.sourceRuleResults.get(y.id)||{},b=v.isAllPass,g=v.msg,m=e.targetRuleResults.get(y.id)||{},O=m.isAllPass,x=m.msg;if(b&&O)y.setElementState(xa.ALLOW_CONNECT),o===h.anchor.x&&i===h.anchor.y||r.createEdge({type:s,sourceNodeId:n.id,sourceAnchorId:c,startPoint:{x:o,y:i},targetNodeId:h.node.id,targetAnchorId:h.anchor.id,endPoint:{x:h.anchor.x,y:h.anchor.y}});else{var w=y.getData();a.emit(Ea.CONNECTION_NOT_ALLOWED,{data:w,msg:x||g})}}})),e.sourceRuleResults=new Map,e.targetRuleResults=new Map,e.state={startX:0,startY:0,endX:0,endY:0,draging:!1},e.dragHandler=Al({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd}),e}return t=i,(r=[{key:"isShowLine",value:function(){var e=this.state,t=e.startX,r=e.startY,n=e.endX,o=e.endY;return xu(t,r,n,o)>10}},{key:"render",value:function(){var e=this.state,t=e.startX,r=e.startY,n=e.endX,o=e.endY,i=this.props,a=i.x,c=i.y,u=i.style,s=i.edgeStyle;return b("g",{className:"lf-anchor"},b(ep,jy({className:"lf-node-anchor-hover",x:a,y:c},i.hoverStyle,{onMouseDown:this.dragHandler})),b(ep,jy({className:"lf-node-anchor",x:a,y:c},u,{onMouseDown:this.dragHandler})),this.isShowLine()&&b(kf,jy({x1:t,y1:r,x2:n,y2:o,"pointer-events":"none"},s)))}}])&&Py(t.prototype,r),n&&Py(t,n),i}(x);function Ry(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Iy(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ly(e){var t=e.x,r=void 0===t?0:t,n=e.y,o=void 0===n?0:n,i=e.value,a=e.color,c=void 0===a?"#000000":a,u=e.fontSize,s=e.fill,l=void 0===s?"currentColor":s,f=e.model,p=e.fontFamily,d=void 0===p?"":p,h=e.lineHeight,y=e.autoWrap,v=void 0!==y&&y,g=e.wrapPadding,m=void 0===g?"0, 0":g,O=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ry(Object(r),!0).forEach((function(t){Iy(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ry(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({textAnchor:"middle","dominant-baseline":"middle",x:r,y:o,fill:l},e);if(i){var x=String(i).split(/[\r\n]/g),w=x.length,_=f.BaseType,j=f.width,E=f.textWidth,S=f.modelType;if(_===ja.NODE&&S!==_a.TEXT_NODE&&v||_===ja.EDGE&&v&&E){var P=E||j,A=Du({rows:x,style:{fontSize:"".concat(u,"px"),width:"".concat(P,"px"),fontFamily:d,lineHeight:h,padding:m},rowsLength:w,className:"lf-get-text-height"}),k=f.height>A?f.height:A;return b("g",null,b("foreignObject",{width:P,height:k,x:O.x-P/2,y:O.y-k/2},b("div",{className:"lf-node-text-auto-wrap",style:{boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid transparent",minHeight:f.height,width:P,color:c,padding:m}},b("div",{className:"lf-node-text-auto-wrap-content",style:{fontSize:u,fontFamily:d,lineHeight:h,background:"transparent",textAlign:"center",wordBreak:"break-all"}},x.map((function(e){return b("div",null,e)}))))))}if(w>1){var N=x.map((function(e,t){return b("tspan",{className:"lf-text-tspan",x:r,y:o+(t-(w-1)/2)*(u+2)},e)}));return b("text",O,N)}return b("text",O,i)}}function zy(e){return(zy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function By(){return(By=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Gy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xy(e,t){return(Xy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Wy(e);if(t){var o=Wy(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Yy(this,r)}}function Yy(e,t){if(t&&("object"===zy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vy(e)}function Vy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wy(e){return(Wy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ky(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xy(e,t)}(i,e);var t,r,n,o=Hy(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ky(Vy(t=o.call(this)),"dragHandler",void 0),Ky(Vy(t),"sumDeltaX",0),Ky(Vy(t),"sumDeltaY",0),Ky(Vy(t),"stepDrag",void 0),Ky(Vy(t),"onDraging",(function(e){var r=e.deltaX,n=e.deltaY,o=t.props,i=o.model,a=Gy(o.graphModel.transformMatrix.fixDeltaXY(r,n),2),c=a[0],u=a[1];i.moveText(c,u)})),Ky(Vy(t),"dblClickHandler",(function(){t.props.editable&&t.props.model.setElementState(xa.TEXT_EDIT)})),Ky(Vy(t),"mouseDownHandle",(function(e){var r=t.props,n=r.draggable,o=r.graphModel.editConfig.nodeTextDraggable;(n||o)&&t.stepDrag.handleMouseDown(e)}));var r=e.model,n=e.draggable;return t.stepDrag=new kl({onDraging:t.onDraging,step:1,model:r,isStopPropagation:n}),t}return t=i,(r=[{key:"getShape",value:function(){var e=this.props,t=e.model,r=e.style,n=t.text,o=n.value;return b(Ly,By({},{x:n.x,y:n.y,className:"lf-element-text",value:o},r,{model:t}))}},{key:"render",value:function(){if(this.props.model.text)return b("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&Uy(t.prototype,r),n&&Uy(t,n),i}(x),qy=null!==window.navigator.userAgent.match(/MSIE|Trident/);function Qy(e){return(Qy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jy(){return(Jy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ev(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$y(Object(r),!0).forEach((function(t){sv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ov(e,t){return(ov=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=uv(e);if(t){var o=uv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return av(this,r)}}function av(e,t){if(t&&("object"===Qy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cv(e)}function cv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uv(e){return(uv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ov(e,t)}(i,e);var t,r,n,o=iv(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),sv(cv(t=o.call(this)),"stepDrag",void 0),sv(cv(t),"contextMenuTime",void 0),sv(cv(t),"startTime",void 0),sv(cv(t),"clickTimer",void 0),sv(cv(t),"onDraging",(function(e){var r=e.deltaX,n=e.deltaY,o=t.props,i=o.model,a=o.graphModel;t.state.isDraging||t.setState({isDraging:!0});var c=tv(a.transformMatrix.fixDeltaXY(r,n),2),u=c[0],s=c[1];a.moveNode(i.id,u,s)})),sv(cv(t),"onDragEnd",(function(){t.setState({isDraging:!1})})),sv(cv(t),"handleClick",(function(e){if(t.startTime&&!((new Date).getTime()-t.startTime>200)){var r=t.props,n=r.model,o=r.eventCenter,i=r.graphModel,a={data:n.getData(),e:e,position:i.getPointByClient({x:e.clientX,y:e.clientY})},c=2===e.button,u=2===e.detail;if(!c){u?(i.editConfig.nodeTextEdit&&n.text.editable&&(n.setSelected(!1),i.setElementStateById(n.id,xa.TEXT_EDIT)),o.emit(Ea.NODE_DBCLICK,a)):(o.emit(Ea.ELEMENT_CLICK,a),o.emit(Ea.NODE_CLICK,a));var s=i.editConfig.metaKeyMultipleSelected;i.selectNodeById(n.id,e.metaKey&&s),t.toFront()}}})),sv(cv(t),"handleContextMenu",(function(e){e.preventDefault(),t.contextMenuTime=(new Date).getTime(),t.clickTimer&&clearTimeout(t.clickTimer);var r=t.props,n=r.model,o=r.eventCenter,i=r.graphModel,a=n.getData(),c=i.getPointByClient({x:e.clientX,y:e.clientY});i.setElementStateById(n.id,xa.SHOW_MENU,c.domOverlayPosition),i.selectNodeById(n.id),o.emit(Ea.NODE_CONTEXTMENU,{data:a,e:e,position:c}),t.toFront()})),sv(cv(t),"handleMouseDown",(function(e){var r=t.props,n=r.model,o=r.graphModel;t.toFront(),t.startTime=(new Date).getTime(),o.editConfig.adjustNodePosition&&n.draggable&&t.stepDrag&&t.stepDrag.handleMouseDown(e)})),sv(cv(t),"setHoverON",(function(e){if(!t.state.isHovered){t.setState({isHovered:!0});var r=t.props,n=r.model,o=r.eventCenter,i=n.getData();n.setHovered(!0),o.emit(Ea.NODE_MOUSEENTER,{data:i,e:e})}})),sv(cv(t),"setHoverOFF",(function(e){t.setState({isHovered:!1});var r=t.props,n=r.model,o=r.eventCenter,i=n.getData();n.setHovered(!1),o.emit(Ea.NODE_MOUSELEAVE,{data:i,e:e})})),sv(cv(t),"onMouseOut",(function(e){qy&&t.setHoverOFF(e)}));var r=e.graphModel.gridSize,n=e.eventCenter,a=e.model;return t.stepDrag=new kl({onDraging:t.onDraging,onDragEnd:t.onDragEnd,step:r,eventType:"NODE",eventCenter:n,model:a}),t.state={isDraging:!1,isHovered:!1},t}return t=i,n=[{key:"getModel",value:function(e){return e}}],(r=[{key:"getShapeStyle",value:function(){var e=this.props.model;return{width:e.width,height:e.height,fill:e.fill,fillOpacity:e.fillOpacity,strokeWidth:e.strokeWidth,stroke:e.stroke,strokeOpacity:e.strokeOpacity,opacity:e.opacity,outlineColor:e.outlineColor}}},{key:"getAttributes",value:function(){var e=this.props.model,t=e.id,r=e.properties,n=void 0===r?{}:r,o=e.type,i=e.x,a=e.y,c=e.isSelected,u=e.isHovered,s=e.text,l=this.getShapeStyle();return ev({id:t,properties:ev({},n),type:o,x:i,y:a,isSelected:c,isHovered:u,text:ev({},s)},l)}},{key:"getProperties",value:function(){return this.props.model.getProperties()}},{key:"getAnchorStyle",value:function(){return ev({},this.props.graphModel.theme.anchor)}},{key:"getAnchorHoverStyle",value:function(){return ev({},this.props.graphModel.theme.anchorHover)}},{key:"getNewEdgeStyle",value:function(){return ev({},this.props.graphModel.theme.anchorLine)}},{key:"getAnchors",value:function(){var e=this,t=this.props,r=t.model,n=t.graphModel,o=t.eventCenter,i=r.isSelected,a=r.isHitable,c=this.state,u=c.isHovered,s=c.isDraging;if(a&&(i||u)){var l=this.getAnchorStyle(),f=this.getAnchorHoverStyle(),p=this.getNewEdgeStyle();return Ai(r.anchors,(function(t,i){return b(Cy,Jy({},t,{nodeDraging:s,style:l,hoverStyle:f,edgeStyle:p,anchorIndex:i,nodeModel:r,eventCenter:o,graphModel:n,setHoverOFF:e.setHoverOFF}))}))}return[]}},{key:"getTextStyle",value:function(){return ev({},this.props.graphModel.theme.nodeText)}},{key:"getText",value:function(){var e=this.props,t=e.model,r=e.graphModel;if(t.state===xa.TEXT_EDIT)return"";var n=this.getTextStyle();if(t.text){var o=r.editConfig,i=!1;return(t.text.draggable||o.nodeTextDraggable)&&(i=!0),b(Zy,{editable:o.nodeTextEdit&&t.text.editable,style:n,model:t,graphModel:r,draggable:i})}}},{key:"getStateClassName",value:function(){var e="lf-node";switch(this.props.model.state){case xa.ALLOW_CONNECT:e+=" lf-node-allow";break;case xa.NOT_ALLOW_CONNECT:e+=" lf-node-not-allow";break;default:e+=" lf-node-default"}return this.state.isDraging&&(e+=" lf-dragging"),e}},{key:"toFront",value:function(){var e=this.props,t=e.model;e.graphModel.toFront(t.id)}},{key:"render",value:function(){var e,t=this.props,r=t.model,n=t.graphModel,o=n.editConfig,i=o.hideAnchors,a=o.adjustNodePosition,c=n.gridSize,u=n.transformMatrix.SCALE_X,s=r.isHitable,l=r.draggable,f=b("g",{className:"lf-node-content"},this.getShape(),this.getText(),i?null:this.getAnchors());return s?(a&&l&&this.stepDrag.setStep(c*u),e=b("g",{className:this.getStateClassName(),id:r.id,onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},f)):e=b("g",{className:this.getStateClassName(),id:r.id},f),e}}])&&nv(t.prototype,r),n&&nv(t,n),i}(x);function fv(e){return(fv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pv(Object(r),!0).forEach((function(t){hv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bv(e,t,r){return(bv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xv(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function gv(e,t){return(gv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=xv(e);if(t){var o=xv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ov(this,r)}}function Ov(e,t){if(t&&("object"===fv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xv(e){return(xv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gv(e,t)}(i,e);var t,r,n,o=mv(i);function i(){return yv(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"getShapeStyle",value:function(){var e=bv(xv(i.prototype),"getShapeStyle",this).call(this),t=this.props.model.radius;return dv(dv({},e),{},{radius:t})}},{key:"getAttributes",value:function(){var e=bv(xv(i.prototype),"getAttributes",this).call(this),t=this.getShapeStyle();return dv(dv({},e),t)}},{key:"getShape",value:function(){return b(Uf,this.getAttributes())}}])&&vv(t.prototype,r),n&&vv(t,n),i}(lv);function _v(e){return(_v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ev(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jv(Object(r),!0).forEach((function(t){Sv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Av(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kv(e,t,r){return(kv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Tv(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Nv(e,t){return(Nv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Tv(e);if(t){var o=Tv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Mv(this,r)}}function Mv(e,t){if(t&&("object"===_v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Tv(e){return(Tv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Cv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nv(e,t)}(i,e);var t,r,n,o=Dv(i);function i(){return Pv(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"getShapeStyle",value:function(){var e=kv(Tv(i.prototype),"getShapeStyle",this).call(this),t=this.props.model.r;return Ev(Ev({},e),{},{r:t})}},{key:"getAttributes",value:function(){var e=kv(Tv(i.prototype),"getAttributes",this).call(this),t=this.getShapeStyle();return Ev(Ev({},e),t)}},{key:"getShape",value:function(){return b(ep,this.getAttributes())}}])&&Av(t.prototype,r),n&&Av(t,n),i}(lv);function Rv(e){var t=e.fillOpacity,r=void 0===t?1:t,n=e.strokeWidth,o=void 0===n?1:n,i=e.strokeOpacity,a=void 0===i?1:i,c=e.fill,u=void 0===c?"transparent":c,s=e.stroke,l=void 0===s?"#000":s,f=e.points,p=e.className,d={fill:u,fillOpacity:r,strokeWidth:o,stroke:l,strokeOpacity:a,points:"",className:void 0===p?"lf-basic-shape":p};return d.points=f.map((function(e){return e.join(",")})).join(" "),b("polygon",d)}function Iv(e){return(Iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lv(Object(r),!0).forEach((function(t){Bv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Uv(e,t,r){return(Uv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vv(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Xv(e,t){return(Xv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Vv(e);if(t){var o=Vv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Yv(this,r)}}function Yv(e,t){if(t&&("object"===Iv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Vv(e){return(Vv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xv(e,t)}(i,e);var t,r,n,o=Hv(i);function i(){return Gv(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"getShapeStyle",value:function(){var e=Uv(Vv(i.prototype),"getShapeStyle",this).call(this),t=this.props.model.points;return zv(zv({},e),{},{points:t})}},{key:"getAttributes",value:function(){var e=Uv(Vv(i.prototype),"getAttributes",this).call(this),t=this.getShapeStyle();return zv(zv({},e),t)}},{key:"getShape",value:function(){var e=this.getAttributes(),t=e.width,r=e.height,n=e.x,o=e.y,i=e.fill,a=e.fillOpacity,c=e.strokeWidth,u=e.stroke,s=e.strokeOpacity,l=e.points;return b("g",{transform:"matrix(1 0 0 1 ".concat(n-t/2," ").concat(o-r/2,")")},b(Rv,{fill:i,fillOpacity:a,strokeWidth:c,stroke:u,strokeOpacity:s,points:l}))}}])&&Fv(t.prototype,r),n&&Fv(t,n),i}(lv);function Kv(e){return(Kv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zv(Object(r),!0).forEach((function(t){Qv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eb(e,t,r){return(eb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ob(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function tb(e,t){return(tb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ob(e);if(t){var o=ob(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return nb(this,r)}}function nb(e,t){if(t&&("object"===Kv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ob(e){return(ob=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ib=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tb(e,t)}(i,e);var t,r,n,o=rb(i);function i(){return Jv(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"getShapeStyle",value:function(){var e=this.props.model.points;return qv(qv({},eb(ob(i.prototype),"getShapeStyle",this).call(this)),{},{points:e})}},{key:"getAttributes",value:function(){var e=eb(ob(i.prototype),"getAttributes",this).call(this),t=this.getShapeStyle();return qv(qv({},e),t)}},{key:"getShape",value:function(){var e=this.props.model.points,t=this.getAttributes();return b("g",null,b(Rv,{fill:t.fill,fillOpacity:t.fillOpacity,strokeWidth:t.strokeWidth,stroke:t.stroke,strokeOpacity:t.strokeOpacity,points:e}))}}])&&$v(t.prototype,r),n&&$v(t,n),i}(lv);function ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ub(e){var t=e.x,r=void 0===t?0:t,n=e.y,o=void 0===n?0:n,i=e.rx,a=void 0===i?4:i,c=e.ry;return b("ellipse",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ab(Object(r),!0).forEach((function(t){cb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ab(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({cx:r,cy:o,rx:a,ry:void 0===c?4:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1},e))}function sb(e){return(sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lb(Object(r),!0).forEach((function(t){pb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function db(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yb(e,t,r){return(yb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mb(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function vb(e,t){return(vb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=mb(e);if(t){var o=mb(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return gb(this,r)}}function gb(e,t){if(t&&("object"===sb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function mb(e){return(mb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ob=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vb(e,t)}(i,e);var t,r,n,o=bb(i);function i(){return db(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"getAttributes",value:function(){var e=yb(mb(i.prototype),"getAttributes",this).call(this),t=this.props.model,r=t.rx,n=t.ry;return fb(fb({},e),{},{rx:r,ry:n})}},{key:"getShape",value:function(){return b(ub,this.getAttributes())}}])&&hb(t.prototype,r),n&&hb(t,n),i}(lv);function xb(e){return(xb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jb(e,t){return(jb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Eb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Pb(e);if(t){var o=Pb(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Sb(this,r)}}function Sb(e,t){if(t&&("object"===xb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Pb(e){return(Pb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ab=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jb(e,t)}(i,e);var t,r,n,o=Eb(i);function i(){return wb(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"getShape",value:function(){return b(Ly,this.getAttributes())}}])&&_b(t.prototype,r),n&&_b(t,n),i}(lv);function kb(e){return(kb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Db(e,t){return(Db=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Rb(e);if(t){var o=Rb(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Tb(this,r)}}function Tb(e,t){if(t&&("object"===kb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cb(e)}function Cb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rb(e){return(Rb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ib=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Db(e,t)}(i,e);var t,r,n,o=Mb(i);function i(e){var t,r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a=void 0,(n="rootElId")in(r=Cb(t=o.call(this,e)))?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,t.rootElId="htmlNode_".concat(e.model.id),t}return t=i,(r=[{key:"rootEl",get:function(){return document.querySelector("#".concat(this.rootElId))}},{key:"setHtml",value:function(e){e.appendChild(document.createElement("div"))}},{key:"componentDidMount",value:function(){this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var e=this.getAttributes(),t=e.x,r=e.y,n=e.width,o=e.height;return b("foreignObject",{x:t-n/2,y:r-o/2,width:n,height:o,id:this.rootElId})}}])&&Nb(t.prototype,r),n&&Nb(t,n),i}(lv);function Lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bb(e){return b("path",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lb(Object(r),!0).forEach((function(t){zb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({d:""},e))}Bb.defaultProps={strokeDasharray:""};var Gb=Bb;function Fb(e){return(Fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Vb(e,t){return(Vb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Zb(e);if(t){var o=Zb(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Kb(this,r)}}function Kb(e,t){if(t&&("object"===Fb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Zb(e){return(Zb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vb(e,t)}(i,e);var t,r,n,o=Wb(i);function i(){return Hb(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"getArrowAttibutes",value:function(){var e=this.props,t=e.arrowInfo,r=e.style,n=t.start,o=t.end,i={start:n,end:o,offset:r.offset,verticalLength:r.verticalLength,type:"end"},a=ds(i),c=a.leftX,u=a.leftY,s=a.rightX,l=a.rightY;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ub(Object(r),!0).forEach((function(t){Xb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ub(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({d:"M".concat(c," ").concat(u," L").concat(o.x," ").concat(o.y," L").concat(s," ").concat(l," z")},r)}},{key:"getShape",value:function(){var e=this.getArrowAttibutes(),t=e.d,r=e.strokeWidth,n=e.stroke,o=e.fill;return b(Gb,{d:t,fill:o,strokeWidth:r,stroke:n})}},{key:"render",value:function(){return b("g",{className:"lf-arrow"},this.getShape())}}])&&Yb(t.prototype,r),n&&Yb(t,n),i}(x);function Qb(e){return(Qb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jb(){return(Jb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$b(Object(r),!0).forEach((function(t){cg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rg(e,t){return(rg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ng(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ag(e);if(t){var o=ag(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return og(this,r)}}function og(e,t){if(t&&("object"===Qb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ig(e)}function ig(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ag(e){return(ag=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ug=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rg(e,t)}(i,e);var t,r,n,o=ng(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),cg(ig(t=o.call(this,e)),"setHoverON",(function(){t.setState({isHoverd:!0})})),cg(ig(t),"setHoverOFF",(function(){t.setState({isHoverd:!1})})),t.state={isHoverd:!1},t}return t=i,(r=[{key:"getBackgroud",value:function(){var e=this.props.model,t=this.props.style,r=e.text,n=e.textWidth,o=$i(t.background,"fill","stroke","radius","height");if(this.state.isHoverd&&t.hoverBackground&&(o=eg(eg({},o),t.hoverBackground)),r&&r.value&&"transparnet"!==o.fill){var i,a=t.fontSize,c=t.autoWrap,u=t.lineHeight,s=t.wrapPadding,l=r.value,f=r.x,p=r.y,d=String(l).split(/[\r\n]/g),h=d.length;if(c&&n){var y=Du({rows:d,style:{fontSize:"".concat(a,"px"),width:"".concat(n,"px"),lineHeight:u,padding:s},rowsLength:h,className:"lf-get-text-height"});i=eg(eg({},o),{},{x:f-1,y:p-1,width:n,height:y})}else{var v=0;d&&d.forEach((function(e){var t=ul(e);v=t>v?t:v}));var g=Mu({rows:d,fontSize:a,rowsLength:h}),m=g.width,O=g.height;i=eg(eg({},o),{},{x:f-1,y:p-1,width:m,height:O})}return b(Uf,i)}}},{key:"getShape",value:function(){var e=this.props,t=e.model,r=e.style,n=t.text,o=n.value,i=eg({x:n.x,y:n.y,className:"lf-element-text",value:o},r);return b("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),b(Ly,Jb({},i,{model:t})))}}])&&tg(t.prototype,r),n&&tg(t,n),i}(Zy);function sg(e){return(sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lg(Object(r),!0).forEach((function(t){mg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hg(e,t){return(hg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=gg(e);if(t){var o=gg(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return vg(this,r)}}function vg(e,t){if(t&&("object"===sg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bg(e)}function bg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gg(e){return(gg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Og=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hg(e,t)}(i,e);var t,r,n,o=yg(i);function i(){var e;pg(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return mg(bg(e=o.call.apply(o,[this].concat(r))),"startTime",void 0),mg(bg(e),"preStartTime",void 0),mg(bg(e),"contextMenuTime",void 0),mg(bg(e),"clickTimer",void 0),mg(bg(e),"handleHover",(function(t,r){var n=e.props,o=n.model,i=n.eventCenter;o.setHovered(t);var a=t?Ea.EDGE_MOUSEENTER:Ea.EDGE_MOUSELEAVE,c=o.getData();i.emit(a,{data:c,e:r})})),mg(bg(e),"setHoverON",(function(t){e.handleHover(!0,t)})),mg(bg(e),"setHoverOFF",(function(t){e.handleHover(!1,t)})),mg(bg(e),"handleContextMenu",(function(t){t.preventDefault(),e.contextMenuTime=(new Date).getTime(),e.clickTimer&&clearTimeout(e.clickTimer);var r=e.props,n=r.model,o=r.graphModel,i=r.eventCenter,a=o.getPointByClient({x:t.clientX,y:t.clientY});o.setElementStateById(n.id,xa.SHOW_MENU,a.domOverlayPosition),o.toFront(n.id),o.selectEdgeById(n.id);var c=null==n?void 0:n.getData();i.emit(Ea.EDGE_CONTEXTMENU,{data:c,e:t,position:a})})),mg(bg(e),"handleMouseDown",(function(t){t.stopPropagation(),e.startTime=(new Date).getTime()})),mg(bg(e),"handleMouseUp",(function(t){if(e.startTime&&!((new Date).getTime()-e.startTime>200)){var r=e.props,n=r.model,o=r.graphModel,i=r.eventCenter,a=null==n?void 0:n.getData(),c=o.getPointByClient({x:t.clientX,y:t.clientY});if(e.preStartTime&&e.startTime-e.preStartTime<200){e.clickTimer&&window.clearTimeout(e.clickTimer);var u=o.editConfig,s=o.textEditElement;if(s&&s.id===n.id&&o.setElementStateById(n.id,xa.DEFAULT),u.edgeTextEdit&&n.text.editable&&o.setElementStateById(n.id,xa.TEXT_EDIT),n.modelType===_a.POLYLINE_EDGE){var l=n,f=o.getPointByClient({x:t.x,y:t.y}).canvasOverlayPosition,p=f.x,d=f.y,h=fl({x:p,y:d},l.points);l.dbClickPosition=h}i.emit(Ea.EDGE_DBCLICK,{data:a,e:t,position:c})}else e.clickTimer=window.setTimeout((function(){(!e.contextMenuTime||e.startTime>e.contextMenuTime)&&(i.emit(Ea.ELEMENT_CLICK,{data:a,e:t,position:c}),i.emit(Ea.EDGE_CLICK,{data:a,e:t,position:c}))}),400);var y=o.editConfig.metaKeyMultipleSelected;o.selectEdgeById(n.id,t.metaKey&&y),o.toFront(n.id),e.preStartTime=e.startTime}})),e}return t=i,(r=[{key:"getAttributes",value:function(){var e=this.props.model,t=e.strokeWidth,r=e.strokeOpacity,n=e.strokeDashArray,o=e.isSelected,i=e.isHovered,a=e.hoverStroke,c=e.selectedStroke,u=e.properties,s=this.props.model.stroke;return i?s=a:o&&(s=c),{stroke:s,strokeWidth:t,strokeOpacity:r,strokeDashArray:n,isSelected:o,isHovered:i,hoverStroke:a,selectedStroke:c,properties:fg({},u)}}},{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var e=this.props,t=e.model,r=e.graphModel;if(t.state===xa.TEXT_EDIT)return"";var n=r.theme.edgeText,o=this.getTextStyle(),i=Yi({},n,o),a=!1,c=r.editConfig;return(t.text.draggable||c.edgeTextDraggable)&&(a=!0),b(ug,{editable:c.edgeTextEdit&&t.text.editable,model:t,graphModel:r,style:i,draggable:a})}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=e.startPoint,r=e.endPoint,n=e.isSelected;return{start:t,end:r,hover:this.state.hover,isSelected:n}}},{key:"getArrowStyle",value:function(){var e=this.getAttributes().stroke,t=this.props.graphModel.theme.arrow;return{stroke:e,strokeWidth:1,fill:e,offset:t.offset,verticalLength:t.verticalLength}}},{key:"getArrow",value:function(){var e=this.getArrowInfo(),t=e.start,r=e.end;if(t&&r&&(t.x!==r.x||t.y!==r.y)){var n=this.getArrowStyle();return b(qb,{arrowInfo:e,style:n})}}},{key:"getAppendWidth",value:function(){return b("g",null)}},{key:"getAppend",value:function(){return b("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"render",value:function(){return b("g",{className:"lf-edge",id:this.props.model.id,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow())}}])&&dg(t.prototype,r),n&&dg(t,n),i}(x);function xg(e){return(xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wg(Object(r),!0).forEach((function(t){jg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pg(e,t,r){return(Pg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Dg(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Ag(e,t){return(Ag=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Dg(e);if(t){var o=Dg(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ng(this,r)}}function Ng(e,t){if(t&&("object"===xg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Dg(e){return(Dg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ag(e,t)}(i,e);var t,r,n,o=kg(i);function i(){return Eg(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"getAttributes",value:function(){var e=this.props.model,t=e.startPoint,r=e.endPoint;return _g(_g({},Pg(Dg(i.prototype),"getAttributes",this).call(this)),{},{startPoint:t,endPoint:r})}},{key:"getEdge",value:function(){var e=this.getAttributes(),t=e.stroke,r=e.startPoint,n=e.endPoint,o=e.strokeWidth,i=e.strokeOpacity,a=e.strokeDashArray;return b(kf,{x1:r.x,y1:r.y,x2:n.x,y2:n.y,strokeOpacity:i,strokeWidth:o,stroke:t,strokeDasharray:a})}},{key:"getShape",value:function(){return b("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var e=this.props.model,t=function(e){var t,r=e.start,n=e.end;if(r.x===n.x&&r.y===n.y)t="";else{var o={start:r,end:n,offset:10,verticalLength:5},i=ds(ys(ys({},o),{},{type:"start"})),a=ds(ys(ys({},o),{},{type:"end"}));t="M".concat(i.leftX," ").concat(i.leftY," \n    L").concat(i.rightX," ").concat(i.rightY," \n    L").concat(a.rightX," ").concat(a.rightY,"\n    L").concat(a.leftX," ").concat(a.leftY," z")}return{d:t,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:e.startPoint,end:e.endPoint}),r=t.d,n=t.strokeWidth,o=t.fill,i=t.strokeDasharray,a=t.stroke;return b(Gb,{d:r,fill:o,strokeWidth:n,stroke:a,strokeDasharray:i})}}])&&Sg(t.prototype,r),n&&Sg(t,n),i}(Og);function Tg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rg=function(e){return b("polyline",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tg(Object(r),!0).forEach((function(t){Cg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({points:"",fill:"none"},e))};function Ig(e){return(Ig="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lg(Object(r),!0).forEach((function(t){Kg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ug(e,t,r){return(Ug="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wg(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Xg(e,t){return(Xg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Wg(e);if(t){var o=Wg(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Yg(this,r)}}function Yg(e,t){if(t&&("object"===Ig(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vg(e)}function Vg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wg(e){return(Wg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xg(e,t)}(i,e);var t,r,n,o=Hg(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Kg(Vg(e=o.call(this)),"drag",void 0),Kg(Vg(e),"isDraging",void 0),Kg(Vg(e),"appendInfo",void 0),Kg(Vg(e),"dragHandler",void 0),Kg(Vg(e),"onDragStart",(function(){e.props.model.dragAppendStart()})),Kg(Vg(e),"onDraging",(function(t){var r=t.deltaX,n=t.deltaY,o=e.props,i=o.model,a=o.graphModel;e.isDraging=!0;var c=Bg(a.transformMatrix.fixDeltaXY(r,n),2),u=c[0],s=c[1],l=i;e.appendInfo=l.dragAppend(e.appendInfo,{x:u,y:s})})),Kg(Vg(e),"onDragEnd",(function(){e.props.model.dragAppendEnd(),e.isDraging=!1,e.appendInfo=void 0})),Kg(Vg(e),"beforeDragStart",(function(t,r){e.dragHandler(t),e.appendInfo=r})),e.drag=Al({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd,isStopPropagation:!1}),e}return t=i,(r=[{key:"getAttributes",value:function(){var e=Ug(Wg(i.prototype),"getAttributes",this).call(this),t=this.props.model.points;return zg(zg({},e),{},{points:t})}},{key:"getEdge",value:function(){var e=this.getAttributes(),t=e.points,r=e.strokeWidth,n=e.stroke,o=e.strokeDashArray;return b(Rg,{points:t,strokeWidth:r,stroke:n,strokeDasharray:o})}},{key:"getShape",value:function(){return b("g",null,this.getEdge())}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=e.points,r=e.isSelected,n={start:null,end:null,hover:this.state.hover,isSelected:r},o=il(t);return o.length>=2&&(n.start=o[o.length-2],n.end=o[o.length-1]),n}},{key:"getAppendAttibutes",value:function(e){var t,r=e.start,n=e.end;if(r.x===n.x&&r.y===n.y)t="";else{var o={start:r,end:n,offset:10,verticalLength:5},i=ds(zg(zg({},o),{},{type:"start"})),a=ds(zg(zg({},o),{},{type:"end"}));t="M".concat(i.leftX," ").concat(i.leftY," \n      L").concat(i.rightX," ").concat(i.rightY," \n      L").concat(a.rightX," ").concat(a.rightY,"\n      L").concat(a.leftX," ").concat(a.leftY," z")}return{d:t,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(e){var t=this.getAppendAttibutes(e),r=t.d,n=t.strokeWidth,o=t.fill,i=t.strokeDasharray,a=t.stroke;return b(Gb,{d:r,fill:o,strokeWidth:n,stroke:a,strokeDasharray:i})}},{key:"getAppendWidth",value:function(){for(var e=this,t=this.props,r=t.model,n=t.graphModel,o=r.pointsList,i=r.draggable,a=[],c=function(t){var r="lf-polyline-append",c={start:{x:o[t].x,y:o[t].y},end:{x:o[t+1].x,y:o[t+1].y},startIndex:t,endIndex:t+1,direction:""},u=b("g",{className:r},e.getAppendShape(c));n.editConfig.adjustEdge&&i?(e.dragHandler=e.drag,c.start.x===c.end.x?(r+="-ew-resize",c.direction=Sa.VERTICAL):c.start.y===c.end.y&&(r+="-ns-resize",c.direction=Sa.HORIZONTAL),u=b("g",{className:e.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(t){return e.beforeDragStart(t,c)}},b("g",{className:r},e.getAppendShape(c)))):e.dragHandler=function(){},a.push(u)},u=0;u<o.length-1;u++)c(u);return b("g",null,a)}}])&&Fg(t.prototype,r),n&&Fg(t,n),i}(Og);function qg(e){return(qg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Jg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$g(Object(r),!0).forEach((function(t){tm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function om(e,t,r){return(om="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=um(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function im(e,t){return(im=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function am(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=um(e);if(t){var o=um(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return cm(this,r)}}function cm(e,t){if(t&&("object"===qg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function um(e){return(um=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&im(e,t)}(i,e);var t,r,n,o=am(i);function i(){return rm(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"getAttributes",value:function(){var e=om(um(i.prototype),"getAttributes",this).call(this),t=this.props.model.path;return em(em({},e),{},{path:t})}},{key:"getEdge",value:function(){var e=this.getAttributes(),t=e.path,r=e.strokeWidth,n=e.stroke,o=e.strokeDashArray;return b(Gb,{d:t,strokeWidth:r,stroke:n,fill:"none",strokeDasharray:o})}},{key:"getShape",value:function(){return b("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var e=this.getAttributes().path;return b(Gb,{d:e,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=this.state.hover,r=e,n=r.path,o=r.isSelected,i=Qg(function(e){var t=sl(e);return[t[2],t[3]]}(n),2);return{start:i[0],end:i[1],hover:t,isSelected:o}}}])&&nm(t.prototype,r),n&&nm(t,n),i}(Og),lm=function(e,t){return Mo(e,t)},fm=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},pm=function(){return jr.a.Date.now()},dm=/\s/,hm=function(e){for(var t=e.length;t--&&dm.test(e.charAt(t)););return t},ym=/^\s+/,vm=function(e){return e?e.slice(0,hm(e)+1).replace(ym,""):e},bm=/^[-+]0x[0-9a-f]+$/i,gm=/^0b[01]+$/i,mm=/^0o[0-7]+$/i,Om=parseInt,xm=function(e){if("number"==typeof e)return e;if(zo(e))return NaN;if(Rr(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Rr(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=vm(e);var r=gm.test(e);return r||mm.test(e)?Om(e.slice(2),r?2:8):bm.test(e)?NaN:+e},wm=Math.max,_m=Math.min,jm=function(e,t,r){var n,o,i,a,c,u,s=0,l=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var r=n,i=o;return n=o=void 0,s=t,a=e.apply(i,r)}function h(e){return s=e,c=setTimeout(v,t),l?d(e):a}function y(e){var r=e-u;return void 0===u||r>=t||r<0||f&&e-s>=i}function v(){var e=pm();if(y(e))return b(e);c=setTimeout(v,function(e){var r=t-(e-u);return f?_m(r,i-(e-s)):r}(e))}function b(e){return c=void 0,p&&n?d(e):(n=o=void 0,a)}function g(){var e=pm(),r=y(e);if(n=arguments,o=this,u=e,r){if(void 0===c)return h(u);if(f)return clearTimeout(c),c=setTimeout(v,t),d(u)}return void 0===c&&(c=setTimeout(v,t)),a}return t=xm(t)||0,Rr(r)&&(l=!!r.leading,i=(f="maxWait"in r)?wm(xm(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p),g.cancel=function(){void 0!==c&&clearTimeout(c),s=0,n=u=o=c=void 0},g.flush=function(){return void 0===c?a:b(pm())},g},Em=r(137);function Sm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Am,km=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Pm(this,"undos",[]),Pm(this,"redos",[]),Pm(this,"callbacks",[]),Pm(this,"stopWatch",null),Pm(this,"curData",null),Pm(this,"maxSize",50),Pm(this,"waitTime",100),Pm(this,"eventCenter",void 0),this.eventCenter=t}var t,r,n;return t=e,(r=[{key:"add",value:function(e){lm(fm(this.undos),e)||(this.undos.push(e),lm(this.curData,e)||(this.redos=[]),this.eventCenter.emit(Ea.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var e=this.undos.pop();this.redos.push(e);var t=this.undos.pop();return this.curData=lc(t),t}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var e=this.redos.pop();return this.curData=lc(e),e}}},{key:"watch",value:function(e){var t=this;this.stopWatch&&this.stopWatch(),this.undos.push(e.modelToGraphData()),this.stopWatch=Object(Em.a)(e,jm((function(){var r=e.modelToGraphData();t.add(r)}),this.waitTime))}}])&&Sm(t.prototype,r),n&&Sm(t,n),e}();function Nm(e){return(Nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tm(Object(r),!0).forEach((function(t){Fm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Im(e,t){return(Im=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Gm(e);if(t){var o=Gm(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return zm(this,r)}}function zm(e,t){if(t&&("object"===Nm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bm(e)}function Bm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gm(e){return(Gm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Um,Xm=wO(Am=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Im(e,t)}(i,e);var t,r,n,o=Lm(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Fm(Bm(e=o.call(this)),"ref",{current:null}),Fm(Bm(e),"__prevText",{type:"",text:"",id:""}),Fm(Bm(e),"keyupHandler",(function(t){var r=t.target.innerText,n=e.props.graphModel.textEditElement;13===t.keyCode&&t.altKey&&n.setElementState(0),e.__prevText={type:n.type,text:r,id:n.id}})),e.state={style:{left:0,top:0}},e}return t=i,n=[{key:"getDerivedStateFromProps",value:function(e){var t,r=e.graphModel,n=r.transformMatrix,o=r.theme,i=r.textEditElement;if(i){var a;if(null===(a=i.text)||void 0===a||!a.value)if(i.BaseType===ja.EDGE){var c=(i=i).text,u=i.textPosition,s=u.x,l=u.y;c.x=s,c.y=l,i.setText(c)}else i=i;var f={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(i.BaseType===ja.EDGE){var p=o.edgeText,d=p.autoWrap,h=p.lineHeight,y=p.wrapPadding,v=i.textWidth;d&&v&&(t=Cm(Cm({},f),{},{width:v,minWidth:v,lineHeight:h,padding:y}))}else if(i.BaseType===ja.NODE){var b=o.nodeText,g=b.autoWrap,m=b.lineHeight,O=b.wrapPadding,x=i,w=x.width,_=x.textWidth,j=x.modelType;(j!==_a.TEXT_NODE&&g||j===_a.TEXT_NODE&&g&&_)&&(t=Cm(Cm({},f),{},{width:_||w,minWidth:_||w,lineHeight:m,padding:O}))}var E=i.text,S=E.x,P=E.y,A=Dm(n.CanvasPointToHtmlPoint([S,P]),2);return{style:Cm({left:A[0],top:A[1]},t)}}}}],(r=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current))}},{key:"componentDidUpdate",value:function(){var e=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),""!==this.__prevText.id){var t=this.__prevText,r=t.text,n=t.id;e.setElementTextById(n,r),e.eventCenter.emit(Ea.TEXT_UPDATE,Cm({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(e){if(void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var r=window.getSelection();r.removeAllRanges(),r.addRange(t)}}},{key:"render",value:function(){var e,t=this.props.graphModel.textEditElement,r=this.state.style;return t?b("div",{contentEditable:!0,className:"lf-text-input",style:r,ref:this.ref,key:t.id,onKeyUp:this.keyupHandler},null===(e=t.text)||void 0===e?void 0:e.value):null}}])&&Rm(t.prototype,r),n&&Rm(t,n),i}(x))||Am,Hm=function(e){return e.modelType===_a.LINE_EDGE?function(e){var t=e.startPoint,r=e.endPoint,n=(t.x+r.x)/2,o=(t.y+r.y)/2,i=Math.abs(t.x-r.x)+10,a=Math.abs(t.y-r.y)+10;return{x:n-i/2,y:o-a/2,x1:n+i/2,y1:o+a/2}}(e):e.modelType===_a.POLYLINE_EDGE?function(e){var t=e.points,r=il(t),n=Xs(r,8),o=n.x,i=n.y,a=n.width,c=n.height;return{x:o-a/2,y:i-c/2,x1:o+a/2,y1:i+c/2}}(e):e.modelType===_a.BEZIER_EDGE?function(e){var t=e.path,r=sl(t),n=Xs(r,8),o=n.x,i=n.y,a=n.width,c=n.height;return{x:o-a/2,y:i-c/2,x1:o+a/2,y1:i+c/2}}(e):void 0};function Ym(e){return(Ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Km(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zm(e,t){return(Zm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=$m(e);if(t){var o=$m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Qm(this,r)}}function Qm(e,t){if(t&&("object"===Ym(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jm(e)}function Jm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $m(e){return($m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tO=wO(Um=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zm(e,t)}(i,e);var t,r,n,o=qm(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),eO(Jm(t=o.call(this)),"stepDrag",void 0),eO(Jm(t),"handleMouseDown",(function(e){t.stepDrag.handleMouseDown(e)})),eO(Jm(t),"onDraging",(function(e){var r=e.deltaX,n=e.deltaY,o=t.props.graphModel;o.moveElements(o.getSelectElements(!0),r,n)})),eO(Jm(t),"onDragEnd",(function(){}));var r=e.graphModel.gridSize,n=e.eventCenter;return t.stepDrag=new kl({onDraging:t.onDraging,onDragEnd:t.onDragEnd,step:r,eventType:"multiple:select",eventCenter:n}),t}return t=i,(r=[{key:"render",value:function(){var e=this.props.graphModel,t=e.selectElements,r=e.transformMatrix;if(!(t.size<=1)){var n=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;t.forEach((function(e){var t={x:0,y:0,x1:0,y1:0};e.BaseType===ja.NODE&&(t=function(e){var t=e.x,r=e.y,n=e.width,o=e.height;return{x:t-n/2,y:r-o/2,x1:t+n/2,y1:r+o/2}}(e)),e.BaseType===ja.EDGE&&(t=Hm(e)),n=Math.min(n,t.x),o=Math.min(o,t.y),i=Math.max(i,t.x1),a=Math.max(a,t.y1)}));var c=Vm(r.CanvasPointToHtmlPoint([n,o]),2);n=c[0],o=c[1];var u=Vm(r.CanvasPointToHtmlPoint([i,a]),2);return i=u[0],a=u[1],b("div",{className:"lf-multiple-select",style:{left:"".concat(n-10,"px"),top:"".concat(o-10,"px"),width:"".concat(i-n+20,"px"),height:"".concat(a-o+20,"px")},onMouseDown:this.handleMouseDown})}}}])&&Km(t.prototype,r),n&&Km(t,n),i}(x))||Um;function rO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oO=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),nO(this,"tools",void 0),nO(this,"components",void 0),nO(this,"toolMap",new Map),nO(this,"instance",void 0),this.instance=t,this.registerTool("textEdit",Xm),this.registerTool("multipleSelect",tO)}var t,r,n;return t=e,(r=[{key:"registerTool",value:function(e,t){this.toolMap.set(e,t)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&rO(t.prototype,r),n&&rO(t,n),e}();function iO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var aO=function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n={},(r="_events")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}var t,r,n;return t=e,(r=[{key:"on",value:function(e,t,r){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!r}),this}},{key:"once",value:function(e,t){return this.on(e,t,!0)}},{key:"emit",value:function(e,t){var r=this,n=this._events[e]||[],o=this._events["*"]||[],i=function(n){for(var o=n.length,i=0;i<o;i++)if(n[i]){var a=n[i],c=a.callback;a.once&&(n.splice(i,1),0===n.length&&delete r._events[e],o--,i--),c.apply(r,[t])}};i(n),i(o)}},{key:"off",value:function(e,t){if(e)if(t){for(var r=this._events[e]||[],n=r.length,o=0;o<n;o++)r[o].callback===t&&(r.splice(o,1),n--,o--);0===r.length&&delete this._events[e]}else delete this._events[e];else this._events={};return this}},{key:"getEvents",value:function(){return this._events}}])&&iO(t.prototype,r),n&&iO(t,n),e}(),cO=r(138),uO=r.n(cO);function sO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fO=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),lO(this,"mousetrap",void 0),lO(this,"options",void 0),lO(this,"target",void 0),t.keyboard||(t.keyboard={enabled:!1}),this.options=t;var r=t.lf;this.target=r.container,this.mousetrap=new uO.a(this.target),t.keyboard.enabled&&this.enable(!0)}var t,r,n;return t=e,(r=[{key:"initShortcuts",value:function(){var e=this,t=this.options.keyboard.shortcuts;if(t)if(Rn(t))t.forEach((function(t){var r=t.keys,n=t.callback,o=t.action;return e.on(r,n,o)}));else{var r=t.keys,n=t.callback,o=t.action;this.on(r,n,o)}}},{key:"on",value:function(e,t,r){this.mousetrap.bind(this.getKeys(e),t,r)}},{key:"disabled",get:function(){return!0!==this.options.keyboard.enabled}},{key:"off",value:function(e,t){this.mousetrap.unbind(this.getKeys(e),t)}},{key:"enable",value:function(e){(this.disabled||e)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(e){var t=this;return(Array.isArray(e)?e:[e]).map((function(e){return t.formatkey(e)}))}},{key:"formatkey",value:function(e){return e.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&sO(t.prototype,r),n&&sO(t,n),e}(),pO=fO,dO=null;function hO(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function yO(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach((function(e){e.x+=t,e.y+=t})),e.text&&(e.text.x+=t,e.text.y+=t),e}function vO(e){return(vO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bO(Object(r),!0).forEach((function(t){OO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xO=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),OO(this,"container",void 0),OO(this,"width",void 0),OO(this,"height",void 0),OO(this,"graphModel",void 0),OO(this,"history",void 0),OO(this,"viewMap",new Map),OO(this,"tool",void 0),OO(this,"keyboard",void 0),OO(this,"dnd",void 0),OO(this,"options",void 0),OO(this,"getSnapshot",void 0),OO(this,"eventCenter",void 0),OO(this,"snaplineModel",void 0),OO(this,"components",[]),OO(this,"adapterIn",void 0),OO(this,"adapterOut",void 0),OO(this,"getView",(function(e){return r.viewMap.get(e)}));var n,o,i=t.container,a=t.width,c=t.height,u=t.dndOptions,s=t.keyboard,l=t.isSilentMode,f=t.snapline;this.options=Dp(t),this.container=i,this.width=a||i.getBoundingClientRect().width,this.height=c||i.getBoundingClientRect().height,this.tool=new oO(this),this.eventCenter=new aO,this.history=new km(this.eventCenter),this.dnd=new Np({options:u,lf:this}),this.keyboard=new pO({lf:this,keyboard:s}),this.graphModel=new _l(gO(gO({},this.options),{},{eventCenter:this.eventCenter,rootEl:this.container,width:this.width,height:this.height})),l||!1===f||(this.snaplineModel=new wy(this.graphModel),n=this.eventCenter,o=this.snaplineModel,n.on("node:mousemove",(function(e){var t=e.data;o.setNodeSnapLine(t)})),n.on("node:mouseup",(function(){o.clearSnapline()}))),this.defaultRegister(),this.installPlugins(t.disabledPlugins),function(e,t){var r=e.keyboard,n=r.options.keyboard;r.on(["cmd + c","ctrl + c"],(function(){if(n.enabled&&!t.textEditElement){var r=e.options.guards,o=t.getSelectElements(!1);return r&&r.beforeClone&&!r.beforeClone(o)||((dO=o).nodes.forEach((function(e){return hO(e,40)})),dO.edges.forEach((function(e){return yO(e,40)}))),!1}})),r.on(["cmd + v","ctrl + v"],(function(){if(n.enabled&&!t.textEditElement){if(dO&&(dO.nodes||dO.edges)){e.clearSelectElements();var r=e.addElements(dO);if(!r)return;r.nodes.forEach((function(t){return e.select(t.id,!0)})),r.edges.forEach((function(t){return e.select(t.id,!0)})),dO.nodes.forEach((function(e){return hO(e,40)})),dO.edges.forEach((function(e){return yO(e,40)}))}return!1}})),r.on(["cmd + z","ctrl + z"],(function(){if(n.enabled&&!t.textEditElement)return e.undo(),!1})),r.on(["cmd + y","ctrl + y"],(function(){if(n.enabled&&!t.textEditElement)return e.redo(),!1})),r.on(["backspace"],(function(){if(n.enabled&&!t.textEditElement){var r=t.getSelectElements(!0);return e.clearSelectElements(),r.edges.forEach((function(t){return e.deleteEdge(t.id)})),r.nodes.forEach((function(t){return e.deleteNode(t.id)})),!1}}))}(this,this.graphModel),this.keyboard.initShortcuts()}var t,r,n;return t=e,n=[{key:"use",value:function(e){var t=e.pluginName;t||(console.warn("\u8bf7\u7ed9\u63d2\u4ef6".concat(e.name||e.constructor.name,"\u6307\u5b9apluginName!")),t=e.name);var r=this.extensions.get(t);r&&r.destroy&&r.destroy(),this.extensions.set(t,e)}}],(r=[{key:"on",value:function(e,t){this.eventCenter.on(e,t)}},{key:"off",value:function(e,t){this.eventCenter.off(e,t)}},{key:"once",value:function(e,t){this.eventCenter.once(e,t)}},{key:"emit",value:function(e,t){this.eventCenter.emit(e,t)}},{key:"installPlugins",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.extensions.forEach((function(e){var n=e.pluginName||e.name;-1===r.indexOf(n)&&t.__installPlugin(e)}))}},{key:"__installPlugin",value:function(t){if("object"===vO(t)){var r=t.install,n=t.render;return r&&r.call(t,this,e),void(n&&this.components.push(n.bind(t)))}var o=new t({lf:this,LogicFlow:e});o.render&&this.components.push(o.render.bind(o))}},{key:"register",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"==typeof e){var n={BaseEdge:Og,BaseEdgeModel:Uu,BaseNode:lv,BaseNodeModel:Td,RectNode:wv,RectNodeModel:Kh,CircleNode:Cv,CircleNodeModel:Yd,PolygonNode:Wv,PolygonNodeModel:Rh,TextNode:Ab,TextNodeModel:iy,LineEdge:Mg,LineEdgeModel:$u,DiamondNode:ib,DiamondNodeModel:lh,PolylineEdge:Zg,PolylineEdgeModel:ps,BezierEdge:sm,BezierEdgeModel:Od,EllipseNode:Ob,EllipseNodeModel:wh,HtmlNode:Ib,HtmlNodeModel:by,h:b,type:e};this.viewMap.forEach((function(e){var t=e.extendKey;t&&(n[t]=e)})),this.graphModel.modelMap.forEach((function(e){var t=e.extendKey;t&&(n[t]=e)}));var o=t(n),i=o.view,a=o.model,c=i;r&&!c.isObervered&&(c.isObervered=!0,c=qt(c)),this.setView(e,c),this.graphModel.setModel(e,a)}else this._registerElement(e)}},{key:"_registerElement",value:function(e){var t=e.view;!1===e.isObserverView||t.isObervered||(t.isObervered=!0,t=qt(t)),this.setView(e.type,t),this.graphModel.setModel(e.type,e.model)}},{key:"defaultRegister",value:function(){this._registerElement({view:wv,model:Kh,type:"rect"}),this._registerElement({type:"circle",view:Cv,model:Yd}),this._registerElement({type:"polygon",view:Wv,model:Rh}),this._registerElement({type:"line",view:Mg,model:$u}),this._registerElement({type:"polyline",view:Zg,model:ps}),this._registerElement({type:"bezier",view:sm,model:Od}),this._registerElement({type:"text",view:Ab,model:iy}),this._registerElement({type:"ellipse",view:Ob,model:wh}),this._registerElement({type:"diamond",view:ib,model:lh}),this._registerElement({type:"html",view:Ib,model:by})}},{key:"undo",value:function(){if(this.history.undoAble()){var e=Cu(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}}},{key:"redo",value:function(){if(this.history.redoAble()){var e=Cu(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}}},{key:"zoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.graphModel.transformMatrix;return t.zoom(e),"".concat(100*t.SCALE_X,"%")}},{key:"resetZoom",value:function(){this.graphModel.transformMatrix.resetZoom()}},{key:"setZoomMiniSize",value:function(e){this.graphModel.transformMatrix.setZoomMiniSize(e)}},{key:"setZoomMaxSize",value:function(e){this.graphModel.transformMatrix.setZoomMaxSize(e)}},{key:"getTransform",value:function(){var e=this.graphModel.transformMatrix;return{SCALE_X:e.SCALE_X,SCALE_Y:e.SCALE_Y,TRANSLATE_X:e.TRANSLATE_X,TRANSLATE_Y:e.TRANSLATE_Y}}},{key:"translate",value:function(e,t){this.graphModel.transformMatrix.translate(e,t)}},{key:"resetTranslate",value:function(){var e=this.graphModel.transformMatrix,t=e.TRANSLATE_X,r=e.TRANSLATE_Y;this.translate(-t,-r)}},{key:"select",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.graphModel.selectElementById(e,t)}},{key:"focusOn",value:function(e){var t=this.graphModel.transformMatrix,r=e.coordinate,n=e.id;if(!r){var o=this.getNodeModel(n);o&&(r=o.getData());var i=this.getEdgeModelById(n);i&&(r=i.textPosition)}var a=r,c=a.x,u=a.y;t.focusOn(c,u,this.width,this.height)}},{key:"setTheme",value:function(e){this.graphModel.setTheme(e)}},{key:"setDefaultEdgeType",value:function(e){this.options.edgeType=e,this.graphModel.changeEdgeType(e)}},{key:"updateText",value:function(e,t){this.graphModel.setElementTextById(e,t)}},{key:"changeNodeType",value:function(e,t){this.graphModel.changeNodeType(e,t)}},{key:"getNodeEdges",value:function(e){return this.graphModel.getNodeEdges(e)}},{key:"addNode",value:function(e){return this.graphModel.addNode(e)}},{key:"deleteNode",value:function(e){var t=this.graphModel.getNodeModel(e).getData(),r=this.options.guards;(!r||!r.beforeDelete||r.beforeDelete(t))&&this.graphModel.deleteNode(e)}},{key:"editNodeText",value:function(e){this.graphModel.setTextEditable(e)}},{key:"cloneNode",value:function(e){var t=this.graphModel.getNodeModel(e).getData(),r=this.options.guards;if(!r||!r.beforeClone||r.beforeClone(t))return this.graphModel.cloneNode(e)}},{key:"createEdge",value:function(e){this.graphModel.createEdge(e)}},{key:"deleteEdge",value:function(e){var t=this.options.guards,r=this.graphModel.edgesMap[e];if(r){var n=r.model.getData();(!t||!t.beforeDelete||t.beforeDelete(n))&&this.graphModel.removeEdgeById(e)}else console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(e,"\u7684\u8fb9"))}},{key:"removeEdge",value:function(e){var t=e.sourceNodeId,r=e.targetNodeId;t&&r?this.graphModel.removeEdge(t,r):t?this.graphModel.removeEdgeBySource(t):r&&this.graphModel.removeEdgeByTarget(r)}},{key:"getNodeModel",value:function(e){return this.graphModel.getNodeModel(e)}},{key:"getNodeData",value:function(e){return this.graphModel.getNodeModel(e).getData()}},{key:"setNodeData",value:function(e){var t=e.id;this.graphModel.getNodeModel(t).updateData(e)}},{key:"getEdgeModel",value:function(e){return this.getEdge(e)}},{key:"getEdgeModelById",value:function(e){var t;return null===(t=this.graphModel.edgesMap[e])||void 0===t?void 0:t.model}},{key:"getEdge",value:function(e){var t=this.graphModel,r=t.edges,n=t.edgesMap,o=e.id,i=e.sourceNodeId,a=e.targetNodeId;if(o)return n[o]?[n[o].model]:void console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(o,"\u7684\u8fb9"));if(i&&a){var c=[];return r.forEach((function(e){e.sourceNodeId===i&&e.targetNodeId===a&&c.push(e)})),c}if(i){var u=[];return r.forEach((function(e){e.sourceNodeId===i&&u.push(e)})),u}if(a){var s=[];return r.forEach((function(e){e.targetNodeId===a&&s.push(e)})),s}return[]}},{key:"getEdgeData",value:function(e){var t;return null===(t=this.getEdgeModelById(e))||void 0===t?void 0:t.getData()}},{key:"setEdgeData",value:function(e){var t,r=e.id;return null===(t=this.getEdgeModelById(r))||void 0===t?void 0:t.updateData(e)}},{key:"getGraphData",value:function(){var e=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(e):e}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"setProperties",value:function(e,t){var r;null===(r=this.graphModel.getElement(e))||void 0===r||r.setProperties(Cu(t))}},{key:"getProperties",value:function(e){var t;return null===(t=this.graphModel.getElement(e))||void 0===t?void 0:t.getProperties()}},{key:"updateEditConfig",value:function(e){this.graphModel.editConfig.updateEditConfig(e)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfig.getConfig()}},{key:"getPointByClient",value:function(e,t){return this.graphModel.getPointByClient({x:e,y:t})}},{key:"getSelectElements",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.graphModel.getSelectElements(e)}},{key:"updateAttributes",value:function(e,t){this.graphModel.updateAttributes(e,t)}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"addElements",value:function(e){for(var t=this,r=e.nodes,n=e.edges,o={},i={nodes:[],edges:[]},a=0;a<r.length;a++){var c=r[a],u=c.id,s=this.addNode(c);if(!s)return;u&&(o[u]=s.id),i.nodes.push(s)}return n.forEach((function(e){var r=e.sourceNodeId,n=e.targetNodeId;o[r]&&(e.sourceNodeId=o[r]),o[n]&&(e.targetNodeId=o[n]);var a=t.graphModel.createEdge(e);i.edges.push(a)})),i}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"createFakerNode",value:function(e){var t=this.graphModel.modelMap.get(e.type);if(t){var r=new t(e,this.graphModel);return this.graphModel.setFakerNode(r),r}console.warn("\u4e0d\u5b58\u5728\u4e3a".concat(e.type,"\u7c7b\u578b\u7684\u8282\u70b9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(e){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(e)}},{key:"getAreaElement",value:function(e,t){return this.graphModel.getAreaElement(e,t).map((function(e){return e.getData()}))}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(e,t){this.viewMap.set(e,t)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adapterIn&&(e=this.adapterIn(e)),this.graphModel.graphDataToModel(Cu(e)),this.options.isSilentMode||!1===this.options.history||this.history.watch(this.graphModel),G(b(Ep,{eventCenter:this.eventCenter,getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container)}}])&&mO(t.prototype,r),n&&mO(t,n),e}();function wO(e){return qt(e)}OO(xO,"extensions",new Map),t.default=xO}])},86:function(e,t,r){}},[[244,1,2]]]);
//# sourceMappingURL=main.103f52f9.chunk.js.map